/*
 ******************************************************** !*\
  !*** ./node_modules/detect-gpu/dist/detect-gpu.esm.js ***!
  \******************************************************* exports provided: getGPUTier  *************************************** !*\
  !*** ./src/zonemasters/adstrategy.ts ***!
  \************************************** no static exports found  ******************************************************* !*\
  !*** ./src/zonemasters/components/bannercomponent.ts ***!
  \****************************************************** ./supercomponent  ../adstrategy  ********************************************************* !*\
  !*** ./src/zonemasters/components/createjscomponent.ts ***!
  \******************************************************** ************************************************* !*\
  !*** ./src/zonemasters/components/editorial.ts ***!
  \************************************************ ../utils  ************************************************* !*\
  !*** ./src/zonemasters/components/imaplayer.ts ***!
  \************************************************ ***************************************************** !*\
  !*** ./src/zonemasters/components/instreamvideo.ts ***!
  \**************************************************** ./videoplayer  ./imaplayer  *************************************************** !*\
  !*** ./src/zonemasters/components/onrpghotbox.ts ***!
  \************************************************** ./editorial  ******************************************************* !*\
  !*** ./src/zonemasters/components/scriptcomponent.ts ***!
  \****************************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/segmentedvideo.ts ***!
  \***************************************************** ************************************************ !*\
  !*** ./src/zonemasters/components/siteskin.ts ***!
  \*********************************************** ****************************************************** !*\
  !*** ./src/zonemasters/components/supercomponent.ts ***!
  \***************************************************** ../requests/superrequest  SuperClasses/rootcomponent  *************************************************** !*\
  !*** ./src/zonemasters/components/videoplayer.ts ***!
  \************************************************** *************************************** !*\
  !*** ./src/zonemasters/data/steam.ts ***!
  \************************************** ****************************************** !*\
  !*** ./src/zonemasters/mobilemodules.ts ***!
  \***************************************** ./utils  ./requests/starbannerrequest  ./requests/starjsonrequest  ./requests/headerbiddingrequest  ./requests/editorialrequest  ./requests/skinrequest  ./components/supercomponent  ./components/bannercomponent  ./components/editorial  ./components/onrpghotbox  ./components/instreamvideo  ./components/scriptcomponent  ./components/siteskin  ./components/createjscomponent  SuperClasses/componentregistry  ./components/segmentedvideo  detect-gpu  ./data/steam  ****************************************************** !*\
  !*** ./src/zonemasters/requests/editorialrequest.ts ***!
  \***************************************************** ./superrequest  ********************************************************** !*\
  !*** ./src/zonemasters/requests/headerbiddingrequest.ts ***!
  \********************************************************* ************************************************* !*\
  !*** ./src/zonemasters/requests/skinrequest.ts ***!
  \************************************************ ./editorialrequest  ******************************************************* !*\
  !*** ./src/zonemasters/requests/starbannerrequest.ts ***!
  \****************************************************** ***************************************************** !*\
  !*** ./src/zonemasters/requests/starjsonrequest.ts ***!
  \**************************************************** ************************************************** !*\
  !*** ./src/zonemasters/requests/superrequest.ts ***!
  \************************************************* ***************************************************************** !*\
  !*** ./src/zonemasters/superclasses/basic/componentregistry.ts ***!
  \**************************************************************** ************************************************************* !*\
  !*** ./src/zonemasters/superclasses/basic/rootcomponent.ts ***!
  \************************************************************ ********************************** !*\
  !*** ./src/zonemasters/utils.ts ***!
  \********************************* ************************************************ !*\
  !*** multi ./src/zonemasters/mobilemodules.ts ***!
  \*********************************************** ./src/zonemasters/mobilemodules.ts */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,k,n){e!=Array.prototype&&e!=Object.prototype&&(e[k]=n.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var e=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+e++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var k=0;return $jscomp.iteratorPrototype(function(){return k<e.length?{done:!1,value:e[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var k=e[Symbol.iterator];return k?k.call(e):$jscomp.arrayIterator(e)};$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},k={};try{return k.__proto__=e,k.a}catch(n){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,k){e.__proto__=k;if(e.__proto__!==k)throw new TypeError(e+" is not extensible");return e}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e};$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(e,k){this.nextAddress=k;return{value:e}};$jscomp.generator.Context.prototype.yieldAll=function(e,k){e=$jscomp.makeIterator(e);var n=e.next();$jscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=k;else return this.yieldAllIterator_=e,this.yield(n.value,k)};
$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,k){this.catchAddress_=e;void 0!=k&&(this.finallyAddress_=k)};$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0;this.finallyAddress_=e||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(e,k){this.nextAddress=e;this.catchAddress_=k||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;e=this.abruptCompletion_.exception;this.abruptCompletion_=null;return e};$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,k,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=e||0;this.finallyAddress_=k||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,k){k=this.finallyContexts_.splice(k||0)[0];if(k=this.abruptCompletion_=this.abruptCompletion_||k){if(k.isException)return this.jumpToErrorHandler_();void 0!=k.jumpTo&&this.finallyAddress_<k.jumpTo?(this.nextAddress=k.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e};$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)};
$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e;this.properties_=[];for(var k in e)this.properties_.push(k);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null};$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context;this.program_=e};
$jscomp.generator.Engine_.prototype.next_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_);this.context_.next_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var k=this.context_.yieldAllIterator_;if(k)return this.yieldAllStep_("return"in k?k["return"]:function(k){return{value:k,done:!0}},e,this.context_.return);this.context_.return(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],e,this.context_.next_);this.context_.throw_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,k,n){try{var r=e.call(this.context_.yieldAllIterator_,k);$jscomp.generator.ensureIteratorResultIsObject_(r);if(!r.done)return this.context_.stop_(),r;var p=r.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,p);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(k){this.context_.yieldResult=void 0,this.context_.throw_(k)}this.context_.stop_();if(this.context_.abruptCompletion_){e=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(e){this.next=function(k){return e.next_(k)};this.throw=function(k){return e.throw_(k)};this.return=function(k){return e.return_(k)};$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(e,k){k=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(k));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(k,e.prototype);return k};
$jscomp.polyfill=function(e,k,n,r){if(k){n=$jscomp.global;e=e.split(".");for(r=0;r<e.length-1;r++){var p=e[r];p in n||(n[p]={});n=n[p]}e=e[e.length-1];r=n[e];k=k(r);k!=r&&null!=k&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:k})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(e){function k(){this.batch_=null}function n(f){return f instanceof p?f:new p(function(b,l){b(f)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;k.prototype.asyncExecute=function(f){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(f);return this};k.prototype.asyncExecuteBatch_=function(){var f=this;this.asyncExecuteFunction(function(){f.executeBatch_()})};var r=$jscomp.global.setTimeout;k.prototype.asyncExecuteFunction=function(f){r(f,
0)};k.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var f=this.batch_;this.batch_=[];for(var b=0;b<f.length;++b){var l=f[b];f[b]=null;try{l()}catch(d){this.asyncThrow_(d)}}}this.batch_=null};k.prototype.asyncThrow_=function(f){this.asyncExecuteFunction(function(){throw f;})};var p=function(f){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{f(b.resolve,b.reject)}catch(l){b.reject(l)}};p.prototype.createResolveAndReject_=
function(){function f(d){return function(a){l||(l=!0,d.call(b,a))}}var b=this,l=!1;return{resolve:f(this.resolveTo_),reject:f(this.reject_)}};p.prototype.resolveTo_=function(f){if(f===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof p)this.settleSameAsPromise_(f);else{a:switch(typeof f){case "object":var b=null!=f;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(f):this.fulfill_(f)}};p.prototype.resolveToNonPromiseObj_=function(f){var b=
void 0;try{b=f.then}catch(l){this.reject_(l);return}"function"==typeof b?this.settleSameAsThenable_(b,f):this.fulfill_(f)};p.prototype.reject_=function(f){this.settle_(2,f)};p.prototype.fulfill_=function(f){this.settle_(1,f)};p.prototype.settle_=function(f,b){if(0!=this.state_)throw Error("Cannot settle("+f+", "+b+"): Promise already settled in state"+this.state_);this.state_=f;this.result_=b;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var f=
0;f<this.onSettledCallbacks_.length;++f)u.asyncExecute(this.onSettledCallbacks_[f]);this.onSettledCallbacks_=null}};var u=new k;p.prototype.settleSameAsPromise_=function(f){var b=this.createResolveAndReject_();f.callWhenSettled_(b.resolve,b.reject)};p.prototype.settleSameAsThenable_=function(f,b){var l=this.createResolveAndReject_();try{f.call(b,l.resolve,l.reject)}catch(d){l.reject(d)}};p.prototype.then=function(f,b){function l(g,c){return"function"==typeof g?function(c){try{d(g(c))}catch(q){a(q)}}:
c}var d,a,m=new p(function(g,c){d=g;a=c});this.callWhenSettled_(l(f,d),l(b,a));return m};p.prototype.catch=function(f){return this.then(void 0,f)};p.prototype.callWhenSettled_=function(f,b){function l(){switch(d.state_){case 1:f(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?u.asyncExecute(l):this.onSettledCallbacks_.push(l)};p.resolve=n;p.reject=function(f){return new p(function(b,l){l(f)})};p.race=function(f){return new p(function(b,
l){for(var d=$jscomp.makeIterator(f),a=d.next();!a.done;a=d.next())n(a.value).callWhenSettled_(b,l)})};p.all=function(f){var b=$jscomp.makeIterator(f),l=b.next();return l.done?n([]):new p(function(d,a){function m(a){return function(h){g[a]=h;c--;0==c&&d(g)}}var g=[],c=0;do g.push(void 0),c++,n(l.value).callWhenSettled_(m(g.length-1),a),l=b.next();while(!l.done)})};return p},"es6","es3");
$jscomp.polyfill("Object.is",function(e){return e?e:function(k,e){return k===e?0!==k||1/k===1/e:k!==k&&e!==e}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(e){return e?e:function(k,e){var r=this;r instanceof String&&(r=String(r));var p=r.length;e=e||0;for(0>e&&(e=Math.max(e+p,0));e<p;e++){var u=r[e];if(u===k||Object.is(u,k))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(e,k,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""};$jscomp.polyfill("String.prototype.includes",function(e){return e?e:function(e,n){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,n||0)}},"es6","es3");
$jscomp.findInternal=function(e,k,n){e instanceof String&&(e=String(e));for(var r=e.length,p=0;p<r;p++){var u=e[p];if(k.call(n,u,p,e))return{i:p,v:u}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,n){return $jscomp.findInternal(this,e,n).v}},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(e){return e||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.iteratorFromArray=function(e,k){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var p=n++;return{value:k(p,e[p]),done:!1}}r.next=function(){return{done:!0,value:void 0}};return r.next()}};r[Symbol.iterator]=function(){return r};return r};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3");
(function(e){function k(r){if(n[r])return n[r].exports;var p=n[r]={i:r,l:!1,exports:{}};e[r].call(p.exports,p,p.exports,k);p.l=!0;return p.exports}var n={};k.m=e;k.c=n;k.d=function(e,p,u){k.o(e,p)||Object.defineProperty(e,p,{enumerable:!0,get:u})};k.r=function(e){$jscomp.initSymbol();$jscomp.initSymbol();"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(e,"__esModule",{value:!0})};k.t=function(e,
p){p&1&&(e=k(e));if(p&8||p&4&&"object"===typeof e&&e&&e.__esModule)return e;var u=Object.create(null);k.r(u);Object.defineProperty(u,"default",{enumerable:!0,value:e});if(p&2&&"string"!=typeof e)for(var f in e)k.d(u,f,function(b){return e[b]}.bind(null,f));return u};k.n=function(e){var p=e&&e.__esModule?function(){return e["default"]}:function(){return e};k.d(p,"a",p);return p};k.o=function(e,k){return Object.prototype.hasOwnProperty.call(e,k)};k.p="";return k(k.s=0)})({"./node_modules/detect-gpu/dist/detect-gpu.esm.js":function(e,
k,n){function r(c,a,q,g){return new (q||(q=Promise))(function(h,b){function d(c){try{v(g.next(c))}catch(x){b(x)}}function m(c){try{v(g.throw(c))}catch(x){b(x)}}function v(c){var a;c.done?h(c.value):(a=c.value,a instanceof q?a:new q(function(c){c(a)})).then(d,m)}v((g=g.apply(c,a||[])).next())})}n.r(k);n.d(k,"getGPUTier",function(){return g});var p="geforce 320m;geforce 8600;geforce 8600m gt;geforce 8800 gs;geforce 8800 gt;geforce 9400;geforce 9400m g;geforce 9400m;geforce 9600m gt;geforce 9600m;geforce fx go5200;geforce gt 120;geforce gt 130;geforce gt 330m;geforce gtx 285;google swiftshader;intel g41;intel g45;intel gma 4500mhd;intel gma x3100;intel hd 3000;intel q45;legacy;mali-2;mali-3;mali-4;quadro fx 1500;quadro fx 4;quadro fx 5;radeon hd 2400;radeon hd 2600;radeon hd 4670;radeon hd 4850;radeon hd 4870;radeon hd 5670;radeon hd 5750;radeon hd 6290;radeon hd 6300;radeon hd 6310;radeon hd 6320;radeon hd 6490m;radeon hd 6630m;radeon hd 6750m;radeon hd 6770m;radeon hd 6970m;radeon r9 200;sgx 543;sgx543".split(";"),
u=function(c){return c.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},f="undefined"==typeof window,b=function(){if(!f){var c=window.navigator,a=c.userAgent,q=c.platform,g=c.maxTouchPoints;c=/(iphone|ipod|ipad)/i.test(a);q="iPad"===q||"MacIntel"===q&&0<g&&!window.MSStream;return{isIpad:q,isMobile:/android/i.test(a)||c||q,isSafari12:/Version\/12.+Safari/.test(a)}}}(),l=function(c,a,q){if("apple gpu"===a){a=[a];if(q){var h=c.createShader(35633),
g=c.createShader(35632);q=c.createProgram();g&&h&&q&&(c.shaderSource(h,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),c.shaderSource(g,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),
c.compileShader(h),c.compileShader(g),c.attachShader(q,h),c.attachShader(q,g),c.linkProgram(q),c.detachShader(q,h),c.detachShader(q,g),c.deleteShader(h),c.deleteShader(g),c.useProgram(q),h=c.createBuffer(),c.bindBuffer(34962,h),c.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044),g=c.getAttribLocation(q,"aPosition"),c.vertexAttribPointer(g,3,5126,!1,0,0),c.enableVertexAttribArray(g),c.clearColor(1,1,1,1),c.clear(16384),c.viewport(0,0,1,1),c.drawArrays(4,0,3),g=new Uint8Array(4),c.readPixels(0,
0,1,1,6408,5121,g),c.deleteProgram(q),c.deleteBuffer(h),a={801621810:(null==b?0:b.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==b?0:b.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[g.join("")]||a)}c=a}else c=[a];return c},d=[],a=[],m=function(c,h){if(c===h)return 0;var g=c;c.length>h.length&&(c=h,h=g);g=c.length;for(var b=h.length;0<g&&c.charCodeAt(~-g)===h.charCodeAt(~-b);)g--,b--;for(var m=
0;m<g&&c.charCodeAt(m)===h.charCodeAt(m);)m++;if(g-=m,b-=m,0===g)return b;for(var l,f,u=0,e=0,k=0;e<g;)a[e]=c.charCodeAt(m+e),d[e]=++e;for(;k<b;)for(c=h.charCodeAt(m+k),l=k++,u=k,e=0;e<g;e++)f=c===a[e]?l:l+1,l=d[e],u=d[e]=l>u?f>u?u+1:f:f>l?l+1:f;return u},g=function(c){c=void 0===c?{}:c;var a=void 0===c.mobileTiers?[0,15,30,60]:c.mobileTiers,g=void 0===c.desktopTiers?[0,15,30,60]:c.desktopTiers,d=void 0===c.override?{}:c.override,A=c.glContext,w=void 0===c.failIfMajorPerformanceCaveat?!1:c.failIfMajorPerformanceCaveat,
e=void 0===c.benchmarksURL?"https://unpkg.com/detect-gpu@3.1.30/dist/benchmarks":c.benchmarksURL;return r(void 0,void 0,void 0,function P(){var c,h,q,v,k,W,n,t,O,Y,U,Q,ja,F,V,L,C,y,S,ea,sa,I;return $jscomp.generator.createGenerator(P,function(x){if(1==x.nextAddress){c={};if(f)return x.return({tier:0,type:"SSR"});h=d;q=void 0===h.isIpad?!(null==b||!b.isIpad):h.isIpad;v=void 0===h.isMobile?!(null==b||!b.isMobile):h.isMobile;k=void 0===h.screenSize?window.screen:h.screenSize;W=void 0===h.loadBenchmarks?
function(c){return r(void 0,void 0,void 0,function K(){var a;return $jscomp.generator.createGenerator(K,function(h){if(1==h.nextAddress)return h.yield(fetch(e+"/"+c).then(function(c){return c.json()}),2);a=h.yieldResult;return h.return((a.shift(),a))})})}:h.loadBenchmarks;n=d;t=n.renderer;O=function(c,a,h,g,q){return{device:q,fps:g,gpu:h,isMobile:v,tier:c,type:a}};U="";if(t)t=u(t),Y=[t];else{Q=A||function(c,a){a={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:void 0===a?!1:a,powerPreference:"high-performance",
stencil:!1};c&&delete a.powerPreference;c=window.document.createElement("canvas");c=c.getContext("webgl",a)||c.getContext("experimental-webgl",a);return null!=c?c:void 0}(null==b?void 0:b.isSafari12,w);if(!Q)return x.return(O(0,"WEBGL_UNSUPPORTED"));ja=Q.getExtension("WEBGL_debug_renderer_info");if(ja&&(t=Q.getParameter(ja.UNMASKED_RENDERER_WEBGL)),!t)return x.return(O(1,"FALLBACK"));U=t;t=u(t);Y=l(Q,t,v)}return x.yield(Promise.all(Y.map(function(a){return r(void 0,void 0,void 0,function K(){var h,
g,b,d,l,w,f,A,e,u,p,x,y,qa,t,n,r,E,I,ea,B,P,T,L,C,z,J;return $jscomp.generator.createGenerator(K,function(ba){switch(ba.nextAddress){case 1:h=function(c){for(var a=$jscomp.makeIterator(v?"adreno apple mali-t mali nvidia powervr".split(" "):["intel","amd","radeon","nvidia","geforce"]),h=a.next();!h.done;h=a.next())if(h=h.value,c.includes(h))return h}(a);if(!h)return ba.return();g=(v?"m":"d")+"-"+h+".json";b=c[g]=c[g]||W(g);ba.setCatchFinallyBlocks(2);return ba.yield(b,4);case 4:d=ba.yieldResult;ba.leaveTryBlock(3);
break;case 2:return ba.enterCatchBlock(),ba.return();case 3:l=function(c){var a,h=(c=c.replace(/\([^)]+\)/,"")).match(/\d+/)||c.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(a=null==h?void 0:h.join("").replace(/\W|amd/g,""))&&void 0!==a?a:""}(a);w="apple"===h;f=d.filter(function(c){c=$jscomp.makeIterator(c);c.next();return c.next().value===l});f.length||(f=d.filter(function(c){return $jscomp.makeIterator(c).next().value.includes(a)}));A=f.length;if(0===A)return ba.return();u=$jscomp.makeIterator(1<
A?f.map(function(c){return[c,m(a,c[0])]}).sort(function(c,a){c=$jscomp.makeIterator(c);c.next();c=c.next().value;a=$jscomp.makeIterator(a);a.next();a=a.next().value;return c-a})[0][0]:f[0]);p=u.next().value;u.next();u.next();x=u.next().value;y=Number.MAX_VALUE;qa=window;t=qa.devicePixelRatio;n=k.width*t*k.height*t;w&&v&&(x=x.filter(function(c){c=$jscomp.makeIterator(c);c.next();c.next();c.next();c=c.next().value;var a;return-1<(null!==(a=null==c?void 0:c.indexOf(q?"ipad":"iphone"))&&void 0!==a?a:
-1)}));r=$jscomp.makeIterator(x);for(E=r.next();!E.done;E=r.next())I=E.value,ea=$jscomp.makeIterator(I),B=ea.next().value,P=ea.next().value,T=B*P,L=Math.abs(n-T),L<y&&(y=L,e=I);if(!e)return ba.return();C=$jscomp.makeIterator(e);C.next();C.next();z=C.next().value;J=C.next().value;return ba.return([y,z,p,J])}})})})),2)}F=x.yieldResult.filter(function(c){return!!c});if(!F.length)return V=p.find(function(c){return t.includes(c)}),x.return(V?O(0,"BLOCKLISTED",V):O(1,"FALLBACK",t+" ("+U+")"));L=$jscomp.makeIterator(F.sort(function(c,
a){c=$jscomp.makeIterator(c).next().value;c=void 0===c?Number.MAX_VALUE:c;a=$jscomp.makeIterator(a).next().value;return c-(void 0===a?Number.MAX_VALUE:a)})[0]);L.next();C=L.next().value;y=L.next().value;S=L.next().value;if(-1===C)return x.return(O(0,"BLOCKLISTED",y,C,S));ea=v?a:g;for(I=sa=0;I<ea.length;I++)C>=ea[I]&&(sa=I);return x.return(O(sa,"BENCHMARK",y,C,S))})})}},"./src/zonemasters/adstrategy.ts":function(e,k,n){Object.defineProperty(k,"__esModule",{value:!0});k.TotalCPMStrategy=void 0;k.TotalCPMStrategy=
function(e){e.refreshrate||(e.refreshrate=14E4);e.minslice||(e.minslice=1E4);e.minslicecpmpercent||(e.minslicecpmpercent=.85);return function(k){for(var u,f,b,l,d,a=0,m=null,g={},c=(new Date).getTime(),h=0;h<k.length;h++)for(var q=k[h],v=0;v<e.match.length;v++){var A=e.match[v],w=Math.max(null!==(u=A.multi)&&void 0!==u?u:1,null!==(f=A.target)&&void 0!==f?f:1);A.bidInfos&&A.bidInfos.length==w||A.w&&q.w!=A.w||A.h&&q.h!=A.h||A.mediaType&&q.mediaType!=A.mediaType||A.bidder&&q.bidder!=A.bidder||A.minBid&&
q.cpm<A.minBid||(g[v]||(g[v]={bidInfos:[],totalCpm:0,totalMs:0}),g[v].w&&q.w!=g[v].w||g[v].h&&q.h!=g[v].h||(A.fixedSize&&(g[v].w=q.w,g[v].h=q.h),g[v].bidInfos.length<w&&g[v].bidInfos.push(q)))}k={picks:[]};for(v=0;v<e.match.length;v++){h=0;A=e.match[v];w=Math.max(null!==(b=A.multi)&&void 0!==b?b:1,null!==(l=A.target)&&void 0!==l?l:1);A=null!==(d=A.target)&&void 0!==d?d:1;u=g[v];for(f=0;f<(-1==A?w:A)&&f<u.bidInfos.length;f++)h+=u.bidInfos[f].cpm;q=[];var p=0,ia=0;for(f=0;f<u.bidInfos.length;f++){var n=
u.bidInfos[f],r=Math.max(e.minslice,n.cpm/h);if(n.expires>c+ia){q.push(n);if(-1==A||q.length<=A)p+=n.cpm;ia+=r;if(q.length>=w||ia>e.refreshrate)break}}u.totalCpm=p;u.bidInfos=q;p>a&&(m=u,a=p)}if(m)for(h=k.totalCPM=0;h<m.bidInfos.length&&!(b=m.bidInfos[h],k.picks.push({adId:b.adId,cpm:b.cpm,w:b.w,h:b.h}),b.cpm&&(k.totalCPM+=b.cpm),e.maxslices&&0<e.maxslices&&k.picks.length>=e.maxslices);h++);return k}}},"./src/zonemasters/components/bannercomponent.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=
function(f,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return e(f,b)};return function(f,b){function l(){this.constructor=f}e(f,b);f.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)}}();Object.defineProperty(k,"__esModule",{value:!0});e=n("./src/zonemasters/components/supercomponent.ts");var p=n("./src/zonemasters/adstrategy.ts");n=function(e){function f(b,l){b=e.call(this,
b,l)||this;b.becameViewable=!1;b.isAttached=!0;b.isDetachable=!1;b.closeDiv=null;b.timeSliceBlocked=!1;return b}r(f,e);f.prototype.testResponseValidity=function(b){var l,d,a,m,g,c,h,q,v,f,w,u,k=null!==(l=this.module.options.maxslices)&&void 0!==l?l:-1;if(b){this||b(!1);this.res||b(!1);try{if(this.module.options.areaslice&&this.res.pickAds&&this.module.options.width&&this.module.options.height){var n={minslice:null!==(d=this.module.options.minslice)&&void 0!==d?d:this.DEFAULTMINSLICE,minslicecpmpercent:null!==
(a=this.module.options.minslicecpmpercent)&&void 0!==a?a:this.DEFAULTMINSLICECPMPERCENT,refreshrate:null!==(m=this.module.options.refreshrate)&&void 0!==m?m:this.DEFAULTREFRESHRATE,maxslices:k,match:[{w:null,h:null,target:1}]};970==this.module.options.width?n.match.push({fixedSize:!0,w:300,h:250,multi:null!==(g=this.module.options.slicemulti)&&void 0!==g?g:this.DEFAULTSLICEMULTI,target:3}):300==this.module.options.width&&600==this.module.options.height&&n.match.push({fixedSize:!0,w:300,h:250,multi:null!==
(c=this.module.options.slicemulti)&&void 0!==c?c:this.DEFAULTSLICEMULTI,target:2});var r=p.TotalCPMStrategy(n);this.pickResult=this.res.pickAds(this.module,r);var x=null===(h=this.pickResult)||void 0===h?void 0:h.picks;this.pickResult&&x?(this.mm.log("Area slicing returned "+x.length+" picks worth $"+this.pickResult.totalCPM.toFixed(2)+" CPM"),e.prototype.testResponseValidity.call(this,b)):b(!1)}else if(this.module.options.timeslice&&!this.timeSliceBlocked&&this.res.pickAds){var M=p.TotalCPMStrategy({minslice:null!==
(q=this.module.options.minslice)&&void 0!==q?q:this.DEFAULTMINSLICE,refreshrate:null!==(v=this.module.options.refreshrate)&&void 0!==v?v:this.DEFAULTREFRESHRATE,minslicecpmpercent:null!==(f=this.module.options.minslicecpmpercent)&&void 0!==f?f:this.DEFAULTMINSLICECPMPERCENT,maxslices:k,match:[{fixedSize:!0,multi:null!==(w=this.module.options.slicemulti)&&void 0!==w?w:this.DEFAULTSLICEMULTI,target:k},{w:null,h:null,target:1}]});this.pickResult=this.res.pickAds(this.module,M);x=null===(u=this.pickResult)||
void 0===u?void 0:u.picks;this.pickResult&&x?e.prototype.testResponseValidity.call(this,b):b(!1)}else e.prototype.testResponseValidity.call(this,b)}catch(X){b(!1)}}};f.prototype.getRenderTargetDivID=function(b){void 0===b&&(b=0);var l=e.prototype.getRenderTargetDivID.call(this,b);return this.module.options.areaslice?l+"_"+b:l};f.prototype.render=function(b,l,d){var a,m,g,c=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=1==this.module.options.requireViewable||"true"==this.module.options.requireViewable?
!0:!1;var h=this.module.renderIndex,q=970==this.module.options.width?3:2;if(this.module.options.areaslice&&c&&c.length>=h+q&&(this.module.options.width||this.module.options.height)){q=this.pickResult.picks;l=1;c=d="0";var v=null!==(m=this.module.options.width)&&void 0!==m?m:q[0].w;m=null!==(g=this.module.options.height)&&void 0!==g?g:q[0].h;for(var f=g=0,w=0,u=0;h<q.length;h++)g+q[h].w<=v&&(g+=q[h].w,w++),f+q[h].h<=m&&(f+=q[h].h,u++);1<w?(l=w,b.style.display="inline-block",d=(v-g)/(l-1)+"px"):1<u&&
(l=u,b.style.display="block",c=(m-f)/(l-1)+"px");if(!a||this.isViewable(b,null))for(b.innerHTML="",a=0;a<l;a++)if(h=document.createElement("div"),h.id=this.getRenderTargetDivID(a),b.appendChild(h),this.res.renderAd(this.module,h,null,{blockGam:!0}),this.res.nextAd(this.module))a!=l-1&&(h.style.marginRight=d,h.style.marginBottom=c);else break}else e.prototype.render.call(this,b,l,d)};f.prototype.init=function(b,l){function d(){!c.becameViewable&&c.isViewable(q,null)&&b.renderAd&&(c.render(q),c.becameViewable=
!0,c.removeEventListener("DOMContentLoaded",d),c.removeEventListener("load",d),c.removeEventListener("scroll",d),c.removeEventListener("resize",d),c.removeEventListener("orientationchange",d))}function a(){var a=q.ownerDocument?q.ownerDocument:document;if(c.becameViewable&&c.isDetachable)if(c.isViewable(v,null))c.isAttached||(h=a.getElementById(String(c.module.info.name).replace(/\s/g,"")),h.style.display="none",q.style.position="static",c.isAttached=!0);else if(c.isAttached){if(!c.closeDiv){c.closeDiv=
a.createElement("div");c.closeDiv.style.backgroundColor="white";c.closeDiv.style.color="#77b0f2";c.closeDiv.style.height="20px";c.closeDiv.style.width="60px";c.closeDiv.style.position="relative";var h=parseInt(String(q.offsetWidth))/2-30;c.closeDiv.style.left=""+h+"px";c.closeDiv.style.top="1px";c.closeDiv.id=c.module.info.name?String(c.module.info.name).replace(/\s/g,""):"closeDiv";c.closeDiv.innerHTML="Close Ad";c.closeDiv.style.borderRadius="2px";c.closeDiv.style.cursor="pointer";c.closeDiv.addEventListener("click",
function(){c.isDetachable=!1;q.style.position="static";c.isAttached=!0;a.getElementById(String(c.module.info.name).replace(/\s/g,"")).style.display="none"});q.insertBefore(c.closeDiv,q.firstElementChild)}h=a.getElementById(String(c.module.info.name).replace(/\s/g,""));h.style.display="block";q.style.position="fixed";q.style.bottom="0px";c.isAttached=!1}}var m,g;e.prototype.init.call(this,b,l);var c=this;if(c.module.options.maxHeight&&((null===(g=null===(m=c.mm.zonedata)||void 0===m?void 0:m.options)||
void 0===g?0:g.cls)||c.module.options.cls))try{var h=""+parseInt(c.module.options.maxHeight)+"px";c.setCss({".cls":{display:"flex","justify-content":"center","align-items":"center","min-height":h}});c.module.div.classList.add("cls")}catch(A){}var q=this.getRenderTarget(),v=q.parentNode;c.timeSliceBlocked=!1;if(c.halt||c.mm.isAdBlockerOn())c.timeSliceBlocked=!0;if(this.mm.locationData)for(l=0;l<c.TIMESLICEGEOSBLOCKED.length;l++)if(m=c.TIMESLICEGEOSBLOCKED[l],m.countryCode&&this.mm.locationData.countryCode==
m.countryCode&&(null==m.region||m.region==this.mm.locationData.region)){c.timeSliceBlocked=!0;break}!this.module.options.timeslice||c.timeSliceBlocked||c.mm.isAdBlockerOn()||this.initSliceManager();this.isDetachable=1==this.module.options.isDetachable||"true"==this.module.options.isDetachable?!0:!1;1!=this.module.options.requireViewable&&"true"!=this.module.options.requireViewable||e.prototype.isViewable.call(this,q,null)?(c.render(q),c.becameViewable=!0):(c.onEvent(window,"DOMContentLoaded",d),c.onEvent(window,
"load",d),c.onEvent(window,"scroll",d),c.onEvent(window,"resize",d),c.onEvent(window,"orientationchange",d));this.isDetachable&&(c.onEvent(window,"DOMContentLoaded",a),c.onEvent(window,"load",a),c.onEvent(window,"scroll",a),c.onEvent(window,"resize",a),c.onEvent(window,"orientationchange",a))};return f}(e.default);k.default=n},"./src/zonemasters/components/createjscomponent.ts":function(e,k,n){Object.defineProperty(k,"__esModule",{value:!0});var r=n("./src/zonemasters/components/supercomponent.ts"),
p=n("./src/zonemasters/adstrategy.ts");k.default=function(e,f){var b=function(b,d){r.default.call(this,b,d)};b.prototype=Object.create(r.default.prototype);b.prototype.constructor=b;b.prototype.getRequestData=function(){var b=r.default.prototype.getRequestData.call(this);if(null!=e&&e.request)for(var d=Object.keys(e.request),a=0;a<d.length;a++){var m=d[a];b[m]=b[m]?b[m]:e.request[m]}return b};b.prototype.init=function(b,d){r.default.prototype.init.call(this,b,d);d=this.module.options;if(null!=e&&
e.options)for(var a=Object.keys(e.options),m=0;m<a.length;m++){var g=a[m];d[g]=d[g]?d[g]:e.options[g]}this.module.requestInstance&&this.module.requestInstance.config&&(d.pid=this.module.requestInstance.config.poolid);d.renderAd=b.renderAd.bind(b,this.module);d.triggerEvent=this.triggerEvent.bind(this);null==d.el&&(this.module.el||this.module.target)&&this.module.div&&(d.el=this.module.div.parentNode);this.jsController=window[f](d);this.module.options.timeslice&&this.initSliceManager()};b.prototype.tryNextTimeslice=
function(){var b=(new Date).getTime();if(b<this.nextSliceTimestamp)b-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+b+"ms"),this.setSliceTimer(b);else{b=this.getRenderTarget();var d=5E3;this.isViewable(b,null)&&(this.res.nextAd(this.module)&&(b={kind:"adcmd",command:"refresh",renderFn:this.res.renderAd.bind(this.res,this.module)},this.jsController?this.jsController.adcmd(b):this.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")),d=this.getNextTimesliceMs());
this.setSliceTimer(d)}};b.prototype.testResponseValidityHelper=function(b){var d=this;r.default.prototype.testResponseValidity.call(this,function(a){a?d.res?window[f].validityTest?(a=window[f].testValidity(d.res),b(a)):b(!0):b(!1):b(!1)})};b.prototype.testResponseValidity=function(b){var d,a,m,g,c,h,q,v,l=null!==(d=this.module.options.maxslices)&&void 0!==d?d:-1;if(this.module.options.timeslice)if(d=p.TotalCPMStrategy({minslicecpmpercent:null!==(a=this.module.options.minslicecpmpercent)&&void 0!==
a?a:this.DEFAULTMINSLICECPMPERCENT,minslice:null!==(m=this.module.options.minslice)&&void 0!==m?m:this.DEFAULTMINSLICE,refreshrate:null!==(g=this.module.options.refreshrate)&&void 0!==g?g:this.DEFAULTREFRESHRATE,match:[{fixedSize:!0,multi:null!==(c=this.module.options.slicemulti)&&void 0!==c?c:this.DEFAULTSLICEMULTI,target:l},{fixedSize:!0,multi:null!==(h=this.module.options.slicemulti)&&void 0!==h?h:this.DEFAULTSLICEMULTI,target:l},{fixedSize:!0,multi:null!==(q=this.module.options.slicemulti)&&void 0!==
q?q:this.DEFAULTSLICEMULTI,target:l},{w:null,h:null,target:1}]}),this.res.pickAds)if(this.pickResult=this.res.pickAds(this.module,d),a=null===(v=this.pickResult)||void 0===v?void 0:v.picks,0<l&&(a=a.slice(this.module.options.maxslices)),this.pickResult&&a){for(v=this.pickResult.totalCPM=0;v<a.length;v++)a[v].cpm&&(this.pickResult.totalCPM+=a[v].cpm);this.testResponseValidityHelper(b)}else b(!1);else b(!1);else this.testResponseValidityHelper(b)};b.prototype.adcmd=function(b){var d=this;"object"===
typeof b&&("refresh"===b.command?this.request(function(){b.renderFn=d.res.renderAd.bind(d.res,d.module);d.jsController?d.jsController.adcmd(b):d.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller")}):"addEventListener"===b.command?this.addEventListener.apply(this,b.args):"removeEventListener"===b.command?this.removeEventListener.apply(this,b.args):this.jsController?this.jsController.adcmd(b):d.mm.log("CPMStar - CreateJSComponent - Could not find jscontroller"))};return b}},"./src/zonemasters/components/editorial.ts":function(e,
k,n){var r=this&&this.__extends||function(){var e=function(f,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return e(f,b)};return function(f,b){function l(){this.constructor=f}e(f,b);f.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/utils.ts");e=function(e){function f(b,l){b=e.call(this,b,l)||this;
b.defaultRequestKind="json";return b}r(f,e);f.prototype.convertCreative=function(b){var l=this;b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:p.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(c,a,g,b){var h=p.getCtx();b?(c=getComputedStyle(b),c.fontSize&&c.fontFamily&&(h.font=c.fontSize+" "+c.fontFamily),c=b.offsetWidth-(parseFloat(c.paddingLeft)+parseFloat(c.paddingRight))-(parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth))):
h.font="6px Arial";b=this.creativemacros.DESC300?p.from_utf8(this.creativemacros.DESC300):null;var q=this.creativemacros.DESC?p.from_utf8(this.creativemacros.DESC):null;q=(b?b:q?q:"").split("<br");for(var d=[],m=0;m<q.length;m++)b=q[m],b=b.trim(),"/"==b[0]&&">"==b[1]&&(b=b.slice(2)),b=b.trim(),0<b.length&&d.push(b);q="";var v=0;for(m=0;m<d.length;m++){b=d[m];var f=h.measureText(b).width;f=Math.ceil(f/c);if(1<=v&&v+f>a)break;v+=f;if(null!=g&&q.length+b.length>g){a=!1;if("false"!==l.module.options.endOnPunctuation)for(h=
g-1;h>=Math.ceil(g/1.5);h--)if(" "==b[h]&&("!"==b[h-1]||"."==b[h-1]||"?"==b[h-1])){a=!0;q+=b.slice(0,h);break}a||(q+=b.slice(0,g-q.length-3)+"...");break}else q+=b+"<br/>"}return q}.bind(b);b.getMaxLength=function(c,a){}.bind(b);b.availImages=[];for(var d=Object.keys(b.creativemacros),a=0;a<d.length;a++){var m=d[a],g=null;if("IMAGE"==m.slice(0,5))g=m.slice(5).split("X");else if("BANNER"==m.slice(0,6))g=m.slice(6).split("X");else continue;g&&2==g.length&&b.availImages.push({width:g[0],height:g[1],
url:b.creativemacros[m]})}b.closestAspect=function(c,a,g){if(0==g.length)return{url:"",width:c,height:a};for(var h=c/a,b=-1,q=0;4>q&&-1==b;q++)for(var d=0,m=0;m<g.length;m++)if(!(c>2*g[m].width||c<g[m].width/2||a>2*g[m].height||c<g[m].height/2)){var l=g[m].width/g[m].height/h;1<l&&(l=1/l);l>d&&(d=l,b=m)}-1==b&&(b=0);return g[b]};b.getImageUrl=function(c,a){return b.closestAspect(c,a,b.availImages).url}};f.prototype.init=function(b,l){b=b.getResponseData();var d=this.module.options,a=window.innerWidth<
window.innerHeight?window.innerWidth:window.innerHeight;a=d.descriptionPixelWidth?d.descriptionPixelWidth:a;var m=d.maxDescriptionLines?d.maxDescriptionLines:1,g=d.descriptionLength?d.descriptionLength:120,c=this.module.iteration?this.module.iteration:0,h=d.cap?d.cap:b.creatives?b.creatives.length:20,q=[];if(b.creatives){var v=c%b.creatives.length;for(c=v;c<b.creatives.length&&c<v+h;c++){var f=b.creatives[c];this.convertCreative(f);f.thumbUrl=f.getImageUrl(d.thumbWidth,d.thumbHeight);f.imageUrl=f.getImageUrl(d.imageWidth,
d.imageHeight);f.description=f.getDescription(a,m,g);f.title=f.getTitle();f.clickUrl=f.getLink();null==f.title?(b.creatives.splice(c,1),c--):(q.push(b.creatives[c]),c+1>=b.creatives.length&&q.length<h&&(c=-1,v=0,h-=q.length))}}this.module.creatives=q;e.prototype.init.call(this,b,l);if(d.descriptionTarget&&void 0==this.module.options.sandbox)for(l=this.mm.findEls(d.descriptionTarget,this.module.div),c=0;c<l.length;c++)this.module.creatives&&this.module.creatives[c]&&(l[c].innerHTML=this.module.creatives[c].getDescription(a,
m,g,l[c]))};return f}(n("./src/zonemasters/components/supercomponent.ts").default);k.default=e},"./src/zonemasters/components/imaplayer.ts":function(e,k,n){function r(e){var f=(new MessageChannel).port1;e.dispatchEvent=f.dispatchEvent.bind(f);e.addEventListener=f.addEventListener.bind(f);e.removeEventListener=f.removeEventListener.bind(f)}function p(e){if("function"===typeof Event)var f=new Event(e);else f=document.createEvent("Event"),f.initEvent(e,!1,!1);return f}Object.defineProperty(k,"__esModule",
{value:!0});e=function(){function e(f){this.mm=f;this.paused=this.autoPlayChecked=!1;this.pauseBeganTime=0;this.muted=this.ended=this.began=!1;this.startTime=0;this.mastervideotagurl=null;this.getVolume=function(){return this.adsManager_.getVolume()};this.setVolume=function(b){0>b&&(b=0);1<b&&(b=1);this.adsManager_&&this.adsManager_.setVolume(b);this.volume=b};r(this)}e.prototype.videoEl=function(){return this.videoContent_};e.prototype.dispatchEvent=function(f){return!1};e.prototype.initInternal=
function(f,b,l,d){var a=this;a.mastervideotagurl=f;a.width=b;a.height=l;a.options=d;var m=null;m=this.container_.ownerDocument.getElementById("adContainer");if(null==m)throw this.mm.log("Could not find adcontainer in initInternal"),Error("Could not find adcontainer in initInternal");a.initVideoElement();a.options.clickToPlay?(a.autoPlayChecked=!0,a.adDisplayContainer=new google.ima.AdDisplayContainer(m,a.videoContent_),a.adDisplayContainer.initialize(),a.startAdRequest(!1)):(a.autoPlayAdjustMuted(function(g){a.autoPlayChecked=
!0;a.adDisplayContainer=new google.ima.AdDisplayContainer(m,a.videoContent_);a.adDisplayContainer.initialize();a.startAdRequest(g.requiresMuted)}),a.videoContent_.load())};e.prototype.startAdRequest=function(f){var b=new google.ima.AdsLoader(this.adDisplayContainer);b.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);b.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"),!1);var l=new google.ima.AdsRequest;
l.adTagUrl=this.mastervideotagurl;l.linearAdSlotWidth=parseInt(""+16/9*(0+this.height));l.linearAdSlotHeight=this.height;l.nonLinearAdSlotWidth=parseInt(""+16/9*(0+this.height));l.nonLinearAdSlotHeight=this.height;l.forceNonLinearFullSlot=!0;l.setAdWillAutoPlay(!1);!0===this.options.muted||f?(l.setAdWillPlayMuted(!0),this.setMuted(!0)):(l.setAdWillPlayMuted(!1),this.setMuted(!1));b.requestAds(l)};e.prototype.onTimeout=function(){this.timeoutTimer_=null;this.end("error",null)};e.prototype.initVideoElement=
function(){var f=this.container_.ownerDocument,b=this.videoContent_;b.setAttribute("playsinline","true");b.style.left="0px";b.style.top="0px";b.style.position="absolute";b.style.width="100%";b.style.height="100%";f=f.createElement("source");f.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");f.setAttribute("type","video/mp4");b.appendChild(f);return b};e.prototype.autoPlayAdjustMuted=function(f){void 0===f&&(f=null);var b=this,l=!1,d=!1,a=b.videoContent_,m=function(){a.removeEventListener("error",
m);a.removeEventListener("canplay",g);for(var c=0;c<a.children.length;c++)"source"==a.children[c].tagName.toLowerCase()&&a.children[c].removeEventListener("error",m);d||(d=!0,b.setMuted(!0),f&&f({canAutoplay:!1,requiresMuted:!0}))},g=function(){a.removeEventListener("error",m);a.removeEventListener("canplay",g);for(var c=0;c<a.children.length;c++)"source"==a.children[c].tagName.toLowerCase()&&a.children[c].removeEventListener("error",m);l||(l=!0,b.mm.log("did not autoplay, so call play manually"),
c=a.play(),void 0!==c?c.then(function(){d||(d=!0,f&&f({canAutoplay:!0,requiresMuted:!1}))}).catch(function(c){b.mm.log("call to play prevented so had to mute");b.setMuted(!0);a.play().then(function(){d||(d=!0,f&&f({canAutoplay:!0,requiresMuted:!0}))}).catch(function(c){b.mm.log("call to play failed even when muted");d||(d=!0,f&&f({canAutoplay:!1,requiresMuted:!1}))})}):d||(d=!0,f&&f({canAutoplay:!0,requiresMuted:!1})))};a.addEventListener("error",g);a.addEventListener("canplay",g);for(var c=0;c<a.children.length;c++)"source"==
a.children[c].tagName.toLowerCase()&&a.children[c].addEventListener("error",m)};e.prototype.play=function(){this.adsManager_&&this.paused?(this.paused=!1,this.adsManager_.resume()):!this.adsManager_||this.began||this.ended||(this.adsManager_.start(),this.began=!0)};e.prototype.isSkippable=function(){return this.adsManager_?this.adsManager_.getAdSkippableState():!1};e.prototype.replay=function(){};e.prototype.pause=function(){this.paused||(this.adsManager_.pause(),this.pauseBeganTime=Date.now(),this.paused=
!0)};e.prototype.isPlaying=function(){return this.began&&!this.paused&&!this.ended};e.prototype.isPaused=function(){return this.paused};e.prototype.isMuted=function(){return this.muted};e.prototype.setMuted=function(f){window.navigator.userAgent&&window.navigator.userAgent.toLowerCase();this.adsManager_?f?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1):this.videoContent_&&(this.videoContent_.muted=f);this.muted=f};e.prototype.getSkipOffset=function(){return-1};e.prototype.setSkipOffset=
function(f){};e.prototype.getDuration=function(){return this.adsManager_&&"function"===typeof this.adsManager_.getDuration?this.adsManager_.getDuration():-1};e.prototype.getRemainingTime=function(){return this.adsManager_?this.adsManager_.getRemainingTime():0};e.prototype.close=function(){this.end("skipped")};e.prototype.init=function(f,b,l,d,a){this.width=l;this.height=d;this.options=a;this.container_=b;var m=b.ownerDocument,g=m.createElement("div");this.videoContainer_=g;g.style.position="relative";
g.id="CPMSTAR_VIDEOCONTAINER";g.style.position="absolute";g.style.left="0";g.style.top="0";g.style.bottom="0";g.style.right="0";g.style.zIndex="2147483638";g.style.backgroundColor="black";var c=m.createElement("video");c.id="contentElement";c.style.position="absolute";c.style.left="0";c.style.top="0";c.style.bottom="0";c.style.right="0";this.videoContent_=c;a.className&&c.classList.add(a.className);m=m.createElement("div");m.id="adContainer";this.adContainer_=m;b.appendChild(g);g.appendChild(c);g.appendChild(m);
this.videoContainer_=g;"undefined"!==typeof google&&"undefined"!=typeof google.ima?this.initInternal(f,l,d,a):(b="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this.mm.debug&&(b="https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js"),this.mm.getScript(b,this.initInternal.bind(this,f,l,d,a)));this.startFailsafeTimeout(15)};e.prototype.clearFailsafeTimeout=function(){this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};e.prototype.startFailsafeTimeout=function(f){this.clearFailsafeTimeout();
this.timeoutTimer_=window.setTimeout(this.onTimeout.bind(this),1E3*f)};e.prototype.end=function(f,b){b&&this.mm.log("VAST Error "+b.getError());this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null);null!=this.adsManager_&&(this.adsManager_.destroy(),this.adsManager_=null);this.videoContainer_&&this.container_&&(this.container_.removeChild(this.videoContainer_),this.videoContainer_=null);this.ended||(this.ended=!0,f&&"error"==f?this.dispatchEvent(p("error")):this.dispatchEvent(p("complete")))};
e.prototype.setSize=function(f,b){this.adsManager_&&this.adsManager_.resize(f,b,google.ima.ViewMode.NORMAL)};e.prototype.isVpaidMode=function(){return!0};e.prototype.onEvent=function(f,b){this.mm.log("Ad Event "+f+" "+(b?b:""));"AdLoaded"==f&&(this.mm.log("VPAID video became ready"),this.dispatchEvent(p("ready")));"AdStarted"==f&&this.dispatchEvent(p("start"));"AdVideoComplete"!=f&&"AllAdsCompleted"!=f||this.end("complete");"AdSkippableStateChange"==f&&this.dispatchEvent(p("skippablestatechange"));
"AdSkipped"!=f&&"AdStopped"!=f||this.end("skipped");"Paused"==f&&(this.paused=!0,this.play());"UserClose"==f&&this.end("userclose");"ContentResume"==f&&this.end("contentresume",b);"AdError"==f&&this.end("error",b);"Resumed"==f&&(this.paused=!1)};e.prototype.onAdsManagerLoaded=function(f){this.adsManager_=f.getAdsManager(this.videoContent_);this.adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onEvent.bind(this,"AdError"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.AD_METADATA,
this.onEvent.bind(this,"AdMetaData"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onEvent.bind(this,"AllAdsCompleted"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onEvent.bind(this,"AdVideoComplete"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onEvent.bind(this,"ContentResume"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onEvent.bind(this,"AdVideoFirstQuartile"));
this.adsManager_.addEventListener(google.ima.AdEvent.Type.LOADED,this.onEvent.bind(this,"AdLoaded"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onEvent.bind(this,"AdVideoMidpoint"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onEvent.bind(this,"Paused"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onEvent.bind(this,"Resumed"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onEvent.bind(this,
"AdSkippableStateChange"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onEvent.bind(this,"AdSkipped"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onEvent.bind(this,"AdVideoThirdQuartile"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onEvent.bind(this,"UserClose"));this.adsManager_.addEventListener(google.ima.AdEvent.Type.STARTED,this.onEvent.bind(this,"AdStarted"));try{this.adsManager_.init(this.videoContainer_&&
this.videoContainer_.clientWidth?this.videoContainer_.clientWidth:this.width,this.videoContainer_&&this.videoContainer_.clientHeight?this.videoContainer_.clientHeight:this.height,google.ima.ViewMode.NORMAL)}catch(b){this.end("error",null)}this.muted?this.adsManager_.setVolume(0):this.adsManager_.setVolume(1);this.timeoutTimer_&&(window.clearTimeout(this.timeoutTimer_),this.timeoutTimer_=null)};return e}();k.default=e},"./src/zonemasters/components/instreamvideo.ts":function(e,k,n){var r=this&&this.__extends||
function(){var b=function(l,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g])};return b(l,d)};return function(l,d){function a(){this.constructor=l}b(l,d);l.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts"),u=n("./src/zonemasters/components/videoplayer.ts"),f=n("./src/zonemasters/components/imaplayer.ts");
e=function(b){function l(d,a){var m=b.call(this,d,a)||this;m.isHidden=!1;m.videoReady=!1;m.firstDetectViewable=!0;m.becameViewable=!1;m.renderAttempts=0;m.px_cr=null;m.pb_err=null;m.setvolume=void 0;m.defaultRequestKind="json";m.api.skip=function(){};m.api.setvolume=function(a){a.volume&&m&&m.videoObj&&m.videoObj.setVolume&&m.videoObj.setVolume(a.volume)};m.api.getduration=function(a){if(m&&m.videoObj&&m.videoObj.getDuration){var c=m.videoObj.getDuration();a.cb&&a.cb(function(){},c)}else a.fail&&
a.fail()};m.api.getremainingtime=function(a){if(m&&m.videoObj&&m.videoObj.getRemainingTime){var c=m.videoObj.getRemainingTime();a.cb&&a.cb(function(){},c)}else a.fail&&a.fail()};return m}r(l,b);l.prototype.isViewable=function(b,a){if(!1===this.module.options.requireViewable)return!0;b=b.getBoundingClientRect();a&&(b.height=a);var d=window.innerWidth;a=window.innerHeight;var g=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=d;d&&g&&(h=Math.min(d,g));null==h&&(h=g);null==
h&&(h=document.getElementsByTagName("body")[0].clientWidth);(d=a)&&c&&(d=Math.min(a,c));null==d&&(d=c);null==d&&(d=document.getElementsByTagName("body")[0].clientHeight);return 0<=b.top&&0<=b.left&&b.top+.6*b.height<=d&&b.left+.8*b.width<=h?!0:!1};l.prototype.testResponseValidity=function(b){var a=this;p.default.prototype.testResponseValidity.call(a,function(d){if(d)if(a.res.renderAd)switch(a.res.getAdTypeAvailable(a.module)){case "video":case "banner":case "editorial":d=!0;break;default:d=!1}else d=
a.res&&a.res.getResponseData?(d=a.res.getResponseData())&&d.creativemacros&&d.creativemacros.HTML5VID_VASTSTRING?!0:d&&d.creativemacros&&d.creativemacros.HTML5VID_ADX?!0:!1:!1;b(d)})};l.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.repeatElement&&(this.repeatElement.style.display="block"),this.muteElement&&
(this.muteElement.style.display="block"),this.playElement&&(this.playElement.style.display="block"),this.skipElement&&(this.skipElement.style.display="block"),this.closeElement&&(this.closeElement.style.display="block"),this.isHidden=!1)};l.prototype.hideContainer=function(){var b=this;this.isHidden||(b.outercontainer.classList.remove("cpmsvideoshow"),b.outercontainer.classList.add("cpmsvideohide"),b.repeatElement&&(b.repeatElement.style.display="none"),b.muteElement&&(b.muteElement.style.display=
"none"),b.playElement&&(b.playElement.style.display="none"),b.skipElement&&(b.skipElement.style.display="none"),b.closeElement&&(b.closeElement.style.display="none"),b.setTimeout(function(){b.outercontainer.style.display="none";b.isHidden=!0},700))};l.prototype.closing=function(){var b=this;null!=b.module.options.hideAfter&&b.videoObj&&0==b.videoObj.isVpaidMode()?b.hideTimer=b.setTimeout(function(){b.triggerEvent("hideafter");b.close()},b.module.options.hideAfter):b.close()};l.prototype.close=function(){this.triggerEvent("onclose");
this.videoObj&&this.videoObj.close();this.hideContainer()};l.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};l.prototype.attemptRenderPixel=function(b){if(this.outercontainer&&null!=b&&""!=b&&(0<=b.indexOf("http://")||0<=b.indexOf("https://")||0==b.indexOf("//")))try{var a=document.createElement("img");a.src=b;a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";
a.style.height="1px";a.setAttribute("data-ot-ignore","1");this.outercontainer.appendChild(a);a.onload=function(){a.style.display="none";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";a.style.height="1px"}}catch(m){this.mm.log("Error hitting pixel: "+m)}};l.prototype.initVideoObj=function(b,a){void 0===a&&(a=!1);var d=this;d.playElement=document.createElement("div");d.muteElement=document.createElement("div");d.skipElement=document.createElement("div");d.videoObj=
a?new f.default(this.mm):new u.default(this.mm);d.videoObj.addEventListener("ready",function(a){d.videoReady=!0;d.module.options&&d.module.options.volume&&d.api.setvolume({volume:d.module.options.volume});d.module.div.style.visibility="visible";d.videoObj.play()});d.videoObj.addEventListener("start",function(){d.px_cr&&d.attemptRenderPixel(d.px_cr);d.showContainer();d.updateMuteElementCSSClass();d.muteElement.onclick=function(){d.videoObj.setMuted(!d.videoObj.isMuted());d.updateMuteElementCSSClass()};
d.outercontainer.insertBefore(d.muteElement,d.outercontainer.firstChild);d.playElement.className="cpmsvideopause";d.playElement.onclick=function(){d.videoObj.isPaused()?d.videoObj.play():d.videoObj.pause();d.playElement.className=d.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};d.outercontainer.insertBefore(d.playElement,d.outercontainer.firstChild);d.skipElement.className="cpmsskipad";d.skipElement.onclick=function(){d.videoObj.skip()};d.outercontainer.insertBefore(d.skipElement,d.outercontainer.firstChild);
d.skipElement.style.display=d.videoObj.isSkippable()?"":"none";d.triggerEvent("onstart")});d.videoObj.addEventListener("skippablestatechange",function(){d.skipElement.style.display=d.videoObj.isSkippable()?"":"none"});d.videoObj.addEventListener("error",function(){d.px_cr=null;d.pb_err=null;d.triggerEvent("onend");2>=d.renderAttempts?d.nextAd()?d.attemptRender(null):d.close():d.close()});d.videoObj.addEventListener("complete",function(){d.triggerEvent("onend");d.playElement.style.display="none";d.muteElement.style.display=
"none";null==d.repeatElement&&!1!==d.module.options.replay&&0==d.videoObj.isVpaidMode()&&(d.repeatElement=document.createElement("div"),d.repeatElement.className="cpmsvideorepeat",d.repeatElement.onclick=function(){null!=d.hideTimer&&(d.hideTimer(),d.hideTimer=null);d.outercontainer.removeChild(d.repeatElement);d.repeatElement=null;d.videoObj.replay()},d.outercontainer.insertBefore(d.repeatElement,d.outercontainer.firstChild));d.module.options.replay&&(d.module.options.hideAfter&&0>d.module.options.hideAfter||
0==!!d.module.options.hideAfter)||d.closing()});d.onEvent(window,"orientationchange",d.updateVideoSize.bind(d));d.onEvent(window,"resize",d.updateVideoSize.bind(d));d.videoObj.init(b,d.container,d.currentVideoSize.width,d.currentVideoSize.height,{clickPrefix:d.module.options.clickPrefix,muted:d.module.options.muted,forceSkippability:d.module.options.forceSkippability})};l.prototype.getBannerRenderTarget=function(){var b=this.module.div.getElementsByClassName("bannertarget")[0];return b?b:p.default.prototype.getRenderTarget.call(this)};
l.prototype.measureVideoSize=function(){var b=null!=this.container&&0<this.container.clientHeight&&0<this.container.clientWidth?this.container:this.outercontainer;return{width:b.clientWidth,height:b.clientHeight}};l.prototype.updateVideoSize=function(){var b=this;b.setTimeout(function(){b.currentVideoSize={width:b.outercontainer.clientWidth*b.originalVideoWidthRatio,height:b.outercontainer.clientHeight*b.originalVideoHeightRatio};b.videoObj.setSize(b.currentVideoSize.width,b.currentVideoSize.height)},
200)};l.prototype.attemptRender=function(b){var a=this.getRenderTarget();this.mm.log("InstreamVideo - attemptRender");this.renderAttempts++;if(this.res&&this.res.renderAd)switch(this.res.getAdTypeAvailable(this.module)){case "banner":case "editorial":this.render(this.getBannerRenderTarget(),this.onAdRendered.bind(this,b));break;case "video":this.mm.log("InstreamVideo - attemptRender - got ad type video");this.render(a,this.onAdRendered.bind(this,b));break;default:this.mm.log("InstreamVideo - unknown ad type ( default ad? returned)"),
this.close()}else this.onAdRendered.call(this,b)};l.prototype.init=function(d,a){function l(){!g.becameViewable&&g.isViewable(c,g.currentVideoSize.height)&&(g.becameViewable=!0,g.mm.log("video became viewable"),g.outercontainer.style.overflow="visible",g.attemptRender(a));g.firstDetectViewable=!1}console.log("LOG - instreamvideo.ts init called ");b.prototype.init.call(this,d,a);var g=this,c=this.getRenderTarget();g.module.div.style.visibility="hidden";g.outercontainer=c;g.container=g.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];
null==g.container&&(g.container=g.outercontainer);g.currentVideoSize=g.measureVideoSize();g.originalVideoWidthRatio=g.currentVideoSize.width/g.outercontainer.clientWidth;g.originalVideoHeightRatio=g.currentVideoSize.height/g.outercontainer.clientHeight;g.originalOuterContainerHeight=g.outercontainer.clientHeight;g.module.options&&g.module.options.startHidden&&(g.outercontainer.style.overflow="hidden",g.outercontainer.style.height="0px",g.isHidden=!0);g.onEvent(window,"DOMContentLoaded",l);g.onEvent(window,
"load",l);g.onEvent(window,"resize",l);g.onEvent(window,"scroll",l);g.onEvent(window,"orientationchange",l);g.setTimeout(function(){l()},0);g.setTimeout(function(){l()},500)};l.prototype.renderXButton=function(){var b=this;b.closeElement=document.createElement("div");b.closeElement.className="cpmsvideoclosebanner";b.closeElement.onclick=function(){b.close()};var a=this.getBannerRenderTarget();a||(a=b.outercontainer);a.appendChild(b.closeElement);b.closeElement.style.display="block"};l.prototype.onAdRendered=
function(d){b.prototype.onAdRendered.call(this,d);this.mm.log("InstreamVideo - onAdRendered");var a=this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0});this.mm.log("getAdTypeAvailable: "+a);switch(a){case "editorial":case "banner":this.module.div.style.visibility="visible";this.renderXButton();this.triggerEvent("onstart");break;case "video":case "json":this.mm.log(this.res.getResponseData);if(this.res.getResponseData){a=this.res.getResponseData();this.mm.log(a);if(a&&
a.creativemacros.HTML5VID_ADX){this.initVideoObj(a.creativemacros.HTML5VID_ADX,!0);a.px_cr&&(this.px_cr=a.px_cr);a.pb_err&&(this.pb_err=a.pb_err);return}if(a&&(this.mm.log("onAdRendered - calling initVideoObj for HTML5VID_VASTSTRING "+a.creativemacros.HTML5VID_VASTSTRING),this.initVideoObj(a.creativemacros.HTML5VID_VASTSTRING),a.creativemacros.ROADBLOCK&&this.triggerEvent("roadblock",{roadblock:a.creativemacros.ROADBLOCK}),this.module.options.forceSkippability||this.module.options.autoSkippability&&
a.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g))){var l=0;a.creativemacros.HTML5VID_SKIPSECONDS&&(l=a.creativemacros.HTML5VID_SKIPSECONDS?1E3*a.creativemacros.HTML5VID_SKIPSECONDS:0);0<l?this.videoObj.setSkipOffset(l):1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5))}}break;default:this.close()}d&&d()};return l}(p.default);k.default=
e},"./src/zonemasters/components/onrpghotbox.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(k,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,l){b.__proto__=l}||function(b,l){for(var d in l)l.hasOwnProperty(d)&&(b[d]=l[d])};return e(k,f)};return function(k,f){function b(){this.constructor=k}e(k,f);k.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});e=function(e){function k(f,b){f=
e.call(this,f,b)||this;f.maxMulti=5;f.fadeRate=0;f.hoverFadeRate=0;f.fadeOpacity=.5;f.fullOpacity=1;f.iterations=0;f.lastIterationTime=0;f.timer=null;f.hovering=!1;f.moved=0;return f}r(k,e);k.prototype.init=function(f){e.prototype.init.call(this,f);var b=this,l=b.mm.$;f.getResponseData();var d=b.module.div;l(d).find(".hotbox_thumbs ul li:first").addClass("selected");b.lastIterationTime=(new Date).getTime();b.timer=b.setTimeout(function(){b.next()},7500);l(document).ready(function(){l(d).find(".hotbox_thumbs li div").each(function(){l(this).css("opacity",
b.fadeOpacity)});l(d).find(".thumb_0 div").css("opacity",b.fullOpacity);var a=l(d).find(".hotbox-widget");a&&a.hover(function(){b.hovering=!0;null!=b.timer&&clearTimeout(b.timer);b.timer=null},function(){b.hovering=!1;null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},5E3)});a=l(d).find(".hotbox_thumbs ul li");var m=null,g=null,c=l(d).find(".hotbox_items")[0];c.addEventListener("touchstart",function(c){m=c.touches[0].clientX;g=c.touches[0].clientY;b.moved=
0});c.addEventListener("touchmove",function(c){if(null!=m&&null!=g){var a=c.touches[0].clientX-m;if(Math.abs(a)>Math.abs(c.touches[0].clientY-g)){c=l(b.module.div).find(".hotbox_items ul:first");var h=-(100*l(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/4)+a/c[0].clientWidth*100+"%";c.animate({left:h},10,"linear");b.moved=Math.abs(a)}}});c.addEventListener("touchend",function(c){if(null!=m&&null!=g){var a=c.changedTouches[0].clientX-m;c=c.changedTouches[0].clientY-g;var h=l(b.module.div).find(".hotbox_items ul:first"),
d=-(100*l(b.module.div).find(".hotbox_thumbs ul li.selected:first").index()/4)+"%";Math.abs(a)>Math.abs(c)&&Math.abs(a)>=h[0].clientWidth/16?0>a?b.next(1):b.next(-1):0<b.moved&&h.animate({left:d},10,"linear")}});a.hover(function(){null!=b.timer&&clearTimeout(b.timer);b.timer=null;l(d).find(".hotbox_thumbs ul li div").css("opacity",b.fadeOpacity);l(d).find(".hotbox_thumbs ul li").removeClass("selected");l("div",this).fadeTo(b.hoverFadeRate,b.fullOpacity);l(this).addClass("selected");var c=l(d).find(".hotbox_items ul:first"),
a=-288*l(this).index();c.stop();c.animate({top:a},350)},function(){l("img",this).fadeTo(b.fadeRate,b.fadeOpacity);null!=b.timer&&clearTimeout(b.timer);b.timer=null;b.timer=b.setTimeout(function(){b.next()},7500)})})};k.prototype.next=function(f){var b=this.mm.$,l=this.module.div;if(null==f&&(this.iterations++,this.iterations&&16<this.iterations))return;null!=this.timer&&clearTimeout(this.timer);this.timer=null;var d=b(l).find(".hotbox_thumbs ul li.selected:first");d.removeClass("selected");b("div",
d).fadeTo(this.fadeRate,this.fadeOpacity);var a=d;if(null==f||1==f)a=d.next(),0==a.length&&(a=b(l).find(".hotbox_thumbs ul li:first"));-1==f&&(a=d.prev(),0==a.length&&(a=b(l).find(".hotbox_thumbs ul li:last")));a.addClass("selected");b("div",a).fadeTo(this.hoverFadeRate,this.fullOpacity);f=b(l).find(".hotbox_items ul:first");a=a.index();b(l).find(".hotbox_list").children();b=-(100*a/4)+"%";f.stop();f.animate({left:b},350)};return k}(n("./src/zonemasters/components/editorial.ts").default);k.default=
e},"./src/zonemasters/components/scriptcomponent.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(f,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return e(f,b)};return function(f,b){function l(){this.constructor=f}e(f,b);f.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts");
e=function(e){function f(b,l){return e.call(this,b,l)||this}r(f,e);f.prototype.request=function(b){b(this.init.bind(this,this.res))};f.prototype.init=function(b,l){p.default.prototype.init.call(this,b,l);b=this.module.options;this.getRequestData();var d=l=null;null!=b&&(d=new Function(b.onsuccess),l=b.src,"string"===typeof l&&"/"===l[0]&&(l=(this.mm.proto?"//server":"//cdn")+".cpmstar.com"+l));null!=l&&this.mm.getScript(l,d)};return f}(p.default);k.default=e},"./src/zonemasters/components/segmentedvideo.ts":function(e,
k,n){function r(a){var c=[];Object.keys(a).forEach(function(b){c.push({key:b,value:a[b]})});return c}var p=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])};return a(c,b)};return function(c,b){function h(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h)}}();Object.defineProperty(k,"__esModule",{value:!0});
var u=n("./src/zonemasters/components/supercomponent.ts"),f=n("./src/zonemasters/components/videoplayer.ts"),b=n("./src/zonemasters/components/imaplayer.ts"),l=function(){function a(a){this.ad=a;this.isHidden=this.outercontainer=void 0;this.firstDetectViewable=!1;this.container=this.currentVideoSize=this.pb_err=this.px_cr=this.videoObj=this.originalVideoHeightRatio=this.originalVideoWidthRatio=this.module=this.hideTimer=this.skipElement=this.playElement=this.muteElement=this.repeatElement=void 0;
this.finalizers=[];this.componentInstance=this.mm=this.originalOuterContainerHeight=void 0;this.halt=this.ready=!1;this.imaPlayer=void 0;var c=this;c.componentInstance=c.ad.componentInstance;c.container=c.ad.container;"mm module repeatElement skipElement playElement muteElement outercontainer isHidden module originalVideoWidthRatio originalVideoWeightRatio originalOuterContainerHeight finalizer currentVideoSize".split(" ").forEach(function(a){c[a]=c.componentInstance[a]});c.componentInstance.module.options.preroll&&
0==c.componentInstance.clipCount&&(a=c.getTitle(),c.componentInstance.updateTitle(a))}a.prototype.setVolume=function(a){this.videoObj&&this.videoObj.setVolume&&this.videoObj.setVolume(a)};a.prototype.setup=function(){var a=this.usesImaPlayer();this.imaPlayer=a;this.init(this.getVastString(),a);this.handlePlayerType(a)};a.prototype.handlePlayerType=function(a){var c,b,g;if(null===(g=null===(b=null===(c=this.ad)||void 0===c?void 0:c.responseData)||void 0===b?void 0:b.creativemacros)||void 0===g?0:g.HALTREFRESH)this.halt=
!0;a?(this.ad.responseData.px_cr&&(this.px_cr=this.ad.responseData.px_cr),this.ad.responseData.pb_err&&(this.pb_err=this.ad.responseData.pb_err)):this.module.options.autoSkippability&&this.ad.responseData.creativemacros.HTML5VID_VASTSTRING.match(/<MediaFile\b[^>]*>(.*\.cpmstar\.com.*)<\/MediaFile>/g)&&(a=0,this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS&&(a=this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS?1E3*this.ad.responseData.creativemacros.HTML5VID_SKIPSECONDS:0),0<a?this.videoObj.setSkipOffset(a):
1E3<this.videoObj.getSkipOffset()&&(this.module.options.autoSkipOffset?this.videoObj.setSkipOffset(this.module.options.autoSkipOffset):this.videoObj.setSkipOffset(5)))};a.prototype.setMuted=function(a){this.componentInstance.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.componentInstance.videoObj&&this.ad.componentInstance.videoObj.setMuted(a)};a.prototype.getTitle=function(){var a="";this.componentInstance.module.options.title?a=this.componentInstance.module.options.title:
this.ad&&this.ad.responseData&&this.ad.responseData.creativemacros&&this.ad.responseData.creativemacros.title?a=this.ad.responseData.creativemacros.title:this.componentInstance.creativemacros&&this.componentInstance.creativemacros.title&&(a=this.componentInstance.creativemacros.title);return a};a.prototype.init=function(a,h){console.log("LOG - segmentedvideo.ts init called ");var c=this;c.videoObj=h?new b.default(c.mm):new f.default(c.mm);c.videoObj.addEventListener("ready",function(a){c.ready=!0;
c.module.options&&c.module.options.volume&&c.setVolume(c.module.options.volume);c.videoObj.watchdogOff&&"hb"==c.module.adRequest&&setTimeout(c.videoObj.watchdogOff.bind(c.videoObj),1E3);c.componentInstance.module.options&&c.componentInstance.module.options.intermittentAds&&1!=c.componentInstance.module.options.preroll&&c.videoObj&&0==c.videoObj.isPlaying()&&c.componentInstance.queueIntermittentAd(c.componentInstance.module.options.intermittentAds);c.ad.readyCallback&&(a=c.ad.readyCallback,c.ad.readyCallback=
void 0,c.ad.invalidCallback=void 0,a())});c.videoObj.addEventListener("start",function(){c.ad.componentInstance.hideSpinner();c.videoObj.watchdogOn&&"hb"==c.module.adRequest&&c.videoObj.watchdogOn(5);c.px_cr&&c.attemptRenderPixel(c.px_cr);c.outercontainer.insertBefore(c.muteElement,c.outercontainer.firstChild);c.showContainer();c.setMuted(c.componentInstance.isMuted);c.muteElement.onclick=function(){c.setMuted(!c.componentInstance.isMuted)};c.outercontainer.insertBefore(c.muteElement,c.outercontainer.firstChild);
c.playElement.className="cpmsvideopause";c.playElement.onclick=function(){c.videoObj.isPaused()?(c.videoObj.play(),c.componentInstance.userPlayState="playing"):(c.videoObj.pause(),c.componentInstance.userPlayState="paused");c.playElement.className=c.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};c.outercontainer.insertBefore(c.playElement,c.outercontainer.firstChild);c.outercontainer.insertBefore(c.repeatElement,c.outercontainer.firstChild);c.module.options.repeat||(c.repeatElement.style.display=
"none");c.repeatElement.className="cpmsvideorepeat";c.repeatElement.addEventListener("click",function(){c.componentInstance.repeatVideo()});c.skipElement.className="cpmsvideoskip";c.skipElement.onclick=function(){c.videoObj.skip()};c.outercontainer.insertBefore(c.skipElement,c.outercontainer.firstChild);c.skipElement.style.display=c.videoObj.isSkippable()?"":"none";var a=c.getTitle();c.module.options.titleClass&&a&&c.componentInstance.updateTitle(a)});c.videoObj.addEventListener("skippablestatechange",
function(){c.skipElement.style.display=c.videoObj.isSkippable()?"":"none"});c.videoObj.addEventListener("error",function(a){c.mm.log("Error: "+JSON.stringify(a,function(c,a){return c+"..."}));0==c.ad.nextAd()&&(c.ad.isValid=!1,c.close())});c.videoObj.addEventListener("complete",function(){c.componentInstance.module.options&&c.componentInstance.module.options.preroll&&(c.componentInstance.module.options.preroll=!1);0==c.halt?(c.componentInstance.showSpinner(),c.close()):(c.playElement.style.display=
"none",c.repeatElement.style.display="block")});c.onEvent(window,"orientationchange",c.updateVideoSize.bind(c));c.onEvent(window,"resize",c.updateVideoSize.bind(c));c.videoObj.init(a,c.container,c.currentVideoSize.width,c.currentVideoSize.height,{clickPrefix:c.module.options.clickPrefix,muted:c.ad.componentInstance.isMuted,className:c.module.options.videoClass})};a.prototype.getVastString=function(){return this.usesImaPlayer()?this.ad.responseData.creativemacros.HTML5VID_ADX:this.ad.responseData.creativemacros.HTML5VID_VASTSTRING};
a.prototype.usesImaPlayer=function(){return function(c,a){return c.every(function(c){return c!=a})?!1:!0}(Object.keys(this.ad.responseData.creativemacros),"HTML5VID_ADX")};a.prototype.setTimeout=function(c,a){c=window.setTimeout(c,a);c=window.clearTimeout.bind(window,c);this.addFinalizer(c);return c};a.prototype.onEvent=function(c,a,b,g){void 0===g&&(g=!1);var h=null;c.addEventListener?(c.addEventListener(a,b,g),h=function(c,a){this.removeEventListener(c,a)}.bind(c,a,b)):c.attachEvent&&(c.attachEvent("on",
a,b),h=function(h,g){this.detachEvent(h,g).bind(c,a,b)});this.addFinalizer(h)};a.prototype.addFinalizer=function(c){(this.finalizers=this.finalizers||[]).push(c)};a.prototype.attemptRenderPixel=function(c){if(this.outercontainer&&null!=c&&""!=c&&(0<=c.indexOf("http://")||0<=c.indexOf("https://")||0==c.indexOf("//")))try{var a=document.createElement("img");a.src=c;this.outercontainer.appendChild(a);a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";a.style.height=
"1px";a.onload=function(){a.style.display="none";a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width="1px";a.style.height="1px"}}catch(q){this.mm.log("Error hitting pixel: "+q)}};a.prototype.showContainer=function(){this.isHidden&&(this.outercontainer.style.height=""+this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=!1,this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"))};a.prototype.updateMuteElementCSSClass=
function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};a.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()()};a.prototype.close=function(){this.container.remove();this.videoObj.close();this.destroy();this.componentInstance.resume()};a.prototype.updateVideoSize=function(){var c=this;c.setTimeout(function(){var a={width:c.outercontainer.clientWidth*c.originalVideoWidthRatio,height:c.outercontainer.clientHeight*
c.originalVideoHeightRatio};a.width!=c.currentVideoSize.width&&a.width!=c.currentVideoSize.height&&(c.currentVideoSize=a,c.videoObj.setSize(c.currentVideoSize.width,c.currentVideoSize.height))},200)};a.prototype.hideContainer=function(){var c=this;c.isHidden||(c.outercontainer.classList.remove("cpmsvideoshow"),c.outercontainer.classList.add("cpmsvideohide"),c.setTimeout(function(){c.outercontainer.style.display="none";c.isHidden=!0},700))};return a}(),d=function(){function a(c,a){this.mm=c;this.componentInstance=
a;this.container=this.outercontainer=this.closeElement=this.module=this.adPlayer=this.responseData=this.response=this.request=void 0;this.isValid=!1;this.adtype="";this.invalidCallback=this.readyCallback=void 0;this.module=this.componentInstance.module;this.getAd()}a.prototype.nextAd=function(){var a=!1;void 0!=this.container&&this.container.remove();this.adPlayer&&this.adPlayer.videoObj&&(this.adPlayer.destroy(),this.adPlayer.videoObj.close());this.response&&this.response.nextAd&&(a=this.response.nextAd(this.module),
this.renderAd());return a};a.prototype.isReady=function(){var a=!1;this.isValid&&this.adPlayer&&this.adPlayer.videoObj&&(a=!0);return a};a.prototype.getRequest=function(){var a=this.mm.zonedata.requests[this.module.adRequest],b=a.kind?a.kind:"json";if(null==b)throw Error("Ad request kind was null.");b=this.mm.requestTypes[b];if(null==b)throw Error("Ad request type is not valid.");this.request=new b(this.mm);this.request.init(a)};a.prototype.createElement=function(a,b){var c=document.createElement(a);
Object.keys(b).forEach(function(a){c.setAttribute(a,b[a])});return c};a.prototype.createAdWrapper=function(){this.container=this.createElement("div",{id:"cpmsadwrapper"});this.componentInstance.hide(this.container);this.componentInstance.outercontainer.prepend(this.container)};a.prototype.adFrequency=function(){return Math.random()<this.componentInstance.adFrequency?!0:!1};a.prototype.play=function(){this.container&&(this.container.style.display="block");var a=this.adFrequency();this.isValid&&this.adPlayer&&
this.adPlayer.videoObj&&(a||0==this.componentInstance.clipCount&&this.module.options.preroll)?this.adPlayer.videoObj.play():this.close()};a.prototype.close=function(){void 0!=this.container&&this.container.remove();this.adPlayer&&this.adPlayer.videoObj&&this.adPlayer.videoObj.close();this.componentInstance.resume()};a.prototype.getBannerRenderTarget=function(){var a=this.module.div.getElementsByClassName("bannertarget")[0];return a?a:u.default.prototype.getRenderTarget.call(this)};a.prototype.clearBanner=
function(){setTimeout(this.close.bind(this),1E4)};a.prototype.formatResponseData=function(a){return"string"==typeof a?{creativemacros:{HTML5VID_VASTSTRING:a}}:a};a.prototype.onAdRendered=function(){var a=this;a.testResponseValidity(function(c){(a.isValid=c)?(a.responseData=a.formatResponseData(a.componentInstance.getResponse().getResponseData()),a.createAdWrapper(),a.adPlayer=new l(a),a.adPlayer.setup()):(a.invalidCallback&&(c=a.invalidCallback,a.invalidCallback=void 0,a.readyCallback=void 0,c()),
console.log("The response was not valid."))})};a.prototype.renderAd=function(){this.adtype=this.response.getAdTypeAvailable(this.module);switch(this.adtype){case "banner":case "editorial":this.response.renderAd(this.module,this.getBannerRenderTarget(),this.clearBanner.bind(this));break;case "video":this.response.renderAd(this.module,this.outercontainer,this.onAdRendered.bind(this));break;default:this.onAdRendered()}};a.prototype.testResponseValidity=function(a){var c=!1,b=this.componentInstance.getResponse();
if(null!=b&&"object"==typeof b)switch(b.getAdTypeAvailable(this.module)){case "editorial":case "banner":case "video":c=!0;break;default:c=!1}a(c)};a.prototype.getAd=function(){var a=this;a.getRequest();a.request.addCallback(a.componentInstance,function(c){a.response=c;a.componentInstance.setResponse(a.response);a.renderAd()})};return a}(),a=function(){function a(a){this.SegmentedVideo=a;this.index=0;this.queue=[];this.played=[]}a.prototype.isEnd=function(){return this.index==this.queue.length?!0:
!1};a.prototype.next=function(){this.SegmentedVideo.clipCount++;var a=void 0;if(this.isEnd())throw this.index=0,Error("There are no more videos to play.");this.index==this.queue.length-1&&void 0==this.SegmentedVideo.module.options.maxClips&&(void 0==this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxEpisodes&&this.SegmentedVideo.episodeCount<this.SegmentedVideo.module.options.maxEpisodes)?(a=this.queue[this.index++],this.index=0,this.SegmentedVideo.fetchNext()):
this.index==this.queue.length-1&&(this.SegmentedVideo.module.options.maxEpisodes&&this.SegmentedVideo.episodeCount>=this.SegmentedVideo.module.options.maxEpisodes||this.SegmentedVideo.module.options.maxClips)?(a=this.queue[this.index++],this.index=0,this.queue=this.played.sort(function(a,c){return 5<10*Math.random()?1:-1}),this.queue[0]==a&&this.queue.push(this.queue.shift())):a=this.queue[this.index++];(1==this.SegmentedVideo.episodeCount&&1==this.index||this.SegmentedVideo.module.options.hdVideo)&&
a.urlHD&&(a={url:a.urlHD,subtitles:a.subtitles});return a};a.prototype.createQueue=function(a){var c=new RegExp(/^VIDEO[0-9]+$/),b=a.getResponseData().creativemacros;this.index=0;this.queue=Object.keys(b).filter(function(a){return c.test(a)}).map(function(a){var c=a.search(/[0-9]+/),h=void 0;-1!=c&&(h=b["SUBTITLES"+a.substr(c)]);return{key:a,url:b[a],urlHD:b[a+"_HD"],subtitles:h}}).sort(function(a,c){return parseInt(a.key.split(/[0-9]+/)[1])-parseInt(c.key.split(/[0-9]+/)[1])});this.SegmentedVideo.module.options.random&&
(this.queue=this.queue.sort(function(a,c){return 5<10*Math.random()?1:-1}));this.SegmentedVideo.module.options.maxClips&&(this.queue=this.queue.slice(0,this.SegmentedVideo.module.options.maxClips));this.SegmentedVideo.episodeCount++;this.played=this.played.concat(this.queue)};return a}(),m=function(){function a(){void 0==localStorage.getItem("cpmsvideoslider_paramRanges")&&this.reset()}a.prototype.getRanges=function(){return JSON.parse(localStorage.getItem("cpmsvideoslider_paramRanges"))};a.prototype.setRanges=
function(a){localStorage.setItem("cpmsvideoslider_paramRanges",JSON.stringify(a.sort()))};a.prototype.first=function(){return this.getRanges().sort().slice().pop()};a.prototype.reset=function(){localStorage.setItem("cpmsvideoslider_paramRanges","[]")};a.prototype.concatenateRanges=function(a,b){var c=[];c[0]=a[0]>=b[0]?a[0]:b[0];c[1]=a[1]<=b[1]?a[1]:b[1];return c};a.prototype.concatenateContinuousRanges=function(a){a=a.slice().sort();for(var c=0;c<a.length;++c)a[c+1]&&(this.contains(a[c][0],a[c+1])||
this.contains(a[c][1],a[c+1]))&&(a.splice(c,2,this.concatenateRanges(a[c],a[c+1])),a.sort(),--c);return a};a.prototype.set=function(a){var c=this.getRanges();c.push([a,--a]);this.setRanges(this.concatenateContinuousRanges(c))};a.prototype.contains=function(a,b){var c=!1;b&&b[0]>=a&&b[1]<=a&&(c=!0);return c};a.prototype.get=function(a){return this.compare(--a)};a.prototype.compare=function(a){var c=this.first();return c&&c[0]>=a?c[1]:a};return a}();e=function(b){function c(c,d){var g=b.call(this,c,
d)||this;g.isHidden=!1;g.videoReady=!1;g.firstDetectViewable=!0;g.becameViewable=!1;g.renderAttempts=0;g.px_cr=null;g.pb_err=null;g.playQueue=void 0;g.ad=void 0;g.spinner=void 0;g.spinnerTimeout=void 0;g.intermittentAdTimeout=void 0;g.isMuted=!0;g.clipEnded=!1;g.clipBegan=!1;g.existingOnScroll=void 0;g.titleEl=void 0;g.firstResponse=void 0;g.lastViewed=new m;g.requestParam=void 0;g.lastParam=!1;g.adFrequency=1;g.userPlayState="playing";g.pauseTarget=void 0;g.lastViewableState=void 0;g.episodeCount=
0;g.title="";g.bgEl=null;g.clipCount=0;g.creativemacros={};g.resumeTimer=void 0;g.numClipsShown=0;window.getCssByClass=g.getCssByClass;void 0!=d.options.adFrequency&&(g.adFrequency=d.options.adFrequency);d.options&&d.options.muted&&(g.isMuted=d.options.muted);g.defaultRequestKind="json";g.playQueue=new a(g);g.api.skinloaded=function(a){};g.api.skip=function(){};g.api.setvolume=function(a){a.volume&&g&&g.videoObj&&g.videoObj.setVolume&&g.videoObj.setVolume(a.volume)};g.api.getduration=function(a){if(g&&
g.videoObj&&g.videoObj.getDuration){var c=g.videoObj.getDuration();a.cb&&a.cb(function(){},c)}else a.fail&&a.fail()};g.api.getremainingtime=function(a){if(g&&g.videoObj&&g.videoObj.getRemainingTime){var c=g.videoObj.getRemainingTime();a.cb&&a.cb(function(){},c)}else a.fail&&a.fail()};return g}p(c,b);c.prototype.setVolume=function(a){this.api.setvolume({volume:a})};c.prototype.hideSpinner=function(){void 0!=this.spinnerTimeout&&(clearTimeout(this.spinnerTimeout),this.spinnerTimeout=void 0);void 0!=
this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=void 0);this.hide(this.spinner)};c.prototype.showSpinner=function(){var a=this;a.spinnerTimeout=setTimeout(function(){a.show(a.spinner);a.resumeTimer=setTimeout(function(){a.ad.isReady()?a.ad.close():a.resume()},5E3)},100)};c.prototype.setResponse=function(a){this.res=a};c.prototype.getResponse=function(){return this.res};c.prototype.isViewable=function(a,c){if(!1===this.module.options.requireViewable)return!0;a=a.getBoundingClientRect();
c&&(a.height=c);var b=window.innerWidth;c=window.innerHeight;var g=document.documentElement.clientWidth,d=document.documentElement.clientHeight,h=b;b&&g&&(h=Math.min(b,g));null==h&&(h=g);null==h&&(h=document.getElementsByTagName("body")[0].clientWidth);(b=c)&&d&&(b=Math.min(c,d));null==b&&(b=d);null==b&&(b=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=a.left&&a.top+.6*a.height<=b&&a.left+.8*a.width<=h?!0:!1};c.prototype.testResponseValidity=function(a){var c=this;b.prototype.testResponseValidity.call(c,
function(b){if(b)if(c.res.renderAd)switch(c.res.getAdTypeAvailable(c.module)){case "video":b=!0;break;default:b=!1}else b=c.res&&c.res.getResponseData?(b=c.res.getResponseData())&&b.creativemacros&&b.creativemacros.HTML5VID_VASTSTRING?!0:!1:!1;a(b)})};c.prototype.showContainer=function(){this.isHidden&&(this.firstDetectViewable||this.outercontainer.classList.add("cpmsvideoshow"),this.outercontainer.style.height=this.originalOuterContainerHeight+"px",this.outercontainer.style.display="block",this.isHidden=
!1)};c.prototype.hideContainer=function(){var a=this;a.isHidden||(a.outercontainer.classList.remove("cpmsvideoshow"),a.outercontainer.classList.add("cpmsvideohide"),a.setTimeout(function(){a.outercontainer.style.display="none";a.isHidden=!0},700))};c.prototype.close=function(){this.outercontainer.parentElement.classList.add("cpmsvideoslideroff");this.module.options&&this.module.options.nonViewableClasses?(window.onscroll=this.existingOnScroll,this.removeClasses(this.module.options.nonViewableClasses)):
(this.triggerEvent("onclose"),this.playQueue.queue=[],this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.close(),this.videoObj&&this.videoObj.close())};c.prototype.setMuted=function(a){this.isMuted=a;this.videoObj.videoEl()&&(this.videoObj.setMuted(a),this.updateMuteElementCSSClass());this.ad.isReady()&&this.ad.adPlayer.videoObj.setMuted(a)};c.prototype.updateMuteElementCSSClass=function(){this.muteElement.className=this.videoObj&&this.videoObj.isMuted()?"cpmsvideosoundoff":"cpmsvideosoundon"};
c.prototype.attemptRenderPixel=function(a){if(this.outercontainer&&null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var c=document.createElement("img");c.src=a;c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width="1px";c.style.height="1px";this.outercontainer.appendChild(c);c.onload=function(){c.style.display="none";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width="1px";c.style.height="1px"}}catch(v){this.mm.log("Error hitting pixel: "+
v)}};c.prototype.isPlayable=function(){return 0==this.playQueue.isEnd()?this.videoReady=!0:this.videoReady=!1};c.prototype.hide=function(a){a&&(a.style.display="none")};c.prototype.show=function(a,c){a&&(a.style.display=c?c:"block")};c.prototype.playAd=function(){clearTimeout(this.intermittentAdTimeout);this.videoObj.isPlaying()&&this.videoObj.pause();this.hide(this.videoObj.videoEl());this.hideSpinner();this.ad.play()};c.prototype.clear=function(){var a,c=null===(a=this.videoObj)||void 0===a?void 0:
a.videoEl();if(a=null===c||void 0===c?void 0:c.parentElement)this.module.options&&this.module.options.mobile&&(this.outercontainer.style.height=this.measureVideoSize().height.toString()+"px"),a.remove()};c.prototype.restart=function(){this.lastParam?this.playQueue.createQueue(this.firstResponse):this.playQueue.index=0;this.lastParam&&this.module.playPrevious&&this.setParam(this.firstResponse.getResponseData().creativemacros[this.module.playPrevious]);this.play()};c.prototype.setCreativemacros=function(a){a.getResponseData().creativemacros&&
(this.creativemacros=a.creativemacros)};c.prototype.handleResponse=function(a){var c=this;c.setResponse(a);c.testResponseValidity(function(b){b?(c.setCreativemacros(a),c.playQueue.createQueue(a)):(c.lastParam=!0,c.lastViewed.reset(),c.responseValid=b)})};c.prototype.fetchNext=function(){this.requestParam&&this.module.playPrevious&&this.mm.zonedata.requests[this.module.request]&&this.mm.zonedata.requests[this.module.request].params&&this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]&&
(this.lastViewed.set(this.requestParam),this.setParam(this.lastViewed.get(--this.requestParam)),this.module.requestInstance.addCallback(this,this.handleResponse.bind(this)))};c.prototype.play=function(){this.hideSpinner();0==this.videoObj.isPlaying()&&(0<this.playQueue.queue.length?(this.videoObj.resetQuartiles(),this.videoObj.playUrl(this.playQueue.next())):this.close())};c.prototype.queueIntermittentAd=function(a){this.intermittentAdTimeout=setTimeout(this.playAd.bind(this),1E3*a)};c.prototype.onVideoClick=
function(){var a=this;a.container.addEventListener("click",function(c){"VIDEO"==c.target.nodeName&&a.videoObj.isPlaying()&&(c.stopPropagation(),c.preventDefault(),a.setMuted(!a.isMuted))})};c.prototype.getTitle=function(){var a=void 0;this.module.options.title?a=this.module.options.title:this.creativemacros&&this.creativemacros.title&&(a=this.creativemacros.title);return a};c.prototype.updateTitle=function(a){a&&this.titleEl&&(this.titleEl.innerText=a)};c.prototype.repeatVideo=function(){this.playElement.style.display=
"block";this.module.options.repeat||(this.repeatElement.style.display="none");this.videoObj&&this.videoObj.isPlaying()?(this.videoObj.setBegan(!0),this.videoObj.replay()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&0==this.ad.adPlayer.imaPlayer&&(this.ad.adPlayer.videoObj.setBegan(!0),this.ad.adPlayer.videoObj.replay())};c.prototype.initVideoObj=function(a,c){void 0===c&&(c=!1);var b=this;b.module.options.titleClass&&(b.titleEl=b.createElement("h2",{class:b.module.options.titleClass}),b.outercontainer.insertAdjacentElement("beforebegin",
b.titleEl));["playElement","muteElement","skipElement","repeatElement"].forEach(function(a){b[a]=document.createElement("div")});b.videoObj=new f.default(this.mm);b.videoObj.addEventListener("ready",function(a){b.module.options&&b.module.options.volume&&b.setVolume(b.module.options.volume);b.onVideoClick();b.ad=new d(b.mm,b);if(!0===b.module.options.preroll)b.playPreroll();else if(b.isPlayable())b.play();else throw b.close(),Error("There was no video to play.");});b.videoObj.addEventListener("start",
function(){b.hideSpinner();b.clipBegan=!0;b.clipEnded=!1;b.setMuted(b.isMuted);b.module.options.titleClass&&(b.title=b.getTitle(),b.updateTitle(b.title));b.showContainer();b.muteElement.onclick=function(){b.setMuted(!b.isMuted)};b.outercontainer.insertBefore(b.repeatElement,b.outercontainer.firstChild);b.module.options.repeat||(b.repeatElement.style.display="none");b.repeatElement.className="cpmsvideorepeat";b.repeatElement.addEventListener("click",function(){b.repeatVideo()});b.outercontainer.insertBefore(b.muteElement,
b.outercontainer.firstChild);b.playElement.className="cpmsvideopause";b.playElement.onclick=function(){b.videoObj.isPaused()?(b.videoObj.play(),b.userPlayState="playing"):(b.videoObj.pause(),b.userPlayState="paused");b.playElement.className=b.videoObj.isPaused()?"cpmsvideoplay":"cpmsvideopause"};b.outercontainer.insertBefore(b.playElement,b.outercontainer.firstChild);b.module.options.skippable&&(b.skipElement.className="cpmsvideoskip",b.skipElement.style.removeProperty("display"),b.outercontainer.insertBefore(b.skipElement,
b.outercontainer.firstChild),b.skipElement.onclick=function(){b.videoObj.close()})});b.videoObj.addEventListener("skippablestatechange",function(){b.skipElement.style.display=b.videoObj.isSkippable()?"":"none"});b.videoObj.addEventListener("error",function(){b.close()});b.videoObj.addEventListener("complete",function(){b.clipEnded=!0;b.clipBegan=!1;b.clear();b.showSpinner();b.intermittentAdTimeout&&clearTimeout(b.intermittentAdTimeout);b.ad.isReady()?b.ad.play():0==b.playQueue.isEnd()?b.resume():
b.playQueue.isEnd()&&b.module.options.restart?b.restart():b.close()});b.onEvent(window,"orientationchange",b.updateVideoSize.bind(b));b.onEvent(window,"resize",b.updateVideoSize.bind(b));b.videoObj.initializeForUrl(b.container,b.currentVideoSize.width,b.currentVideoSize.height,{clickPrefix:b.module.options.clickPrefix,muted:b.isMuted,className:b.module.options.videoClass})};c.prototype.measureVideoSize=function(){var a=null!=this.container&&0<this.container.clientHeight&&0<this.container.clientWidth?
this.container:this.outercontainer;return{width:a.clientWidth,height:a.clientHeight}};c.prototype.updateVideoSize=function(){var a=this;a.setTimeout(function(){a.currentVideoSize={width:a.outercontainer.clientWidth*a.originalVideoWidthRatio,height:a.outercontainer.clientHeight*a.originalVideoHeightRatio};a.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height);a.ad.isReady()&&a.ad.adPlayer.videoObj.setSize(a.currentVideoSize.width,a.currentVideoSize.height)},200)};c.prototype.attemptRender=
function(a){if("video"==this.res.getAdTypeAvailable(this.module,2>this.renderAttempts?null:{fallback:!0}))this.initVideoObj(this.res.getResponseData().creativemacros.HTML5VID_VASTSTRING);else throw Error("The ad type was not video.");a&&a()};c.prototype.playPreroll=function(){this.ad&&this.ad.isReady()?this.ad.play():(this.ad.readyCallback=this.ad.play.bind(this.ad),this.ad.invalidCallback=this.resume.bind(this))};c.prototype.unpause=function(a){this.pauseTarget=void 0;this.playElement.classList.replace("cpmsvideoplay",
"cpmsvideopause");"content"==a&&this.videoObj&&this.videoObj.isPaused()?this.videoObj.play():"ad"==a&&this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPaused()&&this.ad.adPlayer.videoObj.play()};c.prototype.resume=function(){this.module.options.maxclipcount<=this.numClipsShown?this.close():(this.numClipsShown++,sessionStorage&&sessionStorage.setItem("cpmstar_clipcount",""+this.numClipsShown),this.ad.getAd(),0==this.videoObj.isPlaying()&&0==this.clipEnded&&1==this.clipBegan?
(this.show(this.videoObj.videoEl()),this.hideSpinner(),this.unpause("content")):this.isPlayable()?this.play():this.close())};c.prototype.between=function(a,c,b){return a>c&&a<b};c.prototype.isInView=function(a){a=a.getBoundingClientRect();return(this.between(a.top,0,window.innerHeight||document.documentElement.clientHeight)||this.between(a.bottom,0,window.innerHeight||document.documentElement.clientHeight))&&(this.between(a.left,0,window.innerWidth||document.documentElement.clientWidth)||this.between(a.right,
0,window.innerWidth||document.documentElement.clientWidth))};c.prototype.getElementAttributes=function(a){return a.getAttributeNames().reduce(function(c,b){c[b]=a.getAttribute(b);return c},{})};c.prototype.createElement=function(a,c){var b=document.createElement(a);Object.keys(c).forEach(function(a){b.setAttribute(a,c[a])});return b};c.prototype.applyClasses=function(a){r(a).forEach(function(a){try{document.querySelector(a.key).classList.add(a.value)}catch(v){console.log(v.toString?v.toString():JSON.stringify(v))}})};
c.prototype.removeClasses=function(a){r(a).forEach(function(a){try{document.querySelector(a.key).classList.remove(a.value)}catch(v){console.log(v.toString?v.toString():JSON.stringify(v))}})};c.prototype.hasClasses=function(a){return r(a).reduce(function(a,c){var b=document.querySelector(c.key);b&&(a=a||b.classList.contains(c.value));return a},!1)};c.prototype.copySizeAndPosition=function(a,c){var b=document.defaultView.getComputedStyle(c,"");"top bottom right left position display margin marginTop marginRight marginLeft marginBottom padding paddingRight paddingLeft paddingTop paddingBottom width height maxHeight maxWidth".split(" ").forEach(function(c){a.style[c]=
b[c]})};c.prototype.toggleNonViewableClasses=function(a){var c=this.hasClasses(this.module.options.nonViewableClasses);a||0!=c?a&&c&&this.removeClasses(this.module.options.nonViewableClasses):this.applyClasses(this.module.options.nonViewableClasses)};c.prototype.toggleAdFrequency=function(a){void 0!=this.module.options.adFrequency&&this.module.options.adFrequency<this.module.options.adVisibility||(this.adFrequency=0==a?this.module.options.adVisibility:void 0!=this.module.options.adFrequency?this.module.options.adFrequency:
1)};c.prototype.pause=function(){this.playElement.classList.replace("cpmsvideoplay","cpmsvideopause");this.videoObj&&this.videoObj.isPlaying()?(this.pauseTarget="content",this.videoObj.pause()):this.ad&&this.ad.adPlayer&&this.ad.adPlayer.videoObj&&this.ad.adPlayer.videoObj.isPlaying()&&(this.pauseTarget="ad",this.ad.adPlayer.videoObj.pause())};c.prototype.toggleContent=function(){"playing"==this.userPlayState&&void 0==this.pauseTarget?this.pause():"playing"==this.userPlayState&&void 0!=this.pauseTarget&&
this.unpause(this.pauseTarget)};c.prototype.onNonViewable=function(){var a=this,c=a.outercontainer.parentElement;if(a.module.options.nonViewableClasses||void 0!=a.module.options.adVisibility||a.module.options.contentVisibility){var b=a.createElement(c.tagName,{id:"cpmstarvideosliderplaceholder"});a.copySizeAndPosition(b,c);b.style.boxSizing="content-box";var g=c.parentNode;g.insertBefore(b,c);b.append(g.removeChild(c));a.existingOnScroll=window.onscroll;var d=a.isInView(b);a.lastViewableState=d;c=
function(){a.existingOnScroll&&a.existingOnScroll();d=a.isInView(b);if(a.lastViewableState!=d||0==a.becameViewable)a.lastViewableState=d,a.module.options.nonViewableClasses&&(a.becameViewable=!0,a.toggleNonViewableClasses(d),a.updateVideoSize.call(a)),void 0!=a.module.options.adVisibility&&a.toggleAdFrequency(d),a.module.options.contentVisibility&&a.toggleContent()};window.onscroll=c;c()}};c.prototype.setParam=function(a){this.requestParam=parseInt(a.toString());this.mm.zonedata.requests[this.module.request].params[this.module.playPrevious]=
this.requestParam};c.prototype.request=function(a,c){if(this.module.options.maxclipcount){try{var g=sessionStorage.getItem("cpmstar_clipcount");g&&(this.numClipsShown=parseInt(g),isNaN(this.numClipsShown)&&(this.numClipsShown=0))}catch(w){}if(this.numClipsShown>=this.module.options.maxclipcount){c&&c();return}}if(this.module.options.sessionclose)try{var d=window.sessionStorage.getItem("cpmstar_videoclosed");if(null!=d&&""!=d&&parseInt(d)>(new Date).getTime()-864E5){c&&c();return}}catch(w){}b.prototype.request.call(this,
a,c)};c.prototype.init=function(a,c){function g(){!h.becameViewable&&h.isViewable(l,h.currentVideoSize.height)&&(h.becameViewable=!0,h.outercontainer.style.overflow="visible",h.attemptRender(c),h.onNonViewable());h.firstDetectViewable=!1}var d;b.prototype.init.call(this,a,c);var h=this;h.playQueue.createQueue(a);h.firstResponse=a;h.creativemacros=a.getResponseData().creativemacros;h.module.playPrevious&&h.creativemacros&&h.creativemacros[h.module.playPrevious]&&h.setParam(h.creativemacros[h.module.playPrevious]);
var l=h.getRenderTarget();h.outercontainer=l;h.container=h.outercontainer.getElementsByClassName("cpmsvideowrapper")[0];null===(d=document.querySelector("#cpmstarvideosliderclose"))||void 0===d?void 0:d.addEventListener("click",function(a){h.$el.classList.add("cpmsvideoslideroff");if(h.module.options.sessionclose)try{window.sessionStorage.setItem("cpmstar_videoclosed",""+(new Date).getTime())}catch(P){}setTimeout(h.close.bind(h),1E3)});null==h.container&&(h.container=h.outercontainer);h.spinner=h.container.querySelector("#cpmstarloadspinner");
h.currentVideoSize=h.measureVideoSize();h.originalVideoWidthRatio=h.currentVideoSize.width/h.outercontainer.clientWidth;h.originalVideoHeightRatio=h.currentVideoSize.height/h.outercontainer.clientHeight;h.originalOuterContainerHeight=h.outercontainer.clientHeight;h.module.options&&h.module.options.startHidden&&(h.outercontainer.style.overflow="hidden",h.outercontainer.style.height="0px",h.isHidden=!0);h.module.options.nonViewableClasses?(h.attemptRender(c),h.onNonViewable()):(h.onEvent(window,"DOMContentLoaded",
g),h.onEvent(window,"load",g),h.onEvent(window,"resize",g),h.onEvent(window,"scroll",g),h.onEvent(window,"orientationchange",g),h.setTimeout(function(){g()},0),h.setTimeout(function(){g()},500))};return c}(u.default);k.default=e},"./src/zonemasters/components/siteskin.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(f,b){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)d.hasOwnProperty(a)&&(b[a]=d[a])};return e(f,
b)};return function(f,b){function l(){this.constructor=f}e(f,b);f.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/components/supercomponent.ts");e=function(e){function f(b,l){b=e.call(this,b,l)||this;b.cpmstar_siteskin_settings=null;b.contentOriginalMarginTop=NaN;b.adMarginTop="218px";b.lightboxIframe=null;b.vidClosed=!1;b.popping=!1;b.video=null;b.videoCloseX=null;b.videoPopoutDiv=null;return b}r(f,
e);f.prototype.init=function(b,l){var d;p.default.prototype.init.call(this,b,l);var a=this;b=this.module.options;l=99999;var m="985px",g=null,c=1,h="0px",f=this.getRequestData();if(null!=b){l=null!==(d=b.zIndex)&&void 0!==d?d:99999;d=this.getFirstSelector(b.cssSelector);m=b.centerWidth?b.centerWidth:d?d.clientWidth:"985px";g=f?f.poolid:null;g=f&&f.poolid?f.poolid:"?";c=b.fixed?b.fixed:"1";h=this.getTop(!1);var e=b.stickyPadding?b.stickyPadding:0;var k=b.footerHeight?b.footerHeight:0;a.adMarginTop=
b.marginTop?b.marginTop:"218px"}a.cpmstar_siteskin_settings={pid:g,centerWidth:m,fixed:c,topPos:h,zIndex:l,stickyPadding:e,footerHeight:k,root:a.module.options.useModuleDiv?a.module.div:void 0};d=this.getRenderTarget();this.module.adUnitPath&&(d.id=this.module.adUnitPath);d=a.res.getAdTypeAvailable(a.module);switch(d){case "premium":var w=this.skinTag=document.createElement("div");this.getRenderTarget().appendChild(w);if(a.res.renderAd){var u=a.res.renderAd;u(a.module,w,a.onAdRendered.bind(a))}break;
case "banner":a.res.renderAd&&0==b.dual?(u=a.res.renderAd,w=a.createSkinTag(),u(a.module,w,a.onAdRendered.bind(a))):a.res.renderAd&&1==b.dual&&(u=a.res.renderAd,w=a.createSkinTag(),u(a.module,w,function(c){u(a.module,w,function(b){a.onAdRendered.call(a,[c,b])})}));break;case "json":a.res.renderAd&&a.res.renderAd(a.module,null);a.onAdRendered();break;default:a.mm.log("Error - invalid adtype: "+d+" for skin component")}};f.prototype.pxToNumber=function(b){b=/([0-9.]+)(px)?/.exec(b);if(null==b||""==
b[1])throw Error("siteskin.pxToNumber - Error: Pixel input was not formatted correctly.");return parseInt(b[1])};f.prototype.getFirstSelector=function(b){if(null==b)return null;if(Array.isArray(b))for(var l=0;l<b.length;l++){var d=document.querySelector(b[l]);if(d&&d.style&&"none"!=d.style.display)return d}else return document.querySelector(b)};f.prototype.getTop=function(b,l){var d;void 0===b&&(b=!0);void 0===l&&(l=!1);var a=this.module.options,f="0px";a.headerSelector&&b?(b=this.getFirstSelector(a.headerSelector))?
(f=b.clientHeight+"px",l&&(f=Math.max(b.getBoundingClientRect().bottom,0)+"px")):f=null!==(d=a.top)&&void 0!==d?d:"0px":a.top&&(f=a.top);return f};f.prototype.createSkinTag=function(){var b,l=this,d=this.module.options,a=this.getTop(!1),f=l.getFirstSelector(d.cssSelector);f=d.centerWidth?d.centerWidth:f?f.clientWidth:"985px";var g=d.responsive?d.responsive:"",c=null!==(b=d.zIndexHD)&&void 0!==b?b:0;b=l.skinTag=document.createElement("div");var h=l.skinWrapper=b;l.mm.isMobile()||!1!==l.module.options.alwaysclip?
(l.skinWrapper=h=document.createElement("div"),h.style.overflow="hidden",h.style.left="0",h.style.top="0",h.style.height="1080px",h.style.width="100%",h.style.position="fixed",h.style.zIndex="0",h.style.transform="translate3d(0,0,0)",b.style.position="absolute",h.appendChild(b)):(b.style.position="fixed",h=l.skinWrapper=b);b.style.width="1920px";b.style.height="1080px";b.style.marginLeft="-960px";b.style.left="50%";h.style.setProperty("top",a,d.topImportant?"important":"");if(d.sticky&&!d.headerSelector)a=
function(){var a=0<window.scrollY?"0px":l.getTop(!0,!0);h.style.setProperty("top",a,d.topImportant?"important":"")},a(),window.addEventListener("scroll",a);else if(d.sticky&&d.headerSelector){var e=function(){var a=l.getTop(!0,!0);h.style.setProperty("top",a,d.topImportant?"important":"")};e();window.addEventListener("scroll",e);a=Array.isArray(d.headerSelector)?d.headerSelector:[d.headerSelector];for(var k=0;k<a.length;k++){var p=l.getFirstSelector(a[k]);p&&"undefined"!=typeof MutationObserver&&
(new MutationObserver(function(){setTimeout(e,0)})).observe(p,{attributes:!0,childList:!1,subtree:!1})}}b.style.transformOrigin="center top";b.parentElement.style.zIndex=c;b.style.display="block";1==d.dual||l.mm.isMobile()||(c=1,d.noscale||(d.scaleFactor&&(c=d.scaleFactor),c*=l.contentScalar(f)),l.scaleEl(b,c));this.getRenderTarget().appendChild(h);g&&l.resizeToContent(l.res.getResponseData?l.res.getResponseData():null,d);return b};f.prototype.contentScalar=function(b){var l=this.res.getResponseData?
this.res.getResponseData():null;b=/([0-9]+)(px)?/.exec(b);if(null==b||""==b[1])throw Error("siteskin.ts - Error: 'centerWidth' was not defined correctly.");b=parseInt(b[1]);var d=1056;l&&l.creativemacros&&l.creativemacros.IMAGE1800X1000&&(d=988);return b==document.body.clientWidth?1:b/d-.001};f.prototype.scaleEl=function(b,l){b.style.transform="scale("+l+")";this.pushdown(l)};f.prototype.numberToPx=function(b){return b.toString()+"px"};f.prototype.pushdown=function(b){var l,d=this.module.options,
a=null!==(l=this.getFirstSelector(d.cssSelector?d.cssSelector:"body"))&&void 0!==l?l:document.body;l=this.res.getResponseData?this.res.getResponseData():null;l&&l.creativemacros&&l.creativemacros.NOPUSHDOWN||a==document.body||(this.contentOriginalMarginTop=isNaN(this.contentOriginalMarginTop)?parseInt(getComputedStyle(a).marginTop):this.contentOriginalMarginTop,isNaN(this.contentOriginalMarginTop)&&(this.contentOriginalMarginTop=0),b=Math.ceil(this.pxToNumber(this.adMarginTop)*b)-2,0!=b&&d.transition&&
(a.style.transition="0.7s ease-in-out",setTimeout(function(){a.style.removeProperty("transition")},1E3)),a.style.marginTop=this.numberToPx(this.contentOriginalMarginTop+b))};f.prototype.checkVisible=function(b){b=b.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)};f.prototype.popOut=function(){var b=this;b.popping=!0;setTimeout(function(){b.popping=!1},500);
b.mm.log("clear interval popOut()");clearInterval(b.timer);b.video.querySelector("#CPMStarVideoCounter").innerHTML="";b.mm.log("watch me pop out");var l=b.video;if(b.module.options.loopFor){var d=document.querySelector("#CPMStarSkinVideoTag"),a=parseInt(b.module.options.loopFor);parseInt(document.querySelector("#videoIterations").innerHTML)>=a&&d.play()}d=.95*window.innerHeight;a=.95*window.innerWidth;var f=a/-2,g=(window.innerHeight-.95*window.innerHeight)/2;b.module.options.gamestream&&(a=.75*window.innerWidth,
g=(window.innerHeight-d)/2,d=.5625*a,f=a/-2,l=document.createElement("div"),l.style.backgroundColor="rgba(0,0,0,0.75)",l.innerHTML="<div style='position:absolute; top:30%; width:100%; z-index:-1'><div style='margin:0 auto; font-size:16px; text-align:center'>Loading Game<br/>Please Wait</div></div>",a=document.createElement("div"),a.style.cssText="position: absolute; border: 1px; background-color: #dd0000; opacity: .8;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 0px; right: 0px; font-size: 20px; cursor: pointer;",
a.innerHTML="&nbsp;x&nbsp;",b.onEvent(a,"click",b.closeCPMStarVideo.bind(b)),l.appendChild(a),null==b.lightboxIframe&&(b.lightboxIframe=document.createElement("iframe"),b.lightboxIframe.src="https://gamestream.bioniclogic.com"),a=.75*window.innerWidth,g=(window.innerHeight-d)/2,d=.5625*a,f=a/-2,b.lightboxIframe.width=""+a,b.lightboxIframe.height=""+d,b.lightboxIframe.scrolling="no",b.lightboxIframe.style.visibility="hidden",setTimeout(function(){b.lightboxIframe.style.visibility="visible"},1200),
l.appendChild(b.lightboxIframe));l.style.height=d+"px";l.style.width=a+"px";l.style.marginLeft=f+"px";l.style.left="50%";l.style.top=g+"px";l.style.position="fixed";if(d=b.videoCloseX)d.style.display="block",d.style.right="10px",d.style.fontSize="20px";document.body.style.overflowY="hidden";document.body.appendChild(b.videoPopoutDiv);b.videoPopoutDiv&&l&&(l.parentNode&&l.parentNode.removeChild(l),b.videoPopoutDiv.appendChild(l))};f.prototype.popIn=function(){var b,l,d=this.res.getResponseData?this.res.getResponseData():
null,a=this.module.options,f=null!==(b=parseInt(a.marginTop))&&void 0!==b?b:255;a.videoHeight&&(f=parseInt(a.videoHeight));if(!this.popping){this.mm.log("watch me pop in");b=this.video;a=1.78*f;b.style.height=f+"px";b.style.width=a+"px";b.style.marginLeft=a/-2+"px";b.style.position="absolute";b.style.top="0";b.style.marginLeft=1.78*f/-2+"px";b.style.left=null!==(l=d.creativemacros.VIDEOLEFT)&&void 0!==l?l:this.module.options.videoLeft?this.module.options.videoLeft:"50%";if(l=this.videoCloseX)l.style.display=
"none";this.pop();document.body.style.overflowY&&document.body.style.removeProperty("overflow-y");if(this.videoPopoutDiv&&b&&b.parentNode==this.videoPopoutDiv){for(;this.videoPopoutDiv.firstChild;)this.videoPopoutDiv.removeChild(this.videoPopoutDiv.firstChild);this.skinTag&&this.skinTag.appendChild(b)}this.videoPopoutDiv&&this.videoPopoutDiv.parentNode==document.body&&document.body.removeChild(this.videoPopoutDiv)}};f.prototype.pop=function(){var b,f,d=this.res.getResponseData?this.res.getResponseData():
null,a=this.video;if(a){var m=this.module.options,g=m.pop,c=m.popHidden,h=m.cssSelector;if(!(parseInt(a.style.height)>parseInt(document.querySelector(h).style.marginTop)||!g&&!c)){g=null!==(b=parseInt(m.marginTop))&&void 0!==b?b:255;m.videoHeight&&(g=parseInt(m.videoHeight));if(window.scrollY>g&&!this.vidClosed){this.mm.log("pop: Video no longer visible");c&&(a.style.visibility="hidden");a.style.position="fixed";b=this.module.options.railVideoBottom?String(parseInt(this.module.options.railVideoBottom)):
"10";b+="px";var e=this.module.options.railVideoRight?String(parseInt(this.module.options.railVideoRight)):String(-1*(-1*e+k));e+="px";a.style.bottom=b;a.style.top="";parseInt(document.querySelector(h).clientWidth);var k;a.style.right=e;a.style.removeProperty("left");a.style.removeProperty("marginLeft");if(a=this.videoCloseX)a.style.display="block",a.style.right="5px"}else if(this.mm.log("pop: Video visible again"),c&&(a.style.visibility="visible"),a.style.position="absolute",a.style.removeProperty("bottom"),
a.style.top="0px",a.style.removeProperty("right"),a.style.marginLeft=1.78*g/-2+"px",a.style.left=null!==(f=d.creativemacros.VIDEOLEFT)&&void 0!==f?f:this.module.options.videoLeft?this.module.options.videoLeft:"50%",a=this.videoCloseX)a.style.display="none";document.body.style.overflowY&&document.body.style.removeProperty("overflow-y")}}};f.prototype.vidmousein=function(){var b=this,f=b.video.querySelector("#CPMStarVideoCounter");if("3"!=f.innerHTML&&"2"!=f.innerHTML&&"1"!=f.innerHTML&&!b.popping){clearInterval(b.timer);
f.innerHTML="3";var d=3;b.timer=setInterval(function(){d--;0>=d?b.popOut():f.innerHTML=""+d},1E3)}};f.prototype.vidmouseout=function(){clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.module.options.gamestream||this.popIn()};f.prototype.closeCPMStarVideo=function(){this.vidClosed=!0;this.vidmouseout();clearInterval(this.timer);this.video.querySelector("#CPMStarVideoCounter").innerHTML="";this.popIn()};f.prototype.getOrientation=function(){var b;if(window.matchMedia("(orientation: portrait)").matches)return"portrait";
if(window.matchMedia("(orientation: landscape)").matches)return"landscape";var f=null===(b=window.screen)||void 0===b?void 0:b.orientation.angle;if(0===f||180===f)return"portrait";if(90===f||270===f)return"landscape"};f.prototype.onAdRendered=function(b){var f,d,a=this,m=this.module.options,g=a.res.getResponseData?a.res.getResponseData():null,c=this.getFirstSelector(m.cssSelector),h=null!==(f=m.centerWidth)&&void 0!==f?f:c?c.clientWidth:"985px";c=a.res.getAdTypeAvailable(a.module);f=null!==(d=m.responsive)&&
void 0!==d?d:"";if("premium"!=c){if("banner"==c&&void 0!=m.dual&&void 0!=b){if(1!=m.dual)throw Error("siteskin.onAdRendered: The module property 'options.dual' is invalid. [ true, false ]");if(void 0==b)throw Error("siteskin.onAdRendered: The 'ads' input is undefined.");d=(d=this.getFirstSelector(m.cssSelector))?d.getBoundingClientRect().left:0;c=a.pxToNumber(window.getComputedStyle(b[0]).getPropertyValue("width"));b[0].style.marginLeft=a.numberToPx((1800-document.body.clientWidth)/2+d-c);b[1].style.marginLeft=
a.numberToPx(h)}else if("json"==c&&g.click&&g.creativemacros&&(g.creativemacros.IMAGE1800X1000||g.creativemacros.IMAGE1920X1080||g.creativemacros.IMAGEURL||g.creativemacros.HTMLURL)){(function(c,b){var d,h,f,l;c=b.ownerDocument?b.ownerDocument:document;var e=c.createElement("iframe");e.style.borderWidth="0";e.scrolling="no";e.marginwidth=0;e.marginheight=0;e.topmargin=0;e.leftmargin=0;e.allowtransparency=!0;e.setAttribute("marginwidth","0");e.setAttribute("marginheight","0");e.setAttribute("topmargin",
"0");e.setAttribute("leftmargin","0");e.setAttribute("allowtransparency","true");"1920"==a.res.getResponseData().width?(e.width="1920",e.height="1080"):(e.width="1800",e.height="1000");b.appendChild(e);b="";b=g.px_cr?"\n<img width=0 height=0 src='"+g.px_cr+"' />":"";b=g.code?"<html><head></head><body>"+g.code+b+"</body></html>":"<html><head></head><body><a target='_blank' href='"+g.click+"'><img src='"+(g.creativemacros.IMAGE1920X1080?g.creativemacros.IMAGE1920X1080:g.creativemacros.IMAGE1800X1000?
g.creativemacros.IMAGE1800X1000:g.creativemacros.IMAGEURL)+"'></a>"+b+"</body></html>";e=e.contentWindow.document;e.write(b);e.close();m.background&&(e=m.background,"auto"==m.background&&g.creativemacros.BACKGROUNDCOLOR?e=g.creativemacros.BACKGROUNDCOLOR:m.background&&(e="black"),document.body.style.background=e);g.creativemacros.VIDEOURL&&(e=a.video=c.createElement("div"),m.top&&parseInt(m.top),b=null!==(d=m.expand||g.creativemacros.EXPAND)&&void 0!==d?d:!1,m.zIndex&&parseInt(m.zIndex),a.videoPopoutDiv=
c.createElement("div"),d=null!==(h=parseInt(m.marginTop))&&void 0!==h?h:255,m.videoHeight&&(d=parseInt(m.videoHeight)),a.videoPopoutDiv.id="CPMStarSkinVideoLocation",a.videoPopoutDiv.style.top="0",a.videoPopoutDiv.style.left="0",a.videoPopoutDiv.style.zIndex="2147483647",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0)",a.videoPopoutDiv.style.position="fixed",a.videoPopoutDiv.style.width="100vw",a.videoPopoutDiv.style.height="100vh",a.videoPopoutDiv.style.backgroundColor="rgba(0,0,0,0.6)",e.style.zIndex=
"2147483647",e.style.position="absolute",a.mm.isMobile()||(a.onEvent(window,"resize",a.pop.bind(a)),a.onEvent(window,"scroll",a.pop.bind(a)),b&&(a.onEvent(e,"mouseover",a.vidmousein.bind(a)),a.onEvent(e,"mouseleave",a.vidmouseout.bind(a))),e.style.marginLeft=1.78*d/-2+"px",e.style.left="50%",e.style.height=""+d+"px",e.style.width=""+1.78*d+"px"),e.style.marginLeft=1.78*d/-2+"px",e.style.left=null!==(f=g.creativemacros.VIDEOLEFT)&&void 0!==f?f:a.module.options.videoLeft?a.module.options.videoLeft:
"50%",e.style.height=""+d+"px",e.style.width=""+1.78*d+"px",e.id="CPMStarSkinVideo",e.style.top="0px",a.videoCloseX=document.createElement("div"),a.videoCloseX.id="videoCloseX",a.videoCloseX.style.cssText="position: absolute; border: 1px; background-color: grey; opacity: .8; display: none;font-family: arial; color: white; position: absolute; z-index: 9999999999; top: 5px; right: 5px; border-radius: 10px; font-size: 15px; cursor: pointer;",a.videoCloseX.innerHTML="&nbsp;x&nbsp;",a.onEvent(a.videoCloseX,
"click",a.closeCPMStarVideo.bind(a)),e.innerHTML="\n                    \n                    \n                    <A href="+g.click+' target="_blank" style="border:0">\n                                        \n                        <style>\n                            #CPMStarSkinVideo {\n                                -moz-transition: height .4s ease-in-out;\n                                -webkit-transition: height .4s ease-in-out;\n                                -moz-transition: height .4s ease-in-out;\n                                -o-transition: height .4s ease-in-out;\n                                transition: height .4s ease-in-out;\n                            }\n                        </style>\n                      \n                            \n                             <VIDEO id=\'CPMStarSkinVideoTag\' autoplay muted\n                            style=\'width: 100%; height: 100%; position: absolute\'>\n                            <SOURCE type="video/mp4" src="'+
g.creativemacros.VIDEOURL+"\">\n                            \n                            </VIDEO>\n                            <div id='CPMStarVideoCounter' style='position: absolute;\n                            opacity: .8;\n                            font-family: arial;\n                            color: white;\n                            position: absolute;\n                            z-index: 99999999999999999999999;\n                            font-size: 100px;\n                            margin-left: -25px; \n                            // top: 50%;\n                            bottom: 30%;\n                            left: 50%;'\n                            ></div>         \n                            <span style='display:none' id='videoIterations'>1</span>                                          \n                    </A>\n                    ",
e.appendChild(a.videoCloseX),(h=a.skinTag)&&h.appendChild(e));if(a.mm.isMobile()&&m.mobileSkinSelector&&(g.creativemacros.MOBILEIMAGEURL1080X1920||g.creativemacros.MOBILEIMAGEURL1920X1080)){var q=m.portraitonly?m.portraitonly:!1;f="";g.creativemacros.MOBILEIMAGEURL1080X1920&&g.creativemacros.MOBILEIMAGEURL1920X1080?"portrait"==a.getOrientation()?f=g.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"==a.getOrientation()&&(f=g.creativemacros.MOBILEIMAGEURL1920X1080):g.creativemacros.MOBILEIMAGEURL1080X1920&&
(q=!0,f=g.creativemacros.MOBILEIMAGEURL1080X1920);h=document.createElement("div");h.id="uniqueCPMStarMobileSiteskinDiv";h.style.display=window.innerWidth>(null!==(l=a.module.options.mobileskinbreakpoint)&&void 0!==l?l:992)?"none":"block";l=m.ignoreMobileTop?0:parseInt(m.top);h.innerHTML="\n                        <style>\n                        \n                        \n                            #uniqueCPMStarMobileSiteskinDiv .topadbar {\n                        \n                                height : 20px;\n                                margin-top : 10px;\n                                padding : 2px;\n                                background-color : black;\n                                margin-left : calc(50% - 50vw);\n                                margin-right : calc(50% - 50vw);\n                                text-align : center;\n                                font-size : 10pt;\n                            }\n                            #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                            \n                            height: 178vw;\n                            width: 100vw;\n                            margin-left: calc(50% - 50vw);\n                            margin-right: calc(50% - 50vw);\n                            /* Important */\n                            position: relative;\n                            }\n\n                            @media (orientation: landscape) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 100vh;\n                                    width:100vw;\n                                }\n                            }\n                            \n                            @media (orientation: portrait) {\n                                #uniqueCPMStarMobileSiteskinDiv .e-with-fixed-bg {\n                                    height: 178vw;\n                                    width: 100vw;\n                                }\n                            } \n\n                            #uniqueCPMStarMobileSiteskinDiv .bg-wrap {\n                                clip: rect(0, auto, auto, 0);\n                                position: absolute;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                            }\n                            \n                            #uniqueCPMStarMobileSiteskinDiv #mobileskindiv {\n                                position: fixed;\n                                display: block;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                                background-size: contain;\n                                background-repeat: no-repeat;\n                                background-color: black;\n                                background-position: center "+
l+"px;\n                                transform: translateZ(0);\n                                will-change: transform;\n                            }\n\n                            #uniqueCPMStarMobileSiteskinDiv .bottomadbar {\n                                height: 20px;\n                                padding: 2px;\n                                margin-top: 0;\n                                background-color: black;\n                                margin-left: calc(50% - 50vw);\n                                margin-right: calc(50% - 50vw);\n                                text-align: center;\n                                font-size: 10pt;\n                                margin-bottom: 10px;\n                            }\n                          \n                            \n                            \n                        </style>\n                        <div class='topadbar'>ADVERTISEMENT</div>\n                        <a target='_blank' href='"+
g.click+'\'>\n                        <div class="e-with-fixed-bg">\n                          <div class="bg-wrap" style="">\n                             <div id="mobileskindiv" style="background-image: url(\''+f+"')\"></div>\n                          </div>\n                        </div>\n                        </a>\n                        <div class='bottomadbar'>\u21e9 Scroll for more \u21e9</div>\n                        ";window.addEventListener("orientationchange",function(){setTimeout(function(){var c,
b=document.getElementById("uniqueCPMStarMobileSiteskinDiv");b&&(b.style.display=window.innerWidth>(null!==(c=a.module.options.mobileskinbreakpoint)&&void 0!==c?c:992)?"none":"block",c="",m.headerSelector&&(a.skinWrapper.style.top=a.getTop()),"portrait"===a.getOrientation()?c=g.creativemacros.MOBILEIMAGEURL1080X1920:"landscape"===a.getOrientation()&&(q?b.style.display="none":c=g.creativemacros.MOBILEIMAGEURL1920X1080),b.style.backgroundImage="url('"+c+"')")},300)},!1);l=m.mobileSkinSelector.pick?parseInt(m.mobileSkinSelector.pick):
0;if((l=document.querySelectorAll(m.mobileSkinSelector.find)[l])&&l.parentNode)switch(m.mobileSkinSelector.kind){case "swaphide":l.parentNode.insertBefore(h,l);l.style.display="none";break;case "swap":l.parentNode.insertBefore(h,l);l.parentNode.removeChild(l);break;case "replace":for(;l.firstChild;)l.removeChild(l.firstChild);case "last":case "into":l.appendChild(h);break;case "first":l.insertBefore(h,l.firstChild);break;case "before":l.parentNode.insertBefore(h,l);break;case "after":l.parentNode.insertBefore(h,
l.nextSibling)}}})(this.module,this.createSkinTag());a.mm.isMobile()&&1024>window.innerWidth&&(756<window.innerHeight?a.scaleEl(a.skinTag,.78):a.scaleEl(a.skinTag,.7));m.contentColor&&(b=a.getFirstSelector(m.cssSelector),b.style.backgroundColor=m.contentColor,b.style.position="relative");a.triggerEvent("initHD");g.creativemacros.ROADBLOCK&&a.triggerEvent("roadblock",{roadblock:g.creativemacros.ROADBLOCK});if(!a.mm.isMobile()&&g.creativemacros.VIDEOURL){b=document.querySelector("#CPMStarSkinVideoTag");
if(m.loopFor){var e=parseInt(m.loopFor);b.addEventListener("ended",function(){var a=parseInt(document.querySelector("#videoIterations").innerHTML);a<e&&(this.currentTime=0,this.play(),a++,document.querySelector("#videoIterations").innerHTML=""+a)},!1)}else b.loop=!0;a.pop()}a.mm.api({kind:"adcmd",module:"segmentedvideo",command:"skinloaded",data:{imageurl:g.creativemacros.IMAGEURL,clickurl:g.click}})}else if("json"==c&&null!=g.creativemacros){if(!a.cpmstar_siteskin_settings.pid)return;window.cpmstar_siteskin.init(a.cpmstar_siteskin_settings,
g);a.triggerEvent("initSD");d="";b=g.px_cr?"\n<img width=0 height=0 src='"+g.px_cr+"' />":"";m.top970X90&&g.click&&g.creativemacros&&g.creativemacros.IMAGE970X90?(d=parseInt(m.centerWidth.replace("px","")),c=Math.round(d/970*90),d="<a target='_blank' href='"+g.click+"'><div style='width:"+d+"px;height:"+c+"px;margin:0 auto;background-size:cover;background-image:url("+g.creativemacros.IMAGE970X90+")'><img src='"+g.creativemacros.IMAGE970X90+"' style='width:100%;height:100%;'></div></a>"):m.top970X250&&
g.click&&g.creativemacros&&g.creativemacros.IMAGE970X250&&(d=parseInt(m.centerWidth.replace("px","")),c=Math.round(d/970*250),d="<a target='_blank' href='"+g.click+"'><div style='width:"+d+"px;height:"+c+"px;margin:0 auto;background-size:cover;background-image:url("+g.creativemacros.IMAGE970X250+")'><img src='"+g.creativemacros.IMAGE970X250+"' style='width:100%;height:100%;'></div></a>");a.module.div.innerHTML=d+b}if("content"!=f&&"true"!=f||!a.skinTag)"window"==f&&a.skinTag&&(window.addEventListener("resize",
function(){a.resizeToContent(g,m)}),a.setTimeout(function(){a.resizeToContent(g,m)}.bind(a),101));else{var k=function(){var c=this.getFirstSelector(m.cssSelector);h=c?c.clientWidth:985;a.scaleEl(a.skinTag,a.contentScalar(h))}.bind(a);a.setTimeout(k,101);window.addEventListener("resize",function(){a.setTimeout(k,101)})}}};f.prototype.resizeToContent=function(b,f){if(document.querySelector(f.cssSelector)&&(b.creativemacros.IMAGE1800X1000||b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL||
b.code)){var d=f.maxCenterWidth?f.maxCenterWidth:1600,a=1056;b.creativemacros.IMAGE1800X1000&&(a=988);parseInt(this.skinTag.style.transform.replace(/\(|\)|scale/g,"").split(",")[0]);var e=this.skinTag.clientWidth<window.innerWidth?(window.innerWidth-this.skinTag.clientWidth)/window.innerWidth+1:1;var g=1;f.scaleFactor?g=f.scaleFactor:f.centerWidth&&(g=parseInt(f.centerWidth)/988);e*=g;e>=d/a&&(e=d/a);a=f.cssSelector?f.cssSelector:"body";this.scaleEl(this.skinTag,e);g=1056*e;1E3>=window.innerWidth||
(g=b.creativemacros.IMAGE1800X1000?d<988*e?d:988*e:d<1056*e?d:1060*e,document.querySelector(a));d=f.centerWidth?parseInt(f.centerWidth):985;f.contentPaddingLeft||f.contentPaddingRight?(document.querySelector(a).style.paddingLeft=parseInt(f.contentPaddingRight)+"px",document.querySelector(a).style.paddingRight=parseInt(f.contentPaddingRight)+"px"):(document.querySelector(a).style.paddingLeft="0px",document.querySelector(a).style.paddingRight="0px");document.querySelector(a).style.maxWidth=Math.max(d,
g)+"px";document.querySelector(a).style.margin=f.marginTop?f.marginTop+" auto auto":"0 auto";"true"==f.fillCenterAlways&&(b.creativemacros.IMAGE1920X1080||b.creativemacros.IMAGEURL)&&1056*e>parseInt(document.querySelector(a).clientWidth)&&(document.querySelector(a).style.width=g+"px");this.mm.isMobile()&&1024>window.innerWidth&&(756<window.innerHeight?this.scaleEl(this.skinTag,.78):this.scaleEl(this.skinTag,.7))}};f.prototype.testResponseValidity=function(b){var f=this;e.prototype.testResponseValidity.call(this,
function(d){var a=null;d=d&&null!=f.res;!f.module.options.mobileskin&&f.mm.isMobile()&&(f.module.options.mobileSkinSelector||(d=!1));if(d){var e=f.res.getAdTypeAvailable(f.module);!f.res.renderAd||"banner"!=e&&"premium"!=e?f.res.getResponseData&&(a=f.res.getResponseData())&&null!=a.creativemacros&&(a.code&&"string"===typeof a.code&&0<a.code.length?d=!0:a.creativemacros.IMAGE1800X1000?d=!0:a.creativemacros.IMAGE1920X1080?d=!0:a.creativemacros.IMAGEURL?d=!0:(e=a.creativemacros.HTMLRIGHTURL||a.creativemacros.IMAGERIGHTURL||
a.creativemacros.FLASHRIGHTURL,(a.creativemacros.HTMLLEFTURL||a.creativemacros.IMAGELEFTURL||a.creativemacros.FLASHLEFTURL)&&e||(d=!1))):d=!0}b(d)})};return f}(p.default);k.default=e},"./src/zonemasters/components/supercomponent.ts":function(e,k,n){var r=this&&this.__extends||function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/utils.ts"),u=n("./src/zonemasters/requests/superrequest.ts"),f=0,b=!1;e=function(e){function d(a,b){var g,c,d=e.call(this,b)||this;d.mm=a;d.module=b;d.res=null;d.depCount=1;d.depLoaded=0;d.responseValid=null;d.lastRefreshed=(new Date).getTime();d.refreshIndex=-1;d.pickResult=null;d.halt=!1;d.api={hide:function(){this.module.div.style.display=
"none"},show:function(){this.module.div.style.display="block"},refresh:function(){if(!this.module.options.norefresh&&!this.halt){var a=(new Date).getTime();this.module.options.minrefreshrate&&a-this.lastRefreshed<this.module.options.minrefreshrate?this.mm.log("module: "+this.module.info.name+" cant refresh, refreshed "+Math.round((a-this.lastRefreshed)/1E3)+" secs ago."):(this.lastRefreshed=(new Date).getTime(),this.request(function(a){a&&a()}))}},close:function(){this.close?this.close():(this.module.div.style.display=
"none",this.module.div.innerHTML="",this.triggerEvent("onclose"))},css:function(a){null!=a.data&&this.restyleCSS(a.data);null!=a.cb&&a.cb(this.module.css)}};d.DEFAULTREFRESHRATE=14E4;d.DEFAULTMINSLICE=1E4;d.DEFAULTMINSLICECPMPERCENT=.85;d.DEFAULTSLICEMULTI=10;d.DEFAULTSLICETARGET=-1;d.TIMESLICEGEOSBLOCKED=[{countryCode:"US",region:"California"},{countryCode:"US",region:"New York"},{countryCode:"NL"}];d.nextSliceTimer=null;null==d.module.options&&(d.module.options={});d.rnd=Math.round(999999*Math.random());
d.defaultRequestKind="banner";d.events=[];if(a=b.events){b=Object.keys(a);for(var f=0;f<b.length;f++){var l=d.mm.eventCallback(a[b[f]]);d.addEventListener(b[f],l)}}d.css=null!==(g=d.module.css)&&void 0!==g?g:null;d.globalCss=null!==(c=d.module.globalCss)&&void 0!==c?c:null;return d}r(d,e);d.prototype.findEvent=function(a){for(var b=0;b<this.events.length;b++)if(this.events[b].name===a)return this.events[b];return null};d.prototype.triggerEvent=function(a,b){var g=this,c=this.findEvent(a);if(c&&c.callbacks)for(var f=
0;f<c.callbacks.length;f++)c.callbacks[f].call(b,arguments);"onclose"==a&&g.setTimeout(function(){g.destroy()},d.COMPONENT_DESTROY_TIMER)};d.prototype.addEventListener=function(a,b){var d=this.findEvent(a);d&&d.callbacks?d.callbacks.push(b):(a={name:a,callbacks:[]},this.events.push(a),a.callbacks.push(b))};d.prototype.removeEventListener=function(a,b){(a=this.findEvent(a))&&a.callbacks&&(b=a.callbacks.indexOf(b),a.callbacks.splice(b,1))};d.prototype.adcmd=function(a){this.api[a.command].bind(this)(a)};
d.prototype.getRequestData=function(){var a=this.module.request;"string"===typeof a&&(a=this.mm.zonedata.requests[this.module.request]);return a};d.prototype.getRequest=function(){var a=this.module.requestInstance,b=this.module.request;"string"===typeof this.module.request&&(a=this.mm.requestInstances[this.module.request],b=this.mm.zonedata.requests[b]);if(null!=a)return a;if(b&&null==a){a=b.kind?b.kind:this.defaultRequestKind;if(null==a)return null;a=this.mm.requestTypes[a];if(null==a)return null;
a=new a(this.mm);this.module.requestInstance=a;"string"===typeof this.module.request&&(this.mm.requestInstances[this.module.request]=a);a.init(b);return a}};d.prototype.create=function(){this.getRequestData();if(null==this.module.divid)if(this.module.adUnitPath)this.module.divid=this.module.adUnitPath;else{var a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);this.module.divid=a}window[this.module.divid]=this.module};d.prototype.testResponseValidity=function(a){var b=
!1;if(null!=this.res&&"object"===typeof this.res){b=!0;null==this.res.getAdTypeAvailable&&(b=!1);var d=this.res.getAdTypeAvailable(this.module);d&&"unknown"!=d&&"none"!=d||(b=!1);null==this.res.renderAd&&null==this.res.getResponseData&&(b=!1);this.res.getError&&(b=!1)}a(b)};d.prototype.request=function(a,b){var d=this,c=this.getRequest();if(null==c)d.mm.log("No request found for module");else{d.depCount=1;d.depLoaded=0;var f=function(){d.depLoaded++;if(d.depLoaded==d.depCount)if(d.responseValid)if(1==
d.module.waitinit)d.module.moduleState="init",d.module.wait=!0,a();else if(null==d.module.target||"object"!==typeof d.module.target||1!=d.module.target.found&&1!=d.module.target.slot)a(d.init.bind(d,d.res));else{var c=d.init.bind(d,d.res);1==d.module.target.slot&&d.module.options?d.mm.pickEl("$G:"+d.module.options.width+"x"+d.module.options.height)&&(d.module.target.find="$G:"+d.module.options.width+"x"+d.module.options.height,a(c)):d.mm.isDomReady()?a(c):document.addEventListener("DOMContentLoaded",
function(b){a(c)})}else window.context&&null!=window.context.noContentAvailable&&window.context.noContentAvailable(),b?b():a(null)};if(d.module.request){var e=this.mm.requestDeps[c.config.kind];if(e)for(var l=0;l<e.length;l++){var m=this.mm.deps[e[l]];null==m.used&&(m.used=!0,d.depCount++,m(f))}}null!=d.module.cssFile&&(d.depCount++,null!=d.module.cssFile&&(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.type="text/css",e.href=d.mm.cdnroot+d.module.cssFile,document.head.appendChild(e),
e.addEventListener("load",f)));c.addCallback(this,function(a){d.res=a;d.module.renderIndex=null;d.testResponseValidity(function(a){(d.responseValid=a)&&d.refreshIndex++;f()})})}};d.prototype.getRenderTargetDivID=function(a){return this.module.renderTargetID?this.module.renderTargetID:this.module.divid};d.prototype.getRenderTarget=function(a){void 0===a&&(a=0);var b=this.module.div;if(b){var d=b.getElementsByClassName(this.module.renderTargetClass?this.module.renderTargetClass:"cpmsrendertarget");
d.length>a?b=d[a]:d.length&&(b=d[0])}return b};d.prototype.onAdRendered=function(a){};d.prototype.nextAd=function(){return this.res&&this.res.nextAd?this.res.nextAd(this.module):!1};d.prototype.render=function(a,b,d){this.res.renderAd&&this.res.renderAd(this.module,a,null!==b&&void 0!==b?b:this.onAdRendered.bind(this),d)};d.prototype.init=function(a,d){var g,c,h,l,m,k=this;k.module.lastRan=(new Date).getTime();var w=0;if((null===a||void 0===a?0:a.getResponseData)&&(null===(c=null===(g=null===a||void 0===
a?void 0:a.getResponseData())||void 0===g?void 0:g.creativemacros)||void 0===c?0:c.HALTREFRESH)||(null===(m=null===(l=null===(h=k.module.bestbid)||void 0===h?void 0:h.bidResponse)||void 0===l?void 0:l.creativeMacros)||void 0===m?0:m.HALTREFRESH))k.halt=!0;a=null;this.mm.zonedata.mobilemodules&&this.mm.zonedata.mobilemodules.pageviewmodule&&(a=this.mm.zonedata.mobilemodules.pageviewmodule);this.mm.zonedata.requests&&null!=this.mm.zonedata.requests.pageviews&&null!=this.mm.zonedata.requests.pageviews.poolid&&
0<this.mm.zonedata.requests.pageviews.poolid?w=this.mm.zonedata.requests.pageviews.poolid:null!=this.mm.zonedata.mobilemodules&&null!=this.mm.zonedata.mobilemodules.pageviewpoolid&&0<this.mm.zonedata.mobilemodules.pageviewpoolid&&(w=this.mm.zonedata.mobilemodules.pageviewpoolid);(null==a||this.module.info&&a==this.module.info.name)&&0==b&&(b=!0,a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),window[a]=function(){k.mm.log("Pageview recorded to pool "+
w)},g=this.mm.serverroot+"/view.aspx?",g+="poolid="+w+"&script=1&json=nc&callback="+a+"&rnd="+Math.round(999999*Math.random())+"&",null!=this.mm.coppa&&(g+="tfcd="+(this.mm.coppa?1:0)+"&"),null!=this.mm.usp&&(g+="us_privacy"+this.mm.usp+"&"),null!=this.mm.gdprApplies&&(g+="gdpr="+(this.mm.gdprApplies?1:0)+"&"),null!=this.mm.getPubConsent()&&(g+="gdpr_consent="+this.mm.getPubConsent()+"&"),this.mm.getScript(g));f++;var n=window.document;(a=this.module.target?this.module.target.el:null)&&a.ownerDocument&&
(n=a.ownerDocument);this.css&&this.restyleCSS(this.css);this.globalCss&&this.setGlobalCss(this.globalCss);var r=n.createElement("div");null!=this.module.div&&(r=this.module.div,r.innerHTML="");this.module.div=r;if(this.module.pushdown)n.documentElement.style.transition="0.7s ease-in-out",n.documentElement.style.marginTop="288px",r.style.zIndex="-999",r.style.top=""+(-288+this.module.options.topPos)+"px",n.body.appendChild(r),k.setTimeout(function(){this.div.style.top=this.options.topPos+"px"}.bind(this.module),
0),k.setTimeout(function(){n.documentElement.style.transition="";r.style.zIndex="auto"},700);else if(this.module.insertBefore)(a=k.mm.pickEl(this.module.insertBefore,void 0,void 0,!0))&&a.parentNode&&a.parentNode.insertBefore(r,a);else if(this.module.target&&(g=this.module,c=!0,!1===g.target.destroy&&(c=!1),null==a&&(a=g.target.topWindow?k.mm.pickEl(g.target.find,g.target.pick,window.top,c):k.mm.pickEl(g.target.find,g.target.pick,void 0,c)),a)){switch(this.module.target.kind){case "swaphide":a.parentNode.insertBefore(r,
a);a.style.display="none";break;case "swap":a.parentNode.insertBefore(r,a);a.parentNode.removeChild(a);break;case "replace":for(;a.firstChild;)a.removeChild(a.firstChild);case "last":case "into":a.appendChild(r);break;case "first":a.insertBefore(r,a.firstChild);break;case "before":a.parentNode.insertBefore(r,a);break;case "after":a.parentNode.insertBefore(r,a.nextSibling)}if(this.module.options&&(this.module.options.position||this.module.options.autoSizeToTarget)){var P=null,T=n.createElement("div");
T.style.pointerEvents="auto";T.classList.add("cpmsrendertarget");if(this.module.style&&"fixed"==this.module.style.position)r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.bottom="0",r.style.right="0",r.style.zIndex="2147483638",r.style.pointerEvents="none",P=r;else if(r.style.position="relative",r.style.zIndex="2147483638",P=n.createElement("div"),P.style.position="absolute",P.style.pointerEvents="none",P.style.zIndex="2147483638",P.style.width=getComputedStyle(a).width,P.style.height=
getComputedStyle(a).height,r.appendChild(P),g.options.autoSizeToTarget){g=getComputedStyle(a);T.style.width=g.width?g.width:a.clientWidth+"px";T.style.height=g.height?g.height:a.clientHeight+"px";var x=a;window.addEventListener("resize",function(a){a=getComputedStyle(x);P.style.width=T.style.width=a.width?a.width:x.clientWidth+"px";P.style.height=T.style.height=a.height?a.height:x.clientHeight+"px"})}P.appendChild(T);r=T}}this.module.divid&&"anchor"!==this.module.kind&&(r.id=this.module.divid);if(this.module.class)for(a=
Array.isArray(this.module.class)?this.module.class:[this.module.class],g=0;g<a.length;g++)r.classList.add(a[g]);if(this.module.style)for(a=Object.keys(this.module.style),g=0;g<a.length;g++)c=a[g],r.style[c]=this.module.style[c];if(this.module.pageStyle)for(a=Object.keys(this.module.pageStyle),g=0;g<a.length;g++)for(c=a[g],h=k.mm.findEls(c),l=Object.keys(this.module.pageStyle[c]),m=0;m<h.length;m++)for(var M=h[m],X=0;X<l.length;X++){var z=l[X];M.style[z]=this.module.pageStyle[c][z]}if(null!=r){if(this.module.options&&
this.module.options.position)switch(a=this.module.options.position,r.style.position="absolute",typeof a){case "string":g=a.toLowerCase(),0<=g.indexOf("top")?r.style.top="0px":0<=g.indexOf("bottom")?r.style.bottom="0px":(r.style.top="50%",this.module.options.height?r.style.marginTop=-Math.round(.5*parseFloat(this.module.options.height))+"px":this.module.style&&this.module.style.height&&(r.style.marginTop=-Math.round(.5*parseFloat(this.module.style.height))+"px")),0<=g.indexOf("left")?r.style.left=
"0px":0<=g.indexOf("right")?r.style.right="0px":(r.style.left="50%",this.module.options.width?r.style.marginLeft=-Math.round(.5*parseFloat(this.module.options.width))+"px":this.module.style&&this.module.style.width&&(r.style.marginLeft=-Math.round(.5*parseFloat(this.module.style.width))+"px"));case "object":null!=a.x&&null!=a.y&&(r.style.left=a.x,r.style.top=a.y)}if(void 0!=this.module.options.sandbox)a=document.createElement("div"),(this.module.template||this.module.children)&&e.prototype.renderTemplate.call(this,
this.module,a),g="",this.module.css&&(c=p.getCssString(this.module.css,this.module.divid),g+="<style>"+c+"</style>"),c=getComputedStyle(r).width,h=getComputedStyle(r).height,g="<head></head><body><div id='"+r.id+"' style='width:"+c+"; height:"+h+"'>"+g+a.innerHTML+"</div></body>",u.default.insertNewIframe({width:c,height:h,intoEl:r,renderHtml:g,sandbox:this.module.options.sandbox});else if(this.module.template||this.module.children)this.$mount(r),e.prototype.renderTemplate.call(this,this.module,r);
a=function(){for(var a=[].slice.call(r.getElementsByClassName("autofit")),b=0;b<a.length;b++)p.autoFitText(a[b])};k.onEvent(window,"resize",a);k.onEvent(window,"orientationchange",a);a()}r&&window.context&&window.context.requestResize&&window.context.requestResize(this.module.options.width,this.module.options.height,!1);k.triggerEvent("init");d&&d()};d.prototype.setTimeout=function(a,b){a=window.setTimeout(a,b);a=window.clearTimeout.bind(window,a);this.addFinalizer(a);return a};d.prototype.setInterval=
function(a,b){a=setInterval(a,b);a=window.clearInterval.bind(window,a);this.addFinalizer(a);return a};d.prototype.isViewable=function(a,b){if(!1===this.module.options.requireViewable)return!0;for(var d=a;d;){if(d.nodeType==Node.ELEMENT_NODE){var c=getComputedStyle(d);if("none"==c.display||"hidden"==c.visibility)return!1;try{if(c.opacity&&.1>=parseFloat(c.opacity))return!1}catch(v){}if("fixed"==c.position||"sticky"==c.position)break}d=d.parentNode}a=a.getBoundingClientRect();b&&(a.height=b);var f=
window.innerWidth;b=window.innerHeight;var e=document.documentElement.clientWidth;d=document.documentElement.clientHeight;(c=f)&&e&&(c=Math.min(f,e));null==c&&(c=e);null==c&&(c=document.getElementsByTagName("body")[0].clientWidth);(f=b)&&d&&(f=Math.min(b,d));null==f&&(f=d);null==f&&(f=document.getElementsByTagName("body")[0].clientHeight);return 0<=a.top&&0<=a.left&&a.top+.6*a.height<=f&&a.left+.8*a.width<=c?!0:!1};d.prototype.startRefreshTimer=function(a){var b=this;a=function(){var a=b.getRenderTarget();
document&&document.hasFocus&&document.hasFocus()&&b.lastRefreshed<(new Date).getTime()-b.module.options.refreshrate&&a&&b.isViewable(a,0)&&(b.lastRefreshed=(new Date).getTime(),b.adcmd({kind:"adcmd",command:"refresh",module:b.module.info.name}))};b.onEvent(window,"focus",a);b.onEvent(window,"resize",a);b.onEvent(window,"scroll",a);b.onEvent(window,"orientationchange",a);b.setInterval(a,b.module.options.refreshrate)};d.prototype.onEvent=function(a,b,d,c){void 0===c&&(c=!1);var g=null;a.addEventListener?
(a.addEventListener(b,d,c),g=function(a,b){this.removeEventListener(a,b)}.bind(a,b,d)):a.attachEvent&&(a.attachEvent("on",b,d),g=function(c,g){this.detachEvent(c,g).bind(a,b,d)});this.addFinalizer(g);return g};d.prototype.addFinalizer=function(a){(this.finalizers=this.finalizers||[]).push(a)};d.prototype.restyleCSS=function(a){var b=window.document,d=this.module.target?this.module.target.el:null;d&&d.ownerDocument&&(b=d.ownerDocument);this.css=a;this.module.styleEl&&this.module.styleEl.parentNode&&
this.module.styleEl.parentNode.removeChild(this.module.styleEl);a=b.createElement("style");this.module.styleEl=a;a.type="text/css";a.styleSheet?a.styleSheet.cssText=p.getCssString(this.css,this.module.divid):a.appendChild(b.createTextNode(p.getCssString(this.css,this.module.divid)));b.head.appendChild(a)};d.prototype.destroy=function(){for(;this.finalizers&&0<this.finalizers.length;)this.finalizers.pop()();this.module.div&&this.module.div.parentNode&&this.module.div.parentNode.removeChild(this.module.div);
this.module.styleEl&&this.module.styleEl.parentNode&&this.module.styleEl.parentNode.removeChild(this.module.styleEl)};d.prototype.initSliceManager=function(){this.nextSliceTimer&&(this.mm.log("Reset slice timer for module: "+this.module.info.name),this.nextSliceTimer(),this.nextSliceTimer=null);var a=.5;if("number"==typeof this.module.options.timeslice)try{a=parseFloat(this.module.options.timeslice)}catch(m){}this.module.options.timeslice&&Math.random()<a&&(a=this.getNextTimesliceMs(),0<a&&this.setSliceTimer(a))};
d.prototype.tryNextTimeslice=function(){if(this.mm.isAdBlockerOn())this.mm.log("Disabling timeslicing due to ad blocker detected");else{var a=(new Date).getTime();if(a<this.nextSliceTimestamp)a-=this.nextSliceTimestamp,this.mm.log("tryNextTimeslice: Did not use all time, adding "+a+"ms"),this.setSliceTimer(a);else{a=this.getRenderTarget();var b=5E3;this.isViewable(a,null)&&(this.nextAd()&&(a.innerHTML="",this.render(a)),b=this.getNextTimesliceMs());0<b&&this.setSliceTimer(b)}}};d.prototype.setSliceTimer=
function(a){this.nextSliceTimer&&(this.nextSliceTimer(),this.nextSliceTimer=null);this.nextSliceTimestamp=(new Date).getTime()+a;this.nextSliceTimer=this.setTimeout(this.tryNextTimeslice.bind(this),a)};d.prototype.getNextTimesliceMs=function(){var a,b,d,c,f,e,l=null===(a=this.pickResult)||void 0===a?void 0:a.picks;a=null===(b=this.pickResult)||void 0===b?void 0:b.totalCPM;b=null!==(d=this.module.options.refreshrate)&&void 0!==d?d:this.DEFAULTREFRESHRATE;d=null!==(c=this.module.options.minslice)&&
void 0!==c?c:this.DEFAULTMINSLICE;if(a&&l&&l[null!==(f=this.module.renderIndex)&&void 0!==f?f:0])return c=l[null!==(e=this.module.renderIndex)&&void 0!==e?e:0].cpm,e=c/a*b,e<d&&(e=d),this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+": slice "+(this.module.renderIndex+1)+"/"+l.length+" is $"+c.toFixed(2)+" out of totalCPM: $"+a.toFixed(2)+". Next slice in: "+Math.round(e)+"ms!"),e;this.mm.log(""+this.module.info.name+" auction#"+(this.refreshIndex+1)+":  No slices left.");return-1};
d.prototype.setCss=function(a){null==this.css&&(this.css={});"string"===typeof this.css?this.mm.log("Error, cannot setCSS on a legacy string CSS"):(this.css=p.mergeObjects(this.css,a),this.restyleCSS(this.css))};d.prototype.setStyle=function(a,b){Object.keys(b).forEach(function(d){a.style[d]=b[d]})};d.prototype.setGlobalCss=function(a){void 0==this.globalCss&&(this.globalCss={});void 0!=a&&(this.globalCss=p.mergeObjects(this.globalCss,a));a=window.document;this.module.globalStyleEl&&this.module.globalStyleEl.parentNode&&
this.module.globalStyleEl.parentNode.removeChild(this.module.globalStyleEl);var b=a.createElement("style");this.module.globalStyleEl=b;b.styleSheet?b.styleSheet.cssText=p.getCssString(this.globalCss):b.appendChild(a.createTextNode(p.getCssString(this.globalCss)));a.head.appendChild(b)};d.COMPONENT_DESTROY_TIMER=1E3;return d}(n("./src/zonemasters/superclasses/basic/rootcomponent.ts").default);k.default=e},"./src/zonemasters/components/videoplayer.ts":function(e,k,n){function r(e){var f=(new MessageChannel).port1;
e.dispatchEvent=f.dispatchEvent.bind(f);e.addEventListener=f.addEventListener.bind(f);e.removeEventListener=f.removeEventListener.bind(f)}function p(e){if("function"===typeof Event)var f=new Event(e);else f=document.createEvent("Event"),f.initEvent(e,!1,!1);return f}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(e){function f(a){var b={};if(1==a.nodeType)for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@"+d.nodeName.toLowerCase()]=d.nodeValue}else 3==a.nodeType?
b=a.nodeValue:4==a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes())for(c=0;c<a.childNodes.length;c++){d=a.childNodes.item(c);var g=d.nodeName.toLowerCase();if("undefined"==typeof b[g])b[g]=f(d);else{if("undefined"==typeof b[g].push){var e=b[g];b[g]=[];b[g].push(e)}b[g].push(f(d))}}return b}function b(a){(a=a?a:[])&&!Array.isArray(a)&&(a=[a]);return a}function l(a){if(!a)return null;a=null!=a["#cdata-section"]?a["#cdata-section"]:a["#text"];null!=a&&(a=Array.isArray(a)?a.join(""):a,a=a.trim());return a}
function d(a){a=b(a);for(var c=[],d=0;d<a.length;d++){var g=l(a[d]);null!=g&&""!=g&&c.push(g)}return c}function a(a){if(!da){da=!0;a&&"skipped"!=a&&(B("VAST Error "+a+"\r\n"+a.stack),P(ja));null!=O&&clearInterval(O);null!=Y&&clearTimeout(Y);if(J)try{J.parentNode.removeChild(J),J=null}catch(ba){}null!=t&&0<t.readyState&&(t.pause(),t.currentTime=t.duration-.7);a&&"skipped"!=a?z.dispatchEvent(p("error")):z.dispatchEvent(p("complete"))}}function m(a,b){var c=document.createElement(a);Object.keys(b).forEach(function(a){c.setAttribute(a,
b[a])});return c}function g(a,b){b&&(b=m("track",{src:b,srclang:"en",kind:"subtitles"}),a.prepend(b),b.toggleAttribute("default"),a.setAttribute("crossorigin","anonymous"))}function c(a){if("function"===typeof a)try{return a()}catch(ba){return 0}else return a}function h(){if(I&&E){try{E.adDuration?L=c(E.adDuration):E.adRemainingTime&&(L=t.currentTime+c(E.adRemainingTime))}catch(qa){B("Error parsing remaining time in vpaidMode")}B("Vpaid duration updated to: "+L+" seconds")}else!isNaN(t.duration)&&
isFinite(t.duration)&&(L=Math.min(60,t.duration))}function q(a,b){var c=document.createElement("source");c.setAttribute("src",a);c.setAttribute("type",Q);t=document.createElement("video");t.setAttribute("playsinline","");g(t,b);a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(0<=a.indexOf("ipad")||0<=a.indexOf("iphone")||0<=a.indexOf("ipod"))t.autoplay=!0;z.setMuted(ka);wa&&(t.volume=wa);t.width=va;t.height=ca;Z&&t.classList.add(Z);t.addEventListener("durationchange",
function(){B("video element changed duration to "+t.duration);h()});t.appendChild(c);k();c=document.createElement("a");c.target="_blank";c.href=Da+F;c.onclick=function(){F&&window.open(Da+F,"_blank");T();return!1};c.appendChild(t);ua.appendChild(c);pa=Date.now();var d=!1;t.addEventListener("play",function(){d||(d=!0,B("playing"),h(),x(0))});t.addEventListener("timeupdate",function(){z.dispatchEvent(p("timeupdate"))});t.addEventListener("timeupdate",M);O=setInterval(M,500);t.addEventListener("ended",
function(){B("video element ended playback");x(4)})}function k(a){void 0===a&&(a=null);var b=!1,c=!1,d=function(){t.removeEventListener("error",d);t.removeEventListener("canplay",g);t.removeEventListener("loadedmetadata",g);for(var b=0;b<t.children.length;b++)"source"==t.children[b].tagName.toLowerCase()&&t.children[b].removeEventListener("error",d);c||(c=!0,z.setMuted(!0),B("caught error -- cannot autoplay at all"),a&&a({canAutoplay:!1,requiresMuted:!0}))},g=function(){try{t.removeEventListener("error",
d);t.removeEventListener("canplay",g);t.removeEventListener("loadedmetadata",g);for(var f=0;f<t.children.length;f++)"source"==t.children[f].tagName.toLowerCase()&&t.children[f].removeEventListener("error",d)}catch(Ea){}b||(b=!0,B("did not autoplay, so call play manually"),f=t.play(),void 0!==f?f.then(function(){c||(c=!0,B("can autoplay sound on"),a&&a({canAutoplay:!0,requiresMuted:!1}))}).catch(function(b){B("call to play prevented so had to mute");z.setMuted(!0);t.play().then(function(){c||(c=!0,
B("call to play allowed when muted"),a&&a({canAutoplay:!0,requiresMuted:!0}))}).catch(function(b){B("call to play failed even when muted");c||(c=!0,a&&a({canAutoplay:!1,requiresMuted:!1}))})}):c||(c=!0,a&&a({canAutoplay:!0,requiresMuted:!1})))};t.addEventListener("error",g);t.addEventListener("canplay",g);t.addEventListener("loadedmetadata",g);for(var f=0;f<t.children.length;f++)"source"==t.children[f].tagName.toLowerCase()&&t.children[f].addEventListener("error",d)}function u(b){B("loadVpaid called");
w(5);pa=Date.now();var c=0;for(b=b.getElementsByTagName("Linear");c<b.length;c++){var d=b[c],g=d.getElementsByTagName("AdParameters");0<g.length&&(N=g[0].textContent.trim());g=0;for(d=d.getElementsByTagName("MediaFile");g<d.length;g++){var f=d[g];if("VPAID"==f.getAttribute("apiFramework")&&"application/javascript"==f.getAttribute("type")){var e=f.textContent.trim();break}}if(e)break}B("mediaFileUrl "+e);J=document.createElement("iframe");J.width=""+va;J.height=""+ca;J.frameBorder="0";J.scrolling=
"no";Z&&J.classList.add(Z);ua.appendChild(J);window.setTimeout(function(){var b=J.contentWindow.document;t=b.createElement("video");t.setAttribute("playsinline","true");t.style.left="0px";t.style.top="0px";t.style.position="absolute";t.style.width="100%";t.style.height="100%";var c=b.createElement("source");c.setAttribute("src","https://ssl.cdne.cpmstar.com/cached/zonemasters/mp4-with-audio.mp4");c.setAttribute("type","video/mp4");t.appendChild(c);var d=b.getElementsByTagName("body")[0];d.appendChild(t);
t.load();var g=b.createElement("div");g.style.left="0px";g.style.top="0px";g.style.position="absolute";g.style.width="100%";g.style.height="100%";d.appendChild(g);d=e;var f=va,l=ca,q={AdParameters:N},m={slot:g,videoSlot:t,videoSlotCanAutoPlay:!0};B("creating script ");var v=!1,u=!1,r=!1;g=b.createElement("script");g.type="text/javascript";g.async=!0;g.src=d;g.onload=function(){B("vpaid script loaded ");var b=J.contentWindow.getVPAIDAd;if(b&&"function"==typeof b){var c={AdStarted:this.onStartAd,AdStopped:this.onStopAd,
AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,
AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog},d=function(b,c){B("Ad Event "+b+" "+(c?c:""));"AdLoaded"==b&&(B("VPAID video became ready"),z.dispatchEvent(p("ready")),w(5));"AdStarted"==b&&(x(0),w(15));"AdVideoFirstQuartile"==
b&&(x(1),w(15));"AdVideoMidpoint"==b&&(x(2),w(15));"AdVideoThirdQuartile"==b&&(x(3),w(15));"AdVideoComplete"==b&&x(4);"AdClickThru"==b&&(T(),null!=c&&""!=c&&"string"==typeof c&&window.open(c,"_blank"));"AdSkippableStateChange"==b&&z.dispatchEvent(p("skippablestatechange"));"AdSkipped"!=b&&"AdStopped"!=b||a("skipped");"AdPaused"==b&&(z.paused=!0,setTimeout(function(){z.paused&&a("skipped")},3500));"AdError"==b&&a(c);"AdRemainingTimeChange"!=b&&"AdDurationChange"!=b||h()};E=b();B(" vpaidAd gotten ");
for(var g in c)E.subscribe(d.bind(null,g),g,null);E.handshakeVersion("2.0");B(" vpaidAd handshaked ");v=!0;r&&!u&&(z.setVolume(z.getVolume()),u=!0,E.initAd(f,l,"normal",200,q,m),B(" vpaidAd initAd"))}};b.getElementsByTagName("head")[0].appendChild(g);k(function(a){t.pause();t.removeChild(c);z.isMuted()||z.setMuted(a.requiresMuted);r=!0;v&&!u&&(z.setVolume(z.getVolume()),u=!0,E.initAd(f,l,"normal",200,q,m),B(" vpaidAd initAd"))})},1)}function w(a){null!=Y&&clearTimeout(Y);Y=setTimeout(n,1E3*a)}function n(){if(!S[0]){B("Watchdog timer is about to call adstop");
try{E.stopAd()}catch(qa){}a("watchdog timeout")}}function ia(a){for(var b=0;b<a.length;b++)P(a[b])}function P(a){if(null!=a&&""!=a&&(0<=a.indexOf("http://")||0<=a.indexOf("https://")||0==a.indexOf("//")))try{var b=document.createElement("img");b.src=a;b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";b.style.height="1px";ua.appendChild(b);b.onload=function(){b.style.display="none";b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="1px";
b.style.height="1px"}}catch(Ga){B("Error hitting pixel: "+Ga)}}function T(){ia(V);z.isPaused()&&z.play();return!0}function x(b){K!=b-1?B("Out of order quartile call: requested "+b+" but was at "+K):(K=b,B("quartile "+K),S[K]||(S[K]=!0,0==K&&(pa=Date.now(),z.dispatchEvent(p("start"))),1==K&&z.dispatchEvent(p("firstquartile")),2==K&&z.dispatchEvent(p("midpoint")),3==K&&z.dispatchEvent(p("thirdquartile")),ia(y[K]),4==K&&a()))}function M(){!ha&&I||ta==z.isSkippable()||(z.dispatchEvent(p("skippablestatechange")),
ta=z.isSkippable());S[0]&&3>K&&t.currentTime>=.25*(K+1)*L&&x(K+1);var b=Date.now();!z.isPaused()&&4>K&&(b-pa)/1E3>=L+2&&(B("TimerHandler is firing complete"),3==K?x(4):(B("Had to end ad forcefully by timeout without even getting to third quartile"),S[4]=!0,a()))}function X(a){var b=0;if(!a)return b;a=a.split(":");0<a.length&&(b+=Number(a.pop()));0<a.length&&(b+=60*Number(a.pop()));0<a.length&&(b+=3600*Number(a.pop()));return b}console.log("LOG - videoplayer.ts default function called ");var z=this;
r(this);var B=e.log,N,t,O,Y,U,Q="video/mp4",ja,F,V=[],L=0,C=99999,y=[[],[],[],[],[]],S=[!1,!1,!1,!1,!1],ea=[],sa=0,I=!1,E,J,wa=1,K=-1,pa,ua,va,ca,Da="",H=!1,ka=!1,la=!1,oa=0,da=!1,ta=!1,ha=!1,Z=void 0;this.setBegan=function(a){H=a};this.videoEl=function(){return t};this.initializeForUrl=function(a,b,c,d){ua=a;va=b;ca=c;Da=d&&d.clickPrefix?d.clickPrefix:"";ka=d?!!d.muted:!1;Z=d.className?d.className:void 0;ha=d?!!d.forceSkippability:!1;z.dispatchEvent(p("ready"))};this.isVpaidMode=function(){return I};
this.init=function(c,g,e,h,q){function m(b){if(0==b.indexOf("http://adrtb-cache-use.sundaysky.com")){var c=b.indexOf("&dns=");0<=c&&(b=b.slice(0,c))}fetch(b,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow"}).then(function(a){return a.text()}).then(function(a){k(a)}).catch(function(c){a("error making request to wrapperVastAdTagURI "+b)})}function k(c){try{if(0==c.indexOf("http")||0==c.indexOf("//"))m(c);else{var g=(new DOMParser).parseFromString(c,"text/xml"),e=f(g);c=[];var h=e.vast.ad;
if(null==h)U=null;else{var q=[h.inline,h.wrapper],k=["Inline","Wrapper"];for(h=0;h<q.length;h++){var w=q[h];w&&(B("found Ad."+k[h]),y[0]=y[0].concat(d(w.impression)),w.creatives&&(c=c.concat(b(w.creatives.creative))),w.error&&(ja=l(w.error)))}for(q=0;q<c.length;q++){var v=c[q].linear;if(null!=v){if(v.trackingevents){var r=b(v.trackingevents.tracking);for(w=0;w<r.length;w++){var n=r[w],A=l(n);switch(n["@event"]){case "creativeView":y[0].push(A);break;case "close":ea.push(A);break;case "start":y[0].push(A);
break;case "firstQuartile":y[1].push(A);break;case "midpoint":y[2].push(A);break;case "thirdQuartile":y[3].push(A);break;case "complete":y[4].push(A)}}}F=v.videoclicks&&v.videoclicks.clickthrough?l(v.videoclicks.clickthrough):F;v.videoclicks&&(V=V.concat(d(v.videoclicks.clicktracking)));L=v.duration?X(v.duration["#text"]):0;N=v.adparameters?l(v.adparameters):"";if(v["@skipoffset"]){var t=v["@skipoffset"],x=t.indexOf("%");C=-1!=x?L*parseFloat(t.substr(0,x)):X(t)}if(v.mediafiles){var E=b(v.mediafiles.mediafile);
for(h=0;h<E.length;h++){var W=E[h];Q=W["@type"];if(null!=Q){Q=Q.toLowerCase();var S=l(W);if(0==S.indexOf("http")||0==S.indexOf("//"))if("video/mp4"==Q||"video/webm"==Q||"video/ogg"==Q){parseInt(W["@width"]);parseInt(W["@height"]);var H=S;break}else if(("application/javascript"==Q||"application/x-javascript"==Q)&&W["@apiframework"]&&"vpaid"==W["@apiframework"].toLowerCase()){H=S;I=!0;break}}}}}}U=H}var J=e.vast.ad;if(null==U&&3>sa++&&J&&J.wrapper&&J.wrapper.vastadtaguri){var ca=l(J.wrapper.vastadtaguri);
ca?(B("Wrapper found reloading: "+ca),y[0]=y[0].concat(d(J.wrapper.impression)),m(ca)):a("no wrapper url")}else L=Math.min(14400,L),null!=U?I?u(g):(B("VAST video became ready"),z.dispatchEvent(p("ready"))):a("no video url")}}catch(Aa){a(Aa)}}ua=g;va=e;ca=h;Da=q&&q.clickPrefix?q.clickPrefix:"";ka=q?!!q.muted:!1;ha=q?!!q.forceSkippability:!1;Z=q.className?q.className:void 0;k(c)};this.skip=function(){if(H&&!da&&z.isSkippable()){if(I&&E&&E.getAdSkippableState&&E.getAdSkippableState()&&E.skipAd&&"function"===
typeof E.skipAd)E.skipAd(),z.dispatchEvent(p("skipped"));else if(!I||ha)t&&t.pause(),z.dispatchEvent(p("skipped")),a("skipped");ia(ea)}};this.close=function(){I&&E&&E.getAdSkippableState&&E.getAdSkippableState()&&E.skipAd&&"function"===typeof E.skipAd?E.skipAd():I&&this.setMuted(!0);a("skipped")};this.play=function(){la?(I?E&&E.resumeAd():t.play(),pa+=Date.now()-oa,la=!1):H||da||(H=!0,I?(E&&E.startAd(),O=setInterval(M,500)):q(U))};this.replay=function(){H&&!I&&(y=[[],[],[],[],[]],S=[!0,!1,!1,!1,!1],
K=0,pa=Date.now(),t.currentTime=0,t.play(),da=!1,O=setInterval(M,500))};this.pause=function(){la||(I?E.pauseAd():t.pause(),oa=Date.now(),la=!0)};this.isPlaying=function(){return H&&!la&&!da};this.isPaused=function(){return la};this.isMuted=function(){return ka};this.setMuted=function(a){var b=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(t){if(0<=b.indexOf("ipad")||0<=b.indexOf("iphone")||0<=b.indexOf("ipod"))if(a){t.setAttribute("muted",null);try{t.removeAttribute("muted")}catch(Ga){}}else t.setAttribute("muted",
"");t.muted=a}(ka=a)||1!=wa&&0!=wa||this.setVolume(1)};this.isSkippable=function(){return!H||da?!1:I&&!ha?E?c(E.adSkippableState):!1:z.getDuration()-z.getRemainingTime()>=C};this.getSkipOffset=function(){return C};this.setSkipOffset=function(a){C=a;!ha&&I||ta==z.isSkippable()||(z.dispatchEvent(p("skippablestatechange")),ta=this.isSkippable())};this.setSize=function(a,b){va=a;ca=b;t&&(t.width=a,t.height=b);J&&(J.width=""+a,J.height=""+b)};this.getDuration=function(){return L};this.getRemainingTime=
function(){return I?E&&E.adRemainingTime?c(E.adRemainingTime):Math.max(0,L-((new Date).getTime()-pa)/1E3):L-t.currentTime};this.getVolume=function(){return wa};this.setVolume=function(a){0>a&&(a=0);1<a&&(a=1);wa=a;I&&E?E.adVolume=ka?0:a:t&&(t.volume=a)};this.resetQuartiles=function(){K=-1;da=!1;S=[!1,!1,!1,!1,!1]};this.playUrl=function(a){H=!0;q(a.url,a.subtitles)};this.watchdogOn=function(a){w(a)};this.watchdogOff=function(){clearTimeout(Y);Y=void 0}}},"./src/zonemasters/data/steam.ts":function(e,
k,n){function r(e){return k.steamgpus[e.toLowerCase()]}Object.defineProperty(k,"__esModule",{value:!0});k.isSteamGPU=k.getSteamGPUInfo=k.steamgpus=void 0;k.steamgpus={"nvidia geforce gtx 1060":{dx:12},"nvidia geforce gtx 1050 Ti":{dx:12},"nvidia geforce gtx 1650":{dx:12},"nvidia geforce rtx 2060":{dx:12},"nvidia geforce gtx 1050":{dx:12},"nvidia geforce gtx 1660 Ti":{dx:12},"nvidia geforce gtx 1070":{dx:12},"nvidia geforce gtx 1660 super":{dx:12},"nvidia geforce gtx 1660":{dx:12},"nvidia geforce rtx 2070 super":{dx:12},
"nvidia geforce rtx 3070":{dx:12},"amd radeon rx vega 11 graphics":{dx:12},"nvidia geforce gtx 1080":{dx:12},"nvidia geforce rtx 3090":{dx:12},"nvidia geforce GT 710":{dx:12},"nvidia geforce MX250":{dx:12},"nvidia geforce MX150":{dx:12},"nvidia geforce gtx 950":{dx:12},"nvidia geforce gtx 970":{dx:12},"amd radeon rx 480":{dx:12},"nvidia geforce gtx 950m":{dx:12},"amd radeon graphics":{dx:12},"amd radeon rx 560":{dx:12},"nvidia geforce gtx 7500":{dx:12},"amd radeon rx 5500 xt":{dx:12},"nvidia geforce rtx 2070 with max-q design":{dx:12}};
k.getSteamGPUInfo=r;k.isSteamGPU=function(e){return null==e?!1:r(e)?!0:!1}},"./src/zonemasters/mobilemodules.ts":function(e,k,n){function r(){oa=null==(ha=la.match(/[\?&]cpmstarhash=([^&#]*)/))?"":"#"+ha[1]}function p(){var a=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():null;if(null!=a){for(var b=0;b<Sa.length;b++)if(0<=a.indexOf(Sa[b]))return Sa[b];if(0<=a.indexOf("windows"))return"windows";if(0<=a.indexOf("macintosh"))return"macintosh";if(0<=a.indexOf("linux"))return"linux"}else return"other"}
function u(){if(Na){var a=Ka.getParameterByName("cpmstar_mobileoverride");if("1"===a)return!0;if("0"===a)return!1}a=p();return"other"!==a?0<=Sa.indexOf(a):!1}function f(){if(Na){var a=Ka.getParameterByName("cpmstar_mobileoverride");if("1"===a)return!1;if("0"===a)return!0}a=p();return"other"!==a?0<=qb.indexOf(a):!1}function b(a){var c=p();if("string"===typeof a)return a=a.toLowerCase().trim(),"mobile"===a?u():"desktop"===a?f():a===c;if(Array.isArray(a)){c=!1;for(var d=0;d<a.length&&!(c=b(a[d]));d++);
return c}B("error - invalid condition: "+a);return!1}function l(a){if("string"===typeof a)return a=a.trim(),oa.toLowerCase()==a.toLowerCase();if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(l(a[b]))return!0;return!1}B("error - invalid condition: "+a);return!1}function d(a){if("string"===typeof a||"number"==typeof a){if($a){if("1"==a)return!0;if("0"==a)return!1}return Ra==a}if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(d(a[b]))return!0;return!1}B("error - invalid condition: "+a);return!1}function a(b,
c){if(b&&null!=c&&"number"===typeof c){if(b=ma[b&&null!=b.id?b.id:b.info.name],null==b||null==b.lastRan||b.lastRan+c<=(new Date).getTime())return!0}else if(Array.isArray(c))for(var d=0;d<c.length;d++)if(a(b,c[d]))return!0;return!1}function m(a){Ja=G.locationData;if("object"===typeof Ja){if(!Array.isArray(a)){var b=!1,c=0<=F.toStringArrayLower(a.countryCode).indexOf(Ja.countryCode.toLowerCase());b=b||c;c=0<=F.toStringArrayLower(a.region).indexOf(Ja.region.toLowerCase());b=b||c;c=0<=F.toStringArrayLower(a.city).indexOf(Ja.city.toLowerCase());
b=b||c;return a.exclude?!b:b}if(Array.isArray(a)){for(var d=c=b=0;d<a.length;d++){var g=m(a[d]);if(a[d].exclude){if(!g)return!1}else b++,g&&c++}if(0<b)return 0<c}}return!0}function g(a){var b=ta;Array.isArray(a)||"string"!==typeof a||(a=[a]);for(var c=0,d=0;d<a.length;d++){if(a[d]===b)return!0;if("~"===a[d][0]&&c++,a[d]==="~"+b)return!1}return 0==a.length-c}function c(a){var b=da.toLowerCase().trim(),d=a.indexOf("*");if("string"===typeof a){a=a.toLowerCase().trim();if(0>d)return a===b;if(0<=d){do{var g=
a.slice(0,d),f=d<a.length-1?a[d+1]:null;if(0!=b.indexOf(g))return!1;b=b.slice(g.length);null!=f&&(g=b.indexOf(f),b=b.slice(g));a=a.slice(d+1);d=a.indexOf("*")}while(-1!=d);return 0==a.length||b.indexOf(a)==b.length-a.length?!0:!1}}else if(Array.isArray(a)){for(b=0;b<a.length;b++)if("string"===typeof a[b]&&"~"==a[b][0]){if(c(a[b].slice(1)))break}else if(c(a[b]))return!0;return!1}B("error - invalid condition: "+a);return!1}function h(a){var b,c=D.requests,d=null===(b=null===D||void 0===D?void 0:D.info)||
void 0===b?void 0:b.zonepools;b=void 0;if(null==a)return null;b=D.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:c.name)==a});null==b&&d&&c[a]&&c[a].poolid&&d[c[a].poolid]&&(a=d[c[a].poolid].module,b=D.modules.find(function(b){var c;return(null===(c=null===b||void 0===b?void 0:b.info)||void 0===c?void 0:c.name)==a}));return null!==b&&void 0!==b?b:null}function q(){setTimeout(function(){R.triggerjb&&R.triggerjb()},500)}function v(a){try{if(q(),
a)if("function"===typeof a)a(bb);else{var b="string"===typeof a?a.split("."):a.kind?a.kind.split("."):[];if(2==b.length)bb[b[0]][b[1]]("object"===typeof a?a:void 0);else if("object"===typeof a){if(a.cb){var c=function(a,b,c){a(function(){q();b&&b()},c)}.bind(null,a.cb);a.cb=c}switch(a.kind){case "gpt":a.data&&a.data.sizemap&&ja(a.data.sizemap,a.data.roadblock);case "showlog":ab=!ab;case "listmodules":a.cb(Object.keys(ma));break;case "setconfig":a.conditions&&(null==D.conditions&&(D.conditions=[]),
D.conditions=F.mergeObjectsWithConditions(D.conditions,a.conditions));break;case "setmoduledata":for(var d=Object.keys(a.data),g=0;g<d.length;g++){var f=d[g],e=h(f),l=e.css?e.css:{},m=e.options?e.options:{};a.data[f].css&&(e.css=F.mergeObjects(l,a.data[f].css));a.data[f].options&&(e.options=F.mergeObjects(m,a.data[f].options))}break;case "setrequestdata":d=Object.keys(a.data);for(e=0;e<d.length;e++)if(f=d[e],0==f.indexOf("hb.")){var k=f.slice(f.indexOf("hb.")+3),w=D.requests.hb;if(w&&w.adUnits)for(g=
0;g<w.adUnits.length;g++)("*"==k||w.adUnits[g].code==k)&&w.adUnits[g]&&(w.adUnits[g]=F.mergeObjects(w.adUnits[g],a.data[f]))}else{var aa=Object.keys(D.requests);for(g=0;g<aa.length;g++){var v=aa[g];if("*"==f||v==f)D.requests[v]=F.mergeObjects(D.requests[v],a.data[f])}}break;case "addplacementandgo":d=!1;if(null!=D.modules)for(f=0;f<D.modules.length;f++){e=D.modules[f];var p=e.conditions;if(p){p=Array.isArray(p)?p:[p];for(g=0;g<p.length&&!(d=A(e,p[g],a.pid,a.pindex));g++);if(d)break}}d?null!=fa&&fa():
a.render();break;case "request":var u=h(a.module);if(!u)break;a.config&&(u=F.deepClone(u),u=F.mergeObjectsWithConditions(u,a.config));u.ready=!0;null!=fa&&fa(u,"request",a);break;case "cmp":X(a.cb?a.cb:null,!0);break;case "go":if(null==a.module)null!=fa&&fa();else if(u=h(a.module))a.config&&(u=F.deepClone(u),u=F.mergeObjectsWithConditions(u,a.config)),u.ready=!0,null!=fa&&fa(u,null,a);break;case "asynctagfetch":null==R.libcmd&&N(Ha+"/cached/js/lib.js");if(null!=a.el&&null!=a.pid){var r=Ga(Ma+a.pid,
0);a.el.className=r;a.pindex=window.document.getElementsByClassName(r).length-1;(R.libcmd=R.libcmd||[]).push(a)}break;case "createmodule":if(null==a.config)break;null==a.once&&(a.once=!0);null==a.config.info&&(a.config.info={},a.config.info.name=a.module);var n=h(a.config.info.name);if(null!=n)if(n=F.deepClone(n),0==n.info.overrides){var y=F.deepClone(a.config);n=F.mergeObjectsWithConditions(y,n)}else n=F.mergeObjectsWithConditions(n,a.config);else D.modules.push(a.config),n=h(a.config.info.name),
n=F.mergeObjectsWithConditions(n,{conditions:{wait:!0}});if(!n)break;null!=fa&&Ta(function(){n.ready=!0;fa(n,null,a)});break;case "refresh":if(a.data&&a.data.modules&&Array.isArray(a.data.modules))for(e=0;e<a.data.modules.length;e++){var t=ma[a.data.modules[e]];null!=t&&null!=t.js&&t.js.adcmd({kind:"adcmd",command:"refresh"})}break;case "adcmd":t=ma[a.module];null!=t&&null!=t.js&&t.js.adcmd(a);break;case "cmp_":var x=a.config;if(null==x)break;var E=a.config.type;if(null==E)break;switch(E){case "showcmp":var W=
x.force,I=x.usp,ea=x.forceusp;"object"!=typeof x.config&&(x.config={});var C=x.config;C.usp=z(I,ea);Ta(function(){X(function(){a.cb&&a.cb()},null!=W&&W?!0:!1,C)});break;case "gdpr":var L=x.gdprapplies;"boolean"==typeof L&&(G.gdprApplies=L);"string"==typeof x.consentstring&&(document.cookie="pubconsent="+a.data.consentstring+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/");break;case "usp":var S=x.usp;"string"==typeof S&&(document.cookie="usp="+S+"; expires="+(new Date((new Date).getTime()+
6048E5)).toUTCString()+"; path=/");break;case "coppa":if("boolean"==typeof x.coppa){var J=!!G.coppa,H=!!x.coppa;if(J!=H){G.coppa=H;var V=Ua.hb;null!=V&&null!=V.reinit&&V.reinit()}}}break;case "showcmps":Ta(function(){X(function(){a.cb&&a.cb()},null!=a.force&&a.force?!0:!1,a.config)});break;case "gdpr":if("object"!=typeof a.data)break;"boolean"==typeof a.data.gdprapplies&&(G.gdprApplies=a.data.gdprapplies);if("string"!=typeof a.data.consentstring)break;document.cookie="pubconsent="+a.data.consentstring+
"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/";break;case "coppa":if(null==a.value&&"boolean"!=typeof a.value)break;J=!!G.coppa;H=!!a.value;if(J!=H){if(G.coppa=H,B("coppa set to "+G.coppa),V=Ua.hb,null!=V&&null!=V.reinit&&V.reinit(),!G.coppa){B("coppa value changed to false, refreshing banners for all module instances");var ca=Object.keys(ma);for(e=0;e<ca.length;e++){var K=ma[ca[e]];null!=K&&null!=K.js&&K.js instanceof sa.default&&K.js.adcmd({kind:"adcmd",command:"refresh"})}}}else B("set coppa ignored, same value");
break;case "usp":if(null!=a.value||"string"==typeof a.value)document.cookie="usp="+a.value+"; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/"}}}}catch(vb){}}function A(a,b,c,d){if(a&&"skin"==a.kind&&a.info&&a.info.name=="POOL "+c)return!0;if(null==b||null==b.target)return!1;a=b.target;c="string"==typeof a.find&&a.find=="$"+c||Array.isArray(a.find)&&0<a.find.indexOf("$"+c);d=a.pickAll||"all"==a.pick||"last"==a.pick||(null==a.pick||"first"==a.pick)&&0==d||"number"==typeof a.pick&&
a.pick==d||Array.isArray(a.pick)&&0<a.pick.indexOf(d);return c&&d}function w(a,b){if(null==a)return null;if(null!=a.el)return b;var c=window;a.topWindow&&(c=window.top);if(a.pickAll&&(Array.isArray(a.pick)||Array.isArray(a.find)||"string"===typeof a.pick&&"all"===a.pick.toLowerCase().trim())){var d=[],g=0,f=20,e;Array.isArray(a.pick)?f=a.pick.length:Array.isArray(a.find)&&(f=a.find.length);for(var h=0;h<f;h++)if(e=Array.isArray(a.pick)?null!=U(a.find,a.pick[h],c):Array.isArray(a.find)?null!=U(a.find[h],
a.pick,c):null!=U(a.find,h,c))e=F.extendLite({},b),e.target=F.extendLite({},b.target),Array.isArray(a.pick)?e.target.pick=a.pick[h]:Array.isArray(a.find)?e.target.find=a.find[h]:e.target.pick=h,e.iteration=g,g++,d.push(e);b=d}else{c=null!=U(a?a.find:null,a?a.pick:null,c);if(1==a.slot||1==a.found)c=!0;if(!c)return null}return b}function W(f,e,h){void 0===h&&(h=null);var q={};null!=H.zone_conditions&&null!=H.zone_conditions.bypassConditions&&(q=H.zone_conditions.bypassConditions);if(null==e)return{};
if(Array.isArray(e)){q="|";var k=0;e.length&&"|"==e[0]&&(q="|",k++);e.length&&"&"==e[0]&&(q="&",k++);for(var aa=null;k<e.length;k++){var v=W(f,e[k],h);if(null!=v&&(!Array.isArray(v)||0<v.length)){if("&"==q){null==aa&&(aa={});aa=F.mergeObjects(aa,v);continue}return v}if("&"==q)return null}return aa}if("object"===typeof e){if(null!=e.gap&&!a(f,e.gap)&&null==q.gap||null!=e.geo&&!m(e.geo)&&null==q.geo)return null;if(k=null!=e.percent)k=e.percent,k=("string"===typeof k||"number"==typeof k)&&100*Ya<=parseFloat(k)?
!0:!1,k=!k;if(k&&null==q.percent)return null;if(k=null!=e.test)k=e.test,k="string"===typeof k?(new Function("return ("+k+");")).bind(D)()?!0:!1:!1,k=!k;if(k&&null==q.test)return null;if(k=null!=e.querystring){a:{k=e.querystring;if("string"===typeof k)if("~"==k[0]){if(aa=k.slice(1).split("="),v=Ka.getParameterByName(aa[0]),2==aa.length&&null==v||v!=k[0]){k=!0;break a}}else if(aa=k.split("="),v=Ka.getParameterByName(aa[0]),1==aa.length&&null!=v||v==aa[1]){k=!0;break a}k=!1}k=!k}if(k&&null==q.param||
null!=e.deviceType&&!b(e.deviceType)&&null==q.deviceType||null!=e.hash&&!l(e.hash)&&null==q.hash||null!=e.host&&!g(e.host)&&null==q.host||null!=e.path&&!c(e.path)&&null==q.path||null!=e.jbStatus&&!d(e.jbStatus))return null;if(e.divExists||e.target)q.target?e.target=w(q.target,q).target:e=w(e.target,e);if(f&&(e&&e.wait||f.wait)&&null==f.ready||f&&"init"==f.moduleState&&f.initwaitdomready&&!Ia)return h&&(h.isWaiting=!0),null;null==e&&null!=f.target&&(e=w(f.target,{target:f.target}));return e}return{}}
function ia(a,b){var c,d,g;void 0===b&&(b=!1);if(window.__tcfapi)a();else{var f=null===(g=null===(d=null===(c=G.zonedata)||void 0===c?void 0:c.options)||void 0===d?void 0:d.cmp)||void 0===g?void 0:g.id;!cb&&f?(cb=!0,N("https://gdpr.privacymanager.io/latest/gdpr.bundle.js",function(){N("https://gdpr-wrapper.privacymanager.io/gdpr/"+f+"/gdpr-liveramp.js",function(){try{b?window.__tcfapi("toggleConsentTool",2,function(){a&&a()},1):a&&a()}catch(hb){B(hb.toString())}})})):void 0==f&&B("The cmp needs a valid id. (options.cmp.id)")}}
function P(){var a=F.parsedCookies().pubconsent,b=F.parsedCookies().euconsent;return a?a:b}function T(){return null==G.locationData||null==G.locationData.countryCode?null:-1=="GB DE PL FR ES NO IT IS RO SE BG GR NL HR IE CH CZ AT HU FI DK BE LI PT MT LU CY LT SK SI EE LV".split(" ").indexOf(G.locationData.countryCode)?!1:!0}function x(){var a=window.location.href,b="";0<a.indexOf("pwtv=")&&(a=/pwtv=(.*?)(&|$)/g.exec(a),2<=a.length&&0<a[1].length&&(b="/"+a[1]));a=document.createElement("script");a.async=
!0;a.type="text/javascript";a.src="//ads.pubmatic.com/AdServer/js/pwt/160251/3268"+b+"/pwt.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function M(){var a,b,c,d=null===(c=null===(b=null===(a=G.zonedata)||void 0===a?void 0:a.options)||void 0===b?void 0:b.cmp)||void 0===c?void 0:c.atsid;null!=d&&N("https://ats-wrapper.privacymanager.io/ats-modules/"+d+"/ats.js",function(){});ib=!0}function X(a,b,c){var d,g,f;void 0===b&&(b=!1);if(null!==(f=null===(g=null===(d=G.zonedata)||
void 0===d?void 0:d.options)||void 0===g?void 0:g.cmp)&&void 0!==f&&f.atsid)if(b)ia(a,!0);else{if(T()){b=P();if("0"==b||"NA"==b)document.cookie="pubconsent=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";ia(a)}else document.cookie="pubconsent=NA; expires="+(new Date((new Date).getTime()+6048E5)).toUTCString()+"; path=/",a&&a();(null==G.locationData||null==G.locationData.countryCode?0:-1!="AU DE ES FR GB IT JP NL SG US".split(" ").indexOf(G.locationData.countryCode))&&M()}else a&&a()}function z(a,
b){null!=a&&(z.usp=a);null!=b&&(z.forceUsp=b);a=a||z.usp;if(b=b||z.forceUsp)return!0;G.zonedata.options&&G.zonedata.options.cmp&&null==b&&null==a&&(a=null!=a?a:G.zonedata.options.cmp.usp,b=null!=b?b:G.zonedata.options.cmp.forceusp);if(b)return!0;b=null!=G.locationData.region&&"California"==G.locationData.region?!0:!1;var c=null!=F.parsedCookies().usp;return b&&a&&!c}function B(a){(Na||ab)&&console.log(a);db&&db.queue.push({message:a,timestamp:(new Date).getTime()})}function N(a,b,c){a=a.replace("%%ver%%",
!Ea&&D.ver?"?ver="+D.ver:"");var d=document.createElement("script");d.setAttribute("data-ot-ignore","1");d.src=a;d.async=!0;var g=document.getElementsByTagName("head")[0],f=!1;d.onload=d.onreadystatechange=function(){f||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(f=!0,b&&b(),d.onload=d.onreadystatechange=null,g.removeChild(d))};c&&(d.onerror=function(){c()});g.appendChild(d)}function t(a,b){null==b&&(b=window);var c=R?R.elements:null,d=[];if(c)for(var g=0;g<c.length;g++)if(c[g].pid==
a){var f=c[g].eid,e=c[g].el;null==e&&(e=b.document.getElementById(f));e&&d.push(e)}g=(Ma+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>0},0);g=(10+7*g%26).toString(36)+g.toString(36);c=[].slice.call(b.document.getElementsByClassName(g));0<c.length||(g=(Ma+a).split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0),g=(10+7*g%26).toString(36)+g.toString(36),c=[].slice.call(b.document.getElementsByClassName(g)));for(g=0;g<c.length;g++)c[g]instanceof HTMLElement&&d.push(c[g]);
return d}function O(a){return"undefined"!=typeof CSS&&"function"==typeof CSS.escape?CSS.escape(a):a.replace(/:/g,"\\:").replace(/\./g,"\\.")}function Y(a,b,c,d){null==c&&(c=window);if(null==a)return[];null==b&&(b=c.document);if("$"==a[0]&&"G"==a[1]&&":"==a[2]){a=a.split(":")[1];c=[];var g=window.googletag;if(g&&g.pubads&&"function"===typeof g.pubads){for(var f=g.pubads().getSlots(),e=[],h=0;h<f.length;h++){var l=f[h],q=l.getAdUnitPath(),k=l.getSlotElementId(),m=l.getSizes();b.querySelector("#"+O(k));
if("#"==a[0]&&k==a.slice(1))e.push(l),Ba.push({id:k,path:q,sizes:m});else if(2==a.split("x").length){for(var w=a.split("x"),v=!1,u=0;u<m.length;u++)if(m[u].l==w[0]&&m[u].j==w[1]||m[u].width==w[0]&&m[u].height==w[1]){v=!0;break}v&&(e.push(l),Ba.push({id:k,path:q,sizes:m}))}}d&&g.destroySlots(e);for(h=0;h<Ba.length;h++)if("#"==a[0]&&Ba[h].path==a.slice(1))(d=b.querySelector("#"+O(Ba[h].id)))&&c.push(d);else if(2==a.split("x").length){w=a.split("x");v=!1;m=Ba[h].sizes;for(u=0;u<m.length;u++)if(m[u].l==
w[0]&&m[u].j==w[1]||m[u].width==w[0]&&m[u].height==w[1]){v=!0;break}v&&(d=b.querySelector("#"+O(Ba[h].id)))&&c.push(d)}return c}}else{if("$"==a[0])return t(a.slice(1),c);b=b.querySelectorAll(a);return null!=b?[].slice.call(b):[]}}function U(a,b,c,d){var g=null;(a=Y(a,null,c,d))&&0<=a.length&&(null==b||"first"==b?g=a[0]:"last"==b?g=a[a.length-1]:"number"===typeof b&&b<a.length&&(g=a[Math.floor(b)]));return g}function Q(a){for(var b=[],c=0;c<a.length;c++)a[c].width&&a[c].height?b.push([a[c].width,a[c].height]):
b.push([a[c][0],a[c][1]]);return b}function ja(a,b){void 0===b&&(b=null);a&&(Va=a);var c=window.googletag=window.googletag||{cmd:[]};a=Ca.gptStatus;Ca.gptStatus=b?na.ROADBLOCK:na.DETECTING;if(a==na.DETECTING){if(Ca.gptStatus==na.ROADBLOCK)for(var d in Object.keys(c))a=c[d],"destroySlot"!=d&&"defineSlot"!=d&&"function"===typeof a&&(c[a]=function(){})}else a==na.NONE&&c.cmd.push(function(){Ca.gptStatus==na.ROADBLOCK&&(c.cmd=[]);c.cmd.push=function(a){try{a()}catch(xb){}};var a=c.pubads?c.pubads():null;
if(c.pubadsReady&&a&&a.getSlots){a=a.getSlots();for(var d=0;d<a.length;d++){var g=a[d],f=g.getAdUnitPath(),e=g.getSlotElementId();g=Q(g.getSizes());f=new jb(f,g,e);ra.push(f);La[e]=f;f.go(b)}}Ca.gptStatus==na.ROADBLOCK&&(c=Object.keys(c).reduce(function(a,b){var c=a[b];"destroySlot"!=b&&"defineSlot"!=b&&"function"===typeof c&&(a[b]=function(){});return a},c));var h=c.defineSlot;c.defineSlot=function(a,c,d){var g=Array.isArray(c[0])?c:[c];g=new jb(a,g,d);ra.push(g);La[d]=g;g.go(b);return Ca.gptStatus!=
na.ROADBLOCK?h(a,c,d):g};var l=c.destroySlot;c.destroySlot=function(a){Ca.gptStatus!=na.ROADBLOCK&&l(a);if(Array.isArray(a))for(var b=0;b<a.length;b++){var c=a[b].getSlotElementId();La[c]&&delete La[c];for(var d=0;d<ra.length;d++)if(ra[d].getSlotElementId()==c){ra.splice(d,1);break}}else La={},ra=[]}})}Object.defineProperty(k,"__esModule",{value:!0});var F=n("./src/zonemasters/utils.ts"),V=n("./src/zonemasters/requests/starbannerrequest.ts"),L=n("./src/zonemasters/requests/starjsonrequest.ts"),C=
n("./src/zonemasters/requests/headerbiddingrequest.ts"),y=n("./src/zonemasters/requests/editorialrequest.ts"),S=n("./src/zonemasters/requests/skinrequest.ts"),ea=n("./src/zonemasters/components/supercomponent.ts"),sa=n("./src/zonemasters/components/bannercomponent.ts"),I=n("./src/zonemasters/components/editorial.ts"),E=n("./src/zonemasters/components/onrpghotbox.ts"),J=n("./src/zonemasters/components/instreamvideo.ts"),wa=n("./src/zonemasters/components/scriptcomponent.ts"),K=n("./src/zonemasters/components/siteskin.ts"),
pa=n("./src/zonemasters/components/createjscomponent.ts"),ua=n("./src/zonemasters/superclasses/basic/componentregistry.ts"),va=n("./src/zonemasters/components/segmentedvideo.ts"),ca=n("./node_modules/detect-gpu/dist/detect-gpu.esm.js"),Da=n("./src/zonemasters/data/steam.ts"),H=window,ka=null,la="",oa="",da="",ta="",ha=null;try{ka=window.top.location,la=ka.href,oa=ka.hash,da=ka.pathname,ta=ka.host}catch(aa){var Z=window;try{for(;Z.parent&&Z.parent.document!==Z.document&&Z.parent.document.location.href;)Z=
Z.parent}catch(pb){}var qa="";try{var ba=Z.location.ancestorOrigins;qa=ba[ba.length-1];la=Z.location.href}catch(pb){qa=Z.document.referrer,la=Z.location.href}r();da=null==(ha=qa.match(/^http[s]?:\/\/[^\/]+(\/[^\?]+)/))?"/":ha[1];ta=null==(ha=qa.match(/^http[s]?:\/\/([^\/]+)/))?"":ha[1];qa.match(/^https:/)}oa||r();var Ga=function(a,b){a=a.split("").reduce(function(a,c){return(a<<5)-a+c.charCodeAt(0)>>>b},0);return(10+7*a%26).toString(36)+a.toString(36)},Ma=window.location.href.split("#")[0],Xa=Ga(Ma,
1),R=window.cpmstarx||window[Xa];R.zonevars.blueprints={};var D=R.zonevars,Ea="#cpmstarDev"==oa,gb="#cpmstarStaging"==oa||"#urlzing"==oa,Na=Ea||gb,Oa="cdn",Pa="http:"==document.location.protocol?"http:":"https:";Ea?Oa="dev.server":gb?Oa="staging.server":"https:"==Pa&&(Oa="ssl.cdne");var Ya=Math.random(),xa=Pa+"//"+Oa+".cpmstar.com",Ha=Pa+"//server.cpmstar.com",Za=D.jbcheck?D.jbcheck.host:"",Qa=Za.split("").reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0).toString(36),Ra="0",$a=!1,za=0;
try{sessionStorage&&sessionStorage.getItem(Qa)?sessionStorage.getItem(Qa):"0"}catch(aa){Ra="0"}var Ja=null,Ia=!1,ab="#cpmstarLog"==oa,bb={},ma={},ob={banner:V.default,json:L.default,hb:C.default,video:L.default,editorial:y.default,skin:S.default},Aa={banner:sa.default,editorial:I.default,carousel:E.default,video:J.default,script:wa.default,skin:K.default,jsskin:pa.default({fixed:"2",centerWidth:"988px",top:"128px",footerHeight:300,stickyPadding:"10px"},"create_cpmstar_siteskin"),anchor:pa.default({dir:1},
"create_cpmstar_anchorad"),montage:va.default},rb=ua.default.GetComponentRegistry();Aa=F.mergeObjects(Aa,rb);for(var kb=Object.keys(Aa),eb=0;eb<kb.length;eb++){var lb=kb[eb];ua.default.RegisterComponent(lb,Aa[lb])}var Ua={},Fa,Sa="android;blackberry;ipad;iphone;ipod;mobile;nokia;symbian;windows phone".split(";"),qb=["windows","macintosh","linux"],db=void 0;Ea&&(H.cpmstarAPI=v);var fb=R.cmd=R.cmd||[],fa,cb=!1,ib=!1,mb=null,Wa=!1,nb=!1,ya={country:function(a){var b=window.document.location.host,c=Math.floor(10+
26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);N("https://server.cpmstar.com/country.aspx?cache=true&referer="+encodeURIComponent(b)+"&callback="+c,function(){});window[c]=function(b){function c(){if(!nb){var a=window.__tcfapi;if(a)try{nb=!0,za&&(clearInterval(za),za=0),a("addEventListener",2,G.onTCData.bind(G))}catch(wb){}}}if(b.rt)if(b.rt["0_62"])Wa=!0;else if(b.rt["0_58"])Wa=!1;else try{ca.getGPUTier({benchmarksURL:xa+"/cached/zonemasters/marks"}).then(function(a){if(mb=
a)(Wa=Da.isSteamGPU(mb.gpu))?N(Ha+"/tag.aspx?a=0_0176D4A8&group=62"):N(Ha+"/tag.aspx?a=0_0176D4A8&group=58")})}catch(hb){N(Ha+"/tag.aspx?a=0_0176D4A8&group=58")}else Wa=!1;var d=!1;G.locationData=b;G.zonedata.options&&(b=G.zonedata.options,"object"==typeof b.cmp&&null!=b.cmp.force&&(d=b.cmp.force));D.options&&D.options.pubmaticid&&x();b=window.__tcfapi;null!=b&&"function"==typeof b?c():(za=setInterval(c,500),setTimeout(function(){za&&(clearInterval(za),za=0)},5E3));null!=D.options&&D.options.cmp&&
("object"!=typeof D.options.cmp||null==D.options.cmp.showcmp||D.options.cmp.showcmp)&&X(function(){},d);a()}},blockthrough:function(a){window.addEventListener("AcceptableAdsInit",function(a){a.detail&&($a=!0)});N("https://btloader.com/tag?o=5754235751759872&upapi=true",a)},lib:function(a){N(xa+"/cached/js/lib.js",a)},anchor:function(a){H.cpmstar_anchorad_settings={manualInit:!0};Ea?N(xa+"/cached/zonemasters/anchorad_v100.js%%ver%%",function(){H.cpmstar_anchorad_settings.manualInit=!1;a()}):N(xa+"/cached/js/anchorad_v100.pack.js%%ver%%",
function(){H.cpmstar_anchorad_settings.manualInit=!1;a()})},dot:function(a){N(xa+"/cached/zonemasters/lib/doT.js",a)},siteskin:function(a){H.cpmstar_siteskin_settings={manualInit:!0};N(xa+"/cached/zonemasters/siteskin.js%%ver%%",function(){H.cpmstar_siteskin_settings.manualInit=!1;a()})},jquery:function(a){"undefined"==typeof H.jQuery?N("//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",function(){"undefined"!==typeof H.jQuery&&(Fa=H.jQuery.noConflict(),a())}):(Fa=H.jQuery,a())},ima:function(a){"undefined"!=
typeof H.google&&"undefined"!=typeof H.google.ima||N("//imasdk.googleapis.com/js/sdkloader/ima3.js",a)}},sb={editorial:["dot"],carousel:["dot","jquery"],video:[],skin:["siteskin"],jsskin:["siteskin"],anchor:["anchor"]},tb={editorial:["dot"],skin:["siteskin","dot"],banner:["lib"],hb:["lib"]},Ta=function(a){function b(){for(var b=0;b<R.apis.length;b++)bb[R.apis[b].name]=R.apis[b].api;a(self)}function c(){g++;g==f&&b()}function d(a,b){var d=function(){var c=F.deepClone(D.blueprints[a.blueprint]);F.extendLite(a,
F.mergeObjectsWithConditions(c,a));a.blueprintloaded=!0;b()};D.blueprints&&D.blueprints[a.blueprint]?d():(f++,N(xa+"/cached/zonemasters/blueprints/"+a.blueprint+".js%%ver%%",function(){d();c()}))}for(var g=0,f=0,e=0;e<R.zonevars.zonemasters.length;e++)R.zonevars.zonemasters[e].api&&f++;R.apis=R.apis||[];for(e=0;e<R.apis.length;e++)g++;var h=R.apis.push;R.apis.push=function(a){h.call(R.apis,a);c()};N(atob("Ly9wYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9wYWdlYWQvanMvYWRzYnlnb29nbGUuanM="),function(){B("successfully loaded adsbygoogle")},
function(){$a=!0});null==ya.country.used&&(f++,ya.country(c),ya.country.used=!0);D.requests&&D.requests.hb&&D.requests.hb.GAM&&D.requests.hb.blockthrough&&null==ya.blockthrough.used&&(f++,ya.blockthrough(c),ya.blockthrough.used=!0);if(D.modules){var l=function(a){var b=D.modules[a];b&&(a=function(){var a=sb[b.kind];if(a)for(var d=0;d<a.length;d++){var g=ya[a[d]];null==g.used&&(g.used=!0,f++,g(c))}}.bind(q),b.blueprint&&null==b.blueprintloaded?d(b,a):a())},q=this;for(e=0;e<D.modules.length;e++)l(e)}f==
g&&b()},ub=function(){return function(){this.queue=[];var a=this,b=(Xa+(Ya*Math.pow(10,16)).toString(16)+(new Date).getTime().toString(16)).substring(0,32),c=u()?"mobile":"desktop",d=D.info?D.info.id:0;window.addEventListener("visibilitychange",function(){var g=a.queue;if(0<g.length){a.queue=[];var f=new FormData;f.append("zoneid",d);f.append("sessionid",b);f.append("host",window.location.host);f.append("path",window.location.pathname);f.append("device",c);f.append("browser",window.navigator.userAgent);
f.append("logs",JSON.stringify(g));navigator.sendBeacon("https://errors.cpmstar.com",f)}})}}(),Ba=[],na;(function(a){a[a.NONE=0]="NONE";a[a.DETECTING=1]="DETECTING";a[a.ROADBLOCK=2]="ROADBLOCK"})(na||(na={}));var Ca={gptStatus:na.NONE},Va={},ra=[],La={},jb=function(){function a(b,c,d){this.kv={};this.targeting={};this.display=!1;this.numdisplays=0;this.slotName=b;this.divId=d;this.divSelector="undefined"!=typeof CSS&&"function"==typeof CSS.escape?"#"+CSS.escape(this.divId):"#"+this.divId.replace(/:/g,
"\\:").replace(/\./g,"\\.");this.sizes=c=c.sort(function(a,b){a=a[0]*a[1];b=b[0]*b[1];return a>b?-1:a==b?0:1});for(b=0;b<c.length&&!(this.modulename=a.getModuleForSize(c[b]));b++);}a.prototype.addService=function(){};a.prototype.clearCategoryExclusions=function(){};a.prototype.clearTargeting=function(a){};a.prototype.defineSizeMapping=function(a){};a.prototype.get=function(a){return this.kv[a]};a.prototype.getAdUnitPath=function(){return this.slotName};a.prototype.getAttributeKeys=function(){};a.prototype.getCategoryExclusions=
function(){};a.prototype.getResponseInformation=function(){};a.prototype.getSlotElementId=function(){return this.divId};a.prototype.getTargeting=function(a){};a.prototype.getTargetingKeys=function(){};a.prototype.set=function(a,b){this.kv[a]=b};a.prototype.setCategoryExclusion=function(a){};a.prototype.setClickUrl=function(a){};a.prototype.setCollapseEmptyDiv=function(a,b){};a.prototype.setForceSafeFrame=function(a){};a.prototype.setSafeFrameConfig=function(a){};a.prototype.setTargeting=function(a,
b){};a.prototype.updateTargetingFromMap=function(a){};a.prototype.destroy=function(){};a.gptSizeToString=function(a){var b=0,c=0;a.width&&a.height?(b=a.width,c=a.height):a[0]&&a[1]&&(b=a[0],c=a[1]);return b+"x"+c};a.getModuleForSize=function(b){b=a.gptSizeToString(b);return Va[b]?Va[b]:""};a.prototype.go=function(a){void 0===a&&(a=null);if(this.modulename&&this.divId){if(0<=this.divId.toLowerCase().indexOf("footer"))return;0==this.numdisplays?v({kind:"go",module:this.modulename,config:{options:{roadblock:a},
conditions:{target:{find:this.divSelector,kind:"replace"}}}}):v({kind:"refresh",module:this.modulename})}this.numdisplays++};return a}(),Ka=function(){function a(){this.$=Fa;this.modulemap=ma;this.drut=Xa;this.proto=Pa;this.serverroot=Ha;this.cdnroot=xa;this.zonedata=D;this.requestTypes=ob;this.requestInstances=Ua;this.requestDeps=tb;this.deps=ya;this.debug=Na;this.locationData={oo:void 0,dm:void 0,bd:void 0,countryName:void 0,countryCode:void 0,region:void 0,city:void 0,ip:void 0,rt:void 0};this.coppa=
this.optedOut=!1;this.googleVendorLegIntAllowed=!0;this.tcData=this.startTime=null}a.prototype.getTCData=function(){return this.tcData};a.prototype.isGoogleAllowed=function(){return this.googleVendorLegIntAllowed};a.prototype.onTCData=function(a,b){if(b){if(B("tcData.eventStatus == "+a.eventStatus),"tcloaded"==a.eventStatus||"useractioncomplete"==a.eventStatus||"cmpuishown"==a.eventStatus)if(b=this.tcData?this.tcData.tcString:null,this.tcData=a,b!=this.tcData.tcString&&(B("tcString set to "+this.tcData.tcString),
B("tcString purpose: "+JSON.stringify(this.tcData.purpose)),a&&(a.purpose&&a.purpose.legitimateInterests&&!a.purpose.legitimateInterests[2]&&!a.purpose.legitimateInterests[7]&&(this.optedOut=!0),a&&a.vendor&&!a.vendor.legitimateInterests[755]&&(this.googleVendorLegIntAllowed=!1)),a=Ua.hb,null!=a&&null!=a.reinit)){a.reinit();var c=Object.keys(ma);setTimeout(function(){for(var a=0;a<c.length;a++){var b=ma[c[a]];null!=b&&null!=b.js&&b.js instanceof sa.default&&b.js.adcmd({kind:"adcmd",command:"refresh"})}},
1E3)}}else B("Failed to register eventListener for TCData")};a.prototype.eventCallback=function(a){var b=this,c=void 0;if("function"===typeof a)c=a;else if("string"===typeof a)c=Function.call(null,a);else if(Array.isArray(a))c=function(){a.forEach(function(a){b.eventCallback(a).call(null)})};else if("object"==typeof a&&a.kind&&a.module)c=b.api.bind(null,a);else throw Error("The event callback is not a valid type.");return c};a.prototype.api=function(a){v(a)};a.prototype.getTopPageUrl=function(){return la};
a.prototype.getTopHost=function(){return ta};a.getParameterByName=function(b){a.query||(a.query=window.location.search.substr(1).split("&").reduce(function(a,b){b=b.split("=").map(decodeURIComponent);b[1]&&(a[b[0]]=b[1]);return a},{}));return a.query[b]};a.prototype.getTimeElapsed=function(){return(new Date).getTime()-this.startTime};a.prototype.isDomReady=function(){return Ia};a.prototype.getDeviceType=function(){return p()};a.prototype.getIP=function(){return this.locationData.ip?this.locationData.ip:
""};a.prototype.isMobile=function(){return u()};a.prototype.isDesktop=function(){return f()};a.prototype.isOptedOut=function(){var a=null==G.locationData?!1:G.locationData.oo||G.optedOut?!0:!1;return a};a.prototype.getCountryCode=function(){var a=null==G.locationData?"--":G.locationData.countryCode;return a};a.prototype.isUserInUS=function(){return null==G.locationData?!1:"US"==G.locationData.countryCode?!0:!1};a.prototype.isUserInCA=function(){return null==G.locationData?!1:"US"==G.locationData.countryCode&&
"California"==G.locationData.region?!0:!1};a.prototype.isUserInEU=function(){return T()};a.prototype.isPubConsentGlobal=function(){var a=F.parsedCookies().pubconsent,b=F.parsedCookies().euconsent;return!a&&b?!0:!1};a.prototype.getPubConsent=function(){return P()};a.prototype.getRand=function(){return Ya};a.prototype.isATSLoaded=function(){return ib};a.prototype.isCMPLoaded=function(){return!(!cb&&!window.__tcfapi)};a.prototype.isAdBlockerOn=function(){return d("1")};a.prototype.init=function(){var b=
this;b.startTime=(new Date).getTime();b.log=B;b.debug&&(b.forcecampaigngroupid=a.getParameterByName("forcecampaigngroupid"));D.options&&D.options.errorPercent&&Math.floor(100*Math.random())<=D.options.errorPercent&&(db=new ub);b.zonedata&&b.zonedata.options&&b.zonedata.options.coppa&&(G.coppa=!0);b.zonedata&&b.zonedata.options&&b.zonedata.options.referrerRevshare&&(b.zonedata.zone_referrer=a.getParameterByName("zone_referrer"),b.zonedata.zone_referrer&&document.body.addEventListener("click",function(a){a=
a||event;var b;a:{for(b=a.target||a.srcElement;b;){if("a"==(b.nodeName||b.tagName).toLowerCase())break a;b=b.parentNode}b=null}b&&b.href&&0>b.href.indexOf("cpmstar.com")&&(!Za||0>b.href.indexOf(Za))&&a.preventDefault()}));Ta(function(){var c,d;b.zonedata.options&&b.zonedata.options.gpt&&ja({});for(fa=function(a,c,d){var g,f,e;q();var h=d?d.cb:function(){},l=d?d.fail:null,k=null===(g=null===a||void 0===a?void 0:a.events)||void 0===g?void 0:g.fail,m=l,w=null;k&&(w=k?b.eventCallback(k):null,m=function(){w&&
w(null);l&&l()});try{Ra=sessionStorage&&sessionStorage.getItem(Qa)?sessionStorage.getItem(Qa):"0"}catch(yb){Ra="0"}g=window.zone_conditions;if(null==g||W(null,window.zone_conditions))if(null==D.conditions||null!=g&&null!=g.bypassConditions||W(null,D.conditions)){g=D.modules;a&&(g=[a]);for(var v=0;v<g.length;v++){var u=g[v];if(null==a||u==a)if(null!=a||1!=u.ran){if(k=null===(f=null===u||void 0===u?void 0:u.events)||void 0===f?void 0:f.fail)w=k?b.eventCallback(k):null,m=function(){w&&w(null);l&&l()};
if(d&&d.once&&u.ran){if(1==g.length&&a==u){l&&l();break}}else{var p={isWaiting:!1},r=W(u,u.conditions,p);if(null==r){m&&!p.isWaiting&&m();if(1==g.length&&a==u)break;B("Failed to match conditions for module: "+u.info.name)}else{Array.isArray(r)||"object"!==typeof r||(r=[r]);p=function(a){var g=!u.ran;u.ran=!0;u=F.extendLite({},u);u=F.extendLite(u,r[a]);if(k=null===(e=null===u||void 0===u?void 0:u.events)||void 0===e?void 0:e.fail)w=k?b.eventCallback(k):null,m=function(){w&&w(null);l&&l()};(function(a){if(a.kind){var f=
Aa[a.kind];null==f&&(f=ea.default);var e=function(e){b.$=e;a.js=new f(b,a);ma[d&&null!=d.id?d.id:a.info.name]=a;a.js.create();e=function(a){a&&a()};a.options&&a.options.refreshrate&&!1!==a.options.autorefresh&&g&&a.js.startRefreshTimer(e);null==c&&a.moduleState&&(c=a.moduleState,a.moduleState=null);if("create"==c)h(a.js.request.bind(a.js));else if("request"==c)a.js.request(h?h:e,m);else if("init"==c){var l=!0;if(a.target&&1==a.target.slot&&a.options&&a.options.width&&a.options.height){l=!1;for(var q=
0;q<ra.length;q++)for(var k=0;k<ra[q].sizes.length;k++)if(ra[q].sizes[k][0]==a.options.width&&ra[q].sizes[k][1]==a.options.height){l=!0;break}}l&&a.js.init(a.js,a.js.res,e)}else a.js.request(e,m)};Fa?H.jQuery(e):e(null)}})(u)};for(var n=0;n<r.length;n++)p(n)}}}}}else m&&m();else m&&m()};fb.length;){var g=fb.shift();v(g)}fb.push=v;"undefined"===typeof H.cpmstarAPI&&(H.cpmstarAPI=v);if(b.debug){g=0;var f=a.getParameterByName("commanddelay");f&&(g=parseInt(f));var e=a.getParameterByName("gomodule"),
h=a.getParameterByName("cpmstarcommand");e&&setTimeout(function(){H.cpmstarAPI({kind:"go",module:e})},g);h&&setTimeout(function(){H.cpmstarAPI({kind:h})},g);var l=null!==(c=parseInt(a.getParameterByName("scroll_from")))&&void 0!==c?c:0;if(l){var k=null!==(d=parseInt(a.getParameterByName("scroll_to")))&&void 0!==d?d:l+1E3,m=(l+k)/2;window.scrollTo({top:l,left:0,behavior:"auto"});setInterval(function(){window.scrollTo({top:window.scrollY<l+10?m:window.scrollY<k?k:l,left:0,behavior:"smooth"})},2E3)}}c=
""+document.readyState;if("complete"===c||"loaded"===c||"interactive"===c)Ia=!0;Fa?Fa(document).ready(function(){Ia=!0;fa()}):(document.addEventListener("DOMContentLoaded",function(a){Ia=!0;fa()}),fa())})};a.prototype.log=function(a){B(a)};a.prototype.getScript=function(a,b){return N(a,b)};a.prototype.pickEl=function(a,b,c,d){return U(a,b,c,d)};a.prototype.getPidEls=function(a,b){return t(a,b)};a.prototype.findEls=function(a,b,c){return Y(a,b,c)};a.prototype.getModuleByPath=function(a){a:{for(var b=
Object.keys(ma),c=0;c<b.length;c++){var d=ma[b[c]];if(d.adUnitPath==a){a=d;break a}}a=null}return a};a.prototype.addToSizeModuleMap=function(a,b,c){Va[a+"x"+b]=c};a.query=null;return a}(),G=new Ka;G.init()},"./src/zonemasters/requests/editorialrequest.ts":function(e,k,n){var r=this&&this.__extends||function(){var f=function(b,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};return f(b,e)};return function(b,
e){function d(){this.constructor=b}f(b,e);b.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();Object.defineProperty(k,"__esModule",{value:!0});var p=n("./src/zonemasters/requests/superrequest.ts"),u=n("./src/zonemasters/utils.ts");e=function(f){function b(b){return f.call(this,b)||this}r(b,f);b.prototype.getMacroMaps=function(){return[]};b.prototype.convertCreative=function(b,d){var a=this,f=this.getMacroMaps()[d];if(f){var g=Object.keys(f);for(d=0;d<g.length;d++){var c=g[d];
b[c]=f[c]}}b.getLink=function(){return this.click}.bind(b);b.getTitle=function(){return null==this.creativemacros.TITLE?null:u.from_utf8(this.creativemacros.TITLE)}.bind(b);b.getDescription=function(b,c,d,g){var f=a.getCtx();g?(b=getComputedStyle(g),b.fontSize&&b.fontFamily&&(f.font=b.fontSize+" "+b.fontFamily),b=g.offsetWidth-(parseFloat(b.paddingLeft)+parseFloat(b.paddingRight))-(parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth))):f.font="6px Arial";g=this.creativemacros.DESC300?u.from_utf8(this.creativemacros.DESC300):
null;var e=this.creativemacros.DESC?u.from_utf8(this.creativemacros.DESC):null;e=(g?g:e?e:"").split("<br");for(var h=[],l=0;l<e.length;l++)g=e[l],g=g.trim(),"/"==g[0]&&">"==g[1]&&(g=g.slice(2)),g=g.trim(),0<g.length&&h.push(g);e="";var q=0;for(l=0;l<h.length;l++){g=h[l];var k=f.measureText(g).width;k=Math.ceil(k/b);if(1<=q&&q+k>c)break;q+=k;if(null!=d&&e.length+g.length>d){c=!1;if("false"!==a.config.options.endOnPunctuation)for(f=d-1;f>=Math.ceil(d/1.5);f--)if(" "==g[f]&&("!"==g[f-1]||"."==g[f-1]||
"?"==g[f-1])){c=!0;e+=g.slice(0,f);break}c||(e+=g.slice(0,d-e.length-3)+"...");break}else e+=g+"<br/>"}return e}.bind(b);b.getMaxLength=function(a,b){}.bind(b);b.availImages=[];f=Object.keys(b.creativemacros);for(d=0;d<f.length;d++){g=f[d];c=null;if("IMAGE"==g.slice(0,5))c=g.slice(5).split("X");else if("BANNER"==g.slice(0,6))c=g.slice(6).split("X");else continue;c&&2==c.length&&b.availImages.push({width:c[0],height:c[1],url:b.creativemacros[g]})}b.closestAspect=function(a,b,c){if(0==c.length)return{url:"",
width:a,height:b};for(var d=a/b,g=-1,f=0;4>f&&-1==g;f++)for(var e=0,h=0;h<c.length;h++)if(!(a>2*c[h].width||a<c[h].width/2||b>2*c[h].height||a<c[h].height/2)){var l=c[h].width/c[h].height/d;1<l&&(l=1/l);l>e&&(e=l,g=h)}-1==g&&(g=0);return c[g]};b.getImageUrl=function(a,c){return b.closestAspect(a,c,b.availImages).url}};b.prototype.getCtx=function(){this.ctx||(this.ctxCanvas=document.createElement("canvas"),this.ctx=this.ctxCanvas.getContext("2d"));return this.ctx};b.prototype.makeAttempt=function(b){f.prototype.makeAttempt.call(this,
b);var d=this,a=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),e=this.getViewAspxBaseUrl();e+="poolid="+this.config.poolid+"&json="+this.config.json+"&callback="+a;this.config.multi&&(e+="&multi="+this.config.multi);this.config.requiredmacros&&(e+="&requiredmacros="+this.config.requiredmacros);d.mm.getScript(e);window[a]=function(a){var c=a.creatives;if(null!=c&&0!=c.length){var g={getAdTypeAvailable:function(a){return"editorial"},renderAd:function(b,
g,f,e){null==e&&(e={});d.creatives=c;var h=d.config.options,l=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;l=h.descriptionPixelWidth?h.descriptionPixelWidth:l;var k=h.maxDescriptionLines?h.maxDescriptionLines:1,q=h.descriptionLength?h.descriptionLength:120,m=b.iteration?b.iteration:0;h.capIsCalculated||(e.renderCount?h.cap=Math.floor(a.creatives.length/e.renderCount):this.getMacroMaps().length&&(h.cap=Math.floor(a.creatives.length)/this.getMacroMaps().length),h.capIsCalculated=
!0);var w=h.cap?h.cap:a.creatives?a.creatives.length:20,v=[];if(a.creatives){var r=m%a.creatives.length;null!=e.renderIndex&&(r=w*e.renderIndex);for(m=r;m<a.creatives.length&&m<r+w;m++){var n=a.creatives[m];this.convertCreative(n,e.renderIndex);n.thumbUrl=n.getImageUrl(h.thumbWidth,h.thumbHeight);n.imageUrl=n.getImageUrl(h.imageWidth,h.imageHeight);n.description=n.getDescription(l,k,q);n.title=n.getTitle();n.clickUrl=n.getLink();null==n.title?(a.creatives.splice(m,1),m--):(v.push(a.creatives[m]),
m+1>=a.creatives.length&&v.length<w&&(m=-1,r=0,w-=v.length))}}b.creatives=v;if(d.config.style)for(e=Object.keys(d.config.style),m=0;m<e.length;m++)w=e[m],g.style[w]=d.config.style[w];if(d.config.pageStyle)for(e=Object.keys(d.config.pageStyle),m=0;m<e.length;m++)for(w=e[m],v=d.mm.findEls(w),r=Object.keys(d.config.pageStyle[w]),n=0;n<v.length;n++)for(var A=v[n],t=0;t<r.length;t++){var O=r[t];A.style[O]=d.config.pageStyle[w][O]}null!=g&&(m="",e=window.doT,"undefined"!==typeof e&&((w=b.rendertemplate?
b.rendertemplate:d.config.rendertemplate)?d.config.render=e.template(w):b.template?d.config.render=e.template(b.template):d.config.template&&(d.config.render=e.template(d.config.template))),d.config.render?m=d.config.render({creatives:b.creatives}):b.template?m=b.template:d.config.template&&(m=d.config.template),m=function(a,b,c){return a.split(b).join(c)}(m,"@this",b.divid+".js"),e="<HTML><BODY>",b.css?e+="<style>"+u.getCssString(b.css)+"</style>":d.config.css&&(e+="<style>"+u.getCssString(d.config.css)+
"</style>"),p.default.insertNewIframe({width:this.config.style.width,height:this.config.style.height,intoEl:g,renderHtml:e+m+"</BODY></HTML>",sandbox:b.options.sandbox}),m=function(){for(var a=[].slice.call(g.getElementsByClassName("autofit")),b=0;b<a.length;b++)u.autoFitText(a[b])},b.js.onEvent(window,"resize",m),b.js.onEvent(window,"orientationchange",m),m());if(h.descriptionTarget)for(h=d.mm.findEls(h.descriptionTarget,b.div),m=0;m<h.length;m++)b.creatives&&b.creatives[m]&&(h[m].innerHTML=b.creatives[m].getDescription(l,
k,q,h[m]));f&&f()}.bind(d)};d.res=g;d.triggerAllModuleCallbacks(b,g)}}};return b}(p.default);k.default=e},"./src/zonemasters/requests/headerbiddingrequest.ts":function(e,k,n){function r(a,b){return a.force&&!b.force?-1:b.force&&!a.force?1:a.cpm>b.cpm?-1:a.cpm==b.cpm?0:1}var p=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,d)};return function(b,
d){function c(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(k,"__esModule",{value:!0});e=n("./src/zonemasters/requests/superrequest.ts");var u=n("./src/zonemasters/utils.ts"),f="google cpmstar sharethrough superawesome magnite rubicon triplelift openx pubmatic appnexus 33across nobid pulsepoint consumable eplanning".split(" "),b="openx appnexus magnite rubicon cpmstar pubmatic sharethrough triplelift".split(" "),l=function(){function a(a,
b){this.adPickResult=null;this.fallbackCreativeIndex=this.curRenderIndex=-1;this.hbRequest=b;this.unit=a;this.kind="none";this.bid=0;this.hb_adid=this.bidResponse=this.hb_bidder=null;this.bidsById={};this.bidsByBidder={};this.bidsBySize={};this.bidsByCpm=[];this.biddersByCpm=[];this.adIdsSelected=null}a.prototype.selectAd=function(a){this.curRenderIndex=a;var b=(new Date).getTime();if(!this.adIdsSelected)return!1;for(var c=null;a<this.adIdsSelected.length;a++)if(c=this.adIdsSelected[a],0!=c.indexOf("used"))if(0==
c.indexOf("fallback"))break;else{var d=this.bidsById[c];if(d&&b-d.responseTimestamp<1E3*d.ttl-1E3){this.adIdsSelected[a]="used";break}}if(c&&a<this.adIdsSelected.length)try{if(0==c.indexOf("fallback"))this.fallbackCreativeIndex=parseInt(c.slice(9)),this.kind="fallback",this.bid=this.rawCPM=this.unit.fallback.bid,this.bidResponse=this.hb_adid=this.hb_bidder=null;else{var g=this.bidsById[c];if(null==g||null==g.adId)throw Error();this.kind="hb";this.hb_bidder=g.bidder;var e=this.hbRequest.config.bidderDiscreps?
this.hbRequest.config.bidderDiscreps[this.hb_bidder]:null,f=e&&e.discrep?e.discrep:1;.4>f&&(f=.4);1<f&&(f=1);this.rawCPM=g.cpm;this.bid=g.cpm*f;this.hb_adid=g.adId;this.bidResponse=this.bidsById[c];this.fallbackCreativeIndex=-1}return!0}catch(ia){this.kind="none",this.bid=this.rawCPM=0,this.hb_adid=this.hb_bidder=null,this.fallbackCreativeIndex=-1,this.bidResponse=null}else return!1};a.prototype.getBidResponseById=function(a){return this.bidsById[a]};a.prototype.getFallbackCreativeIndex=function(){return this.fallbackCreativeIndex};
a.prototype.isVideoFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&a&&null!=a.creativemacros&&(null!=a.creativemacros.HTML5VID_VASTSTRING||null!=a.creativemacros.HTML5VID_ADX)};a.prototype.isJsonFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==
this.kind&&!this.isVideoFallback()&&!this.isBannerFallback()&&this.unit.fallback&&a&&a.creativemacros&&0<Object.keys(a.creativemacros).length&&this.unit.fallback.json};a.prototype.isBannerFallback=function(){var a=this.getFallbackCreativeIndex();a=null!=this.unit.fallback&&null!=this.unit.fallback.creatives?this.unit.fallback.creatives[a]:null;return"fallback"==this.kind&&!this.isVideoFallback()&&a&&a.code&&!this.unit.fallback.json};a.prototype.isHB=function(){return"hb"==this.kind&&null!=this.hb_bidder&&
null!=this.bidResponse};a.prototype.isPremiumHB=function(){var a,b,d,g=null===(d=null===(b=null===(a=this.unit)||void 0===a?void 0:a.mediaTypes)||void 0===b?void 0:b.banner)||void 0===d?void 0:d.sizes;a=g&&0<g.length&&1==g[0][0]&&1==g[0][1];return this.isHB()&&a&&("justpremium"==this.hb_bidder||"sublime"==this.hb_bidder||"gumgum"==this.hb_bidder||"richaudience"==this.hb_bidder)};a.prototype.isBannerHB=function(){return this.isHB()&&!this.isPremiumHB()&&"banner"==this.bidResponse.mediaType};a.prototype.isInstreamHB=
function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&"instream"==this.unit.mediaTypes.video.context&&"video"==this.bidResponse.mediaType&&(null!=this.bidResponse.vastXml||null!=this.bidResponse.vastUrl)};a.prototype.isOutstreamHB=function(){return this.isHB()&&!this.isPremiumHB()&&"video"==this.bidResponse.mediaType&&null!=this.unit.mediaTypes.video&&"outstream"==this.unit.mediaTypes.video.context};a.prototype.getAdType=function(){if(this.isHB()){if(this.isPremiumHB())return"premium";
if(this.isBannerHB())return"banner";if(this.isInstreamHB()||this.isOutstreamHB())return"video"}else return this.isBannerFallback()?"banner":this.isVideoFallback()?"video":this.isJsonFallback()?"json":"unknown"};return a}(),d,a=!1,m=!1;n=function(g){function c(a){a=g.call(this,a)||this;a.crossOrigin=null;a.useGam=!1;a.blockGam=!1;a.gamclick=!1;a.subpoolid=0;a.biddersAllowed={};a.gamSlotRenderListener=!1;return a}p(c,g);c.prototype.isBlockedBid=function(a){try{var b=a.meta;if(this.config.bdomain){var c=
u.toStringArrayLower(this.config.bdomain);if(b&&null!=b.advertiserDomains&&Array.isArray(b.advertiserDomains))for(var d=u.toStringArrayLower(b.advertiserDomains),g=0;g<d.length;g++)for(b=0;b<c.length;b++)if(0<=d[g].indexOf(c[b]))return!0;var e=null!=a.ad?a.ad:a.adUrl;if(e&&"string"==typeof e)for(g=0;g<c.length;g++)if(0<=e.toLowerCase().indexOf(c[g]))return!0}}catch(ia){this.mm.log("Error during isBlockedBid() - should not happen, returning false")}return!1};c.prototype.isGAMApprovedDomain=function(){var a=
null;if(this.config&&this.config.adUnits)for(var b=0;b<this.config.adUnits.length;b++){if(this.config.adUnits[b].gamFilters)for(var c=0;c<this.config.adUnits[b].gamFilters.length;c++){var d=this.config.adUnits[b].gamFilters[c];if(0==d.exclude&&"Domain"==d.type){a=d.data;try{if(a&&0<=window.parent.location.hostname.indexOf(a))return!0}catch(w){}}}if(this.config.adUnits[b].gamPageUrl)try{a=this.config.adUnits[b].gamPageUrl}catch(w){if(a&&0<=window.parent.location.hostname.indexOf(a))return!0}}return!1};
c.prototype.isCrossOriginFrame=function(){if(this.config.allowHosts)for(var a=u.toStringArrayLower(this.config.allowHosts),b=0;b<a.length;b++)if(0<this.mm.getTopHost().indexOf(a[b]))return this.crossOrigin=!1;if(null!=this.crossOrigin)return this.crossOrigin;try{return this.crossOrigin=document.location.hostname!==window.parent.location.hostname}catch(v){return this.crossOrigin=!0}};c.prototype.ignoreFilter=function(a){try{switch(a.type){case "Country":if("Northern Mariana Islands"==a.data)return!0}}catch(q){return!1}};
c.prototype.matchesFilter=function(a){try{switch(a.type){case "Header":var b=a.data.split("=");if(2==b.length)switch(b[0]){case "referer":return 0<=window.location.href.toLowerCase().indexOf(b[1].toLowerCase())}break;case "OS":return 0<=this.mm.getDeviceType().toLowerCase().indexOf(a.data.toLowerCase());case "Referer":try{return 0<=window.top.location.href.toLowerCase().indexOf(b[1].toLowerCase())}catch(v){return 0<=this.mm.getTopHost().toLowerCase().indexOf(a.data.toLowerCase())}case "Domain":return 0<=
this.mm.getTopHost().toLowerCase().indexOf(a.data.toLowerCase());case "Country":return 0<=this.mm.locationData.countryName.toLowerCase().indexOf(a.data.toLowerCase());case "City":return 0<=this.mm.locationData.city.toLowerCase().indexOf(a.data.toLowerCase())}return!1}catch(v){return!1}};c.prototype.areFiltersAllowed=function(a){var b={};if(a&&Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];if(d.exclude&&this.matchesFilter(d))return!1;this.ignoreFilter(d)||d.exclude||"Domain"!=d.type&&"Referer"!=
d.type&&"Country"!=d.type||(null==b[d.type]&&(b[d.type]=!1),this.matchesFilter(d)&&(b[d.type]=!0))}a=Object.keys(b);for(c=0;c<a.length;c++)if(!1===b[a[c]])return!1;return!0};c.prototype.updateBidderListForAdUnits=function(){if(this.config.adUnits)for(var a=0;a<this.config.adUnits.length;a++){var b=this.config.adUnits[a];null==b.bids&&(b.bids=[]);null==b.removedBids&&(b.removedBids=[]);for(var c=0;c<b.removedBids.length;c++){var d=b.removedBids[c],g=!1;null!=d.filters&&Array.isArray(d.filters)&&(this.areFiltersAllowed(d.filters)||
(g=!0));g||!0!==this.biddersAllowed[d.bidder]&&(!1===this.biddersAllowed["*"]||!1===this.biddersAllowed[d.bidder])||(d=b.removedBids.splice(c,1),b.bids=b.bids.concat(d),c--)}for(c=0;c<b.bids.length;c++)if(d=b.bids[c],g=!1,null!=d.filters&&Array.isArray(d.filters)&&(this.areFiltersAllowed(d.filters)||(g=!0)),g||!0!==this.biddersAllowed[d.bidder]&&(!1===this.biddersAllowed["*"]||!1===this.biddersAllowed[d.bidder]))d=b.bids.splice(c,1),b.removedBids=b.removedBids.concat(d),c--}};c.prototype.reinit=function(){var a=
this;this.mm.log("hb request re-initialized with original settings");var b=window.googletag=window.googletag||{};b.cmd=b.cmd||[];d=window.starpbjs=window.starpbjs||{};d.que=d.que||[];if(null!=a.mm.coppa){var c={coppa:!!a.mm.coppa,s2sConfig:a.GetS2SConfig()};d.que.push(function(){d.mergeConfig(c)});b.cmd.push(function(){b.pubads().setPrivacySettings({childDirectedTreatment:!!a.mm.coppa})})}this.detectBiddersAllowed();this.mm.isGoogleAllowed()||(this.blockGam=!0);if(this.mm.isUserInEU()||"IL"==this.mm.getCountryCode())this.blockGam=
!0;this.updateBidderListForAdUnits()};c.prototype.detectBiddersAllowed=function(){var a=this.isCrossOriginFrame(),b=this.mm.locationData;this.biddersAllowed={};if(this.mm.isOptedOut())this.biddersAllowed["*"]=!1,this.biddersAllowed.cpmstar=!1,this.blockGam=!0;else if(1==b.bd||0==b.dm||a)this.biddersAllowed["*"]=!1,this.blockGam=this.biddersAllowed.cpmstar=!0;else if(1==this.mm.coppa){this.biddersAllowed["*"]=!1;this.biddersAllowed.cpmstar=!0;if(f)for(a=0;a<f.length;a++)this.biddersAllowed[f[a]]=!0;
if(this.config.PREBID_SERVER_BIDDERS)for(a=0;a<this.config.PREBID_SERVER_BIDDERS.length;a++)this.biddersAllowed[this.config.PREBID_SERVER_BIDDERS[a]]=!0}else this.biddersAllowed["*"]=!0;if(this.config.BIDDERFILTERS&&Array.isArray(this.config.BIDDERFILTERS))for(a=0;a<this.config.BIDDERFILTERS.length;a++)b=this.config.BIDDERFILTERS[a],b.bidder&&!this.areFiltersAllowed([b])&&(this.biddersAllowed[b.bidder]=!1)};c.prototype.GetS2SConfig=function(){var a=this.config.PREBID_SERVER||this.mm.coppa&&this.config.PREBID_SERVER_IF_COPPA;
return{accountId:"1",enabled:a,bidders:a&&this.config.PREBID_SERVER_BIDDERS?this.config.PREBID_SERVER_BIDDERS:[],timeout:3E3,adapter:"prebidServer",endpoint:"https://pbs2.cpmstar.com/openrtb2/auction",syncEndpoint:"https://pbs2.cpmstar.com/cookie_sync"}};c.prototype.reconfigure=function(){var a=null!=this.config.GAMPercent?this.config.GAMPercent:1;this.blockGam=this.isCrossOriginFrame();this.isGAMApprovedDomain()||(this.blockGam=!0);this.config.GAMWIDTH&&(window.innerWidth<this.config.GAMWIDTH&&(this.blockGam=
!0),window.innerHeight<this.config.GAMHEIGHT&&(this.blockGam=!0));this.detectBiddersAllowed();this.mm.isGoogleAllowed()||(this.blockGam=!0);!this.mm.isUserInEU()&&"IL"!=this.mm.getCountryCode()||this.mm.isCMPLoaded()||(this.blockGam=!0);this.updateBidderListForAdUnits();if(this.config.GAMFILTERS&&this.config.adUnits)for(var b=0;b<this.config.adUnits.length;b++){var c=this.config.adUnits[b];this.areFiltersAllowed(c.gamFilters)||(c.blockGam=!0)}this.config.GAM&&!this.blockGam&&(1==a||Math.random()>
this.config.GAMPercent)&&(this.useGam=!0,this.config.GAMSubpoolid&&(this.subpoolid=this.config.GAMSubpoolid))};c.prototype.init=function(a){g.prototype.init.call(this,a);this.originalConfig=u.deepClone(a);this.crossOrigin=this.isCrossOriginFrame();this.reconfigure()};c.prototype.getAdUnitByPath=function(a){for(var b=0;b<this.config.adUnits.length;b++){var c=this.config.adUnits[b];if(c.code==a)return c}return null};c.prototype.makeAttempt=function(c){function g(a){var b=(a.ownerDocument?a.ownerDocument:
document).createElement("iframe");b.style.borderWidth="0";b.scrolling="no";b.marginwidth=0;b.marginheight=0;b.topmargin=0;b.leftmargin=0;b.allowtransparency=!0;b.setAttribute("marginwidth","0");b.setAttribute("marginheight","0");b.setAttribute("topmargin","0");b.setAttribute("leftmargin","0");b.setAttribute("allowtransparency","true");b.width="0";b.height="0";null!=a&&a.appendChild(b);return b}function e(a,b,c,g,e){var f,k,m,q,u,p,n,v,t;void 0===e&&(e=null);null==c&&(c=0);g=a.bestBid;if(!g){var w=
(new Date).getTime()+300,y=h.getAdUnitByPath(b);g=new l(y,h);if(null==y)return g;b=d&&d.getBidResponsesForAdUnitCode?d.getBidResponsesForAdUnitCode(b):null;if(y.fallback&&y.fallback.creatives)for(var x=0;x<y.fallback.creatives.length;x++){var C=y.fallback.creatives[x];if(null!=C&&!(""==C.code&&0==Object.keys(C.creativemacros).length||0<=C.click.indexOf("&campaignid=320&"))){var A="none",V=0,z=0;null==C.creativemacros||null==C.creativemacros.HTML5VID_VASTSTRING&&null==C.creativemacros.HTML5VID_ADX?
C&&C.code&&!y.fallback.json?A="banner":C.creativemacros&&0<Object.keys(C.creativemacros).length&&y.fallback.json&&(A="json"):(A="video",(z=null===(k=null===(f=null===y||void 0===y?void 0:y.mediaTypes)||void 0===f?void 0:f.video)||void 0===k?void 0:k.playerSize)&&Array.isArray(z)&&Array.isArray(z[0])&&(z=z[0]),z||(z=[960,540]),V=z[0],z=z[1]);"none"!=A&&g.bidsByCpm.push({mediaType:A,rawCPM:y.fallback.bid,cpm:y.fallback.bid,adId:"fallback_"+x,w:parseInt(""+(null!==(m=null===C||void 0===C?void 0:C.width)&&
void 0!==m?m:V)),h:parseInt(""+(null!==(q=null===C||void 0===C?void 0:C.height)&&void 0!==q?q:z)),bidder:"fallback",force:(null===C||void 0===C?0:C.forcecpmstar)?!0:!1,expires:w+3E5})}}if(null!=b){for(k=0;k<b.bids.length;k++){m=b.bids[k];f=(f=h.config.bidderDiscreps?h.config.bidderDiscreps[m.bidder]:null)&&f.discrep?f.discrep:1;.4>f&&(f=.4);1<f&&(f=1);f={mediaType:m.mediaType,adId:m.adId,rawCPM:m.cpm,cpm:m.cpm*f,bidder:m.bidder,w:m.width,h:m.height,expires:m.responseTimestamp+1E3*m.ttl,force:!1};
q=["triplelift"];x=!0;if(y.mediaTypes.banner&&y.mediaTypes.banner.sizes&&Array.isArray(y.mediaTypes.banner.sizes))for(x=!1,C=0;C<y.mediaTypes.banner.sizes.length;C++)A=y.mediaTypes.banner.sizes[C][1],y.mediaTypes.banner.sizes[C][0]==f.w&&(A==f.h||0<=q.indexOf(f.bidder))&&(x=!0);x||h.mm.log("adId with invalid size: "+f.adId+" bidder: "+f.bidder+" with w: "+f.w+" and h  "+f.h);f.expires<w+1E3&&h.mm.log("Bid expired adId: "+f.adId+" bidder: "+f.bidder+" with cpm: "+f.cpm+" and ttl  "+m.ttl);"rendered"!=
m.status&&f.expires>w+1E3&&x&&(g.bidsByCpm.push(f),g.bidsById[m.adId]=m,q=""+m.width+"x"+m.height,null==g.bidsBySize[q]?g.bidsBySize[q]=[f]:(g.bidsBySize[q].push(f),g.bidsBySize[q].sort(r)),null==g.bidsByBidder[m.bidder]?g.bidsByBidder[m.bidder]=[f]:(g.bidsByBidder[m.bidder].push(f),g.bidsByBidder[m.bidder].sort(r)))}w=Object.keys(g.bidsByBidder);for(b=0;b<w.length;b++)g.biddersByCpm.push(g.bidsByBidder[w[b]][0]);g.biddersByCpm.sort(r);g.bidsByCpm.sort(r)}if(null==g.adIdsSelected)if(g.adIdsSelected=
[],0==g.bidsByCpm.length)h.mm.log("Error: no bids or fallbacks for ad unit: "+y.code);else if(e){if(g.adPickResult=e(g.bidsByCpm),t=null===(u=g.adPickResult)||void 0===u?void 0:u.picks)for(y=0;y<t.length;y++)g.adIdsSelected.push(t[y].adId)}else for(u=g.bidsByCpm,e=-1,h.config.minBid&&("object"===typeof h.config.minBid?(e=null!==(p=h.config.minBid.default)&&void 0!==p?p:-1,h.config.minBid[h.mm.locationData.countryCode]&&(e=h.config.minBid[h.mm.locationData.countryCode]),p=h.mm.getTopHost(),h.config.minBid[p]&&
(e=h.config.minBid[p])):"number"===typeof h.config.minBid&&(e=null!==(n=h.config.minBid)&&void 0!==n?n:-1)),y.minBid&&("object"===typeof y.minBid?(e=null!==(v=y.minBid.default)&&void 0!==v?v:-1,y.minBid[h.mm.locationData.countryCode]&&(e=y.minBid[h.mm.locationData.countryCode]),p=h.mm.getTopHost(),y.minBid[p]&&(e=y.minBid[p])):"number"===typeof y.minBid&&(e=Math.max(e,y.minBid))),v=0;v<u.length;v++){f=u[v];n=null!=h.config.FALLBACK_FORCE_PERCENT?h.config.FALLBACK_FORCE_PERCENT:.05;p=!1;h.config.GAM&&
(n=0);Math.random()<n&&(p=!0);try{n=0,y.fallback.minBid&&("object"===typeof y.fallback.minBid?(n=null!==(t=y.fallback.minBid.default)&&void 0!==t?t:-1,y.fallback.minBid[h.mm.locationData.countryCode]&&(n=y.fallback.minBid[h.mm.locationData.countryCode])):"number"===typeof y.fallback.minBid&&(n=Math.max(e,y.fallback.minBid))),"fallback"==f.bidder||isNaN(f.cpm)||!(-1==e||f.cpm>=e)||p?"fallback"==f.bidder&&f.cpm>=n&&g.adIdsSelected.push(f.adId):g.adIdsSelected.push(f.adId)}catch(da){}}a.bestBid=g}g.curRenderIndex!=
c&&g.selectAd(c);return g}function f(a){if(!a.initAdserverSet){a.initAdserverSet=!0;var b={nextAd:function(a){null==a.renderIndex&&(a.renderIndex=0);a.renderIndex++;return(a=e(a,a.adUnitPath,a.renderIndex))&&"none"!=a.kind?!0:!1},pickAds:function(a,b,c){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));(a=b.bestBid=e(b,b.adUnitPath,b.renderIndex,!1,c))&&a.isBannerHB()&&"cpmstar"==a.hb_bidder&&a.bidResponse&&a.bidResponse.creativeMacros?b&&b.js&&b.js.res&&(b.js.res.getResponseData=
function(a){return{creativemacros:a}}.bind(h,a.bidResponse.creativeMacros)):b&&b.js&&b.js.res&&(b.js.res.getResponseData=null);return a.adPickResult}.bind(h,d),getAdTypeAvailable:function(a,b){null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));return(b.bestBid=e(b,b.adUnitPath,b.renderIndex)).getAdType()}.bind(h,d),renderAd:function(a,b,c,d,f){void 0===f&&(f={});null==b.renderIndex&&(b.renderIndex=0,b.bestBid&&(b.bestBid=null));null==d&&(d=function(){});var l=h.getAdUnitByPath(b.adUnitPath),
k=e(b,b.adUnitPath,b.renderIndex),m=l.fallback,q=d;d=function(){q()};h.mm.log("bestbid is kind: "+k.kind);window.context&&window.context.reportRenderedEntityIdentifier&&("hb"==k.kind&&k.hb_bidder?window.context.reportRenderedEntityIdentifier("cpms_"+k.hb_bidder+"_"+k.hb_bidder):"fallback"==k.kind&&m&&m.creative&&m.creative.creativemacros&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+m.poolid+"_"+m.creative.creativemacros.CLICKURL));var u=k.hb_bidder;if(h.config.checkBid&&"number"===
typeof h.config.checkBid&&Math.random()<=h.config.checkBid){for(var p=["ix","openx","pubmatic","onemobile","appnexus"],n=!1,r=0;r<p.length;r++){var v=p[r];if(null!=k.bidsByBidder[v]&&.03<k.bidsByBidder[v][0].cpm){n=!0;break}}n||(l.blockGam=!0)}!h.useGam||l.blockGam||f&&f.blockGam||!(p=a.getAdserverTargetingForAdUnitCode?a.getAdserverTargetingForAdUnitCode(l.code):null)||(u=p.hb_bidder);var t=null;if("hb"==k.kind||!(!h.useGam||l.blockGam||f&&f.blockGam)&&u)for(p=0;p<l.bids.length&&!(l.bids[p].bidder==
u&&(t=l.bids[p],.5<Math.random()));p++);if(0!=b.renderIndex||!h.useGam||l.blockGam||f&&f.blockGam||null==l.gamAdSlot||null==l.gamCampaignid||null==m||null==m.poolid)if(k.isVideoFallback())b.js.res.getResponseData=function(){k=e(b,b.adUnitPath,b.renderIndex);return m.creatives[k.fallbackCreativeIndex]},d();else if(k.isInstreamHB()){var w=function(){a.markWinningBidAsUsed({adUnitCode:l.code,adId:k.hb_adid})};k.bidResponse?((c=k.bidResponse.vastUrl)&&"appnexus"!=k.bidResponse||!k.bidResponse.videoCacheKey||
(c="https://prebid.adnxs.com/pbc/v1/cache?uuid="+k.bidResponse.videoCacheKey),k.bidResponse.vastXml?(b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:k.bidResponse.vastXml}}},d(),w()):c?fetch(c).then(function(a){return a.text()}).then(function(a){b.js.res.getResponseData=function(){return{creativemacros:{HTML5VID_VASTSTRING:a}}};d();w()}).catch(function(a){b.js.res.getResponseData=null;b.js.res.getError=function(){return a};d();w()}):(b.js.res.getResponseData=null,d(),
w())):(b.js.res.getResponseData=null,d(),w());null!=t&&null!=m&&null!=m.poolid&&(c=k.rawCPM*m.poolid/37.47,"cpmstar"!=t.bidder&&h.mm.getScript(h.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+t.campaignid+"&sp="+c))}else if(k.isOutstreamHB()){h.mm.getModuleByPath(b.adUnitPath);a.renderAd(window.document,k.hb_adid);var y=l.bid;h.mm.log("winning bidder "+k.hb_bidder+" with bid "+k.bid);null!=t&&null!=m&&null!=m.poolid&&(c=k.rawCPM*m.poolid/37.47,"cpmstar"!=t.bidder&&h.mm.getScript(h.mm.serverroot+
"/nc.aspx?poolid="+m.poolid+"&campaignid="+t.campaignid+"&sp="+c));y&&y.adResponse&&Array.isArray(y.adResponse.ads)&&y.adResponse.ads.length&&y.adResponse.ads[0].rtb&&y.adResponse.ads[0].rtb.video&&y.adResponse.ads[0].rtb.video.content?b.js.res.getResponseData=function(){return y.adResponse.ads[0].rtb.video.content}:(h.mm.log("Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"),b.js.res.getResponseData=null,b.js.res.getError=function(){return"Invalid Outstream HB BidResponse - missing bid.adResponse.ads[0].rtb.video.content"});
d()}else if(k.isBannerFallback()||k.isBannerHB()||k.isPremiumHB())if(c=g(c),f=c.contentWindow.document,"hb"==k.kind&&k.hb_adid){try{h.mm.log("Rendering hb-adid:"+k.hb_adid),a.renderAd(f,k.hb_adid)}catch(da){h.mm.log("error during renderAd "+da)}h.mm.log("winning bidder "+k.hb_bidder+" with bid "+k.bid);null!=t&&null!=m&&null!=m.poolid&&(c=k.rawCPM*m.poolid/37.47,"cpmstar"!=t.bidder&&(c=h.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+t.campaignid+"&sp="+c,0<b.renderIndex&&(c+="&defaultcampaignid="+
t.campaignid),h.mm.getScript(c)));d()}else{if("fallback"==k.kind){u=k.fallbackCreativeIndex;null==u&&(u=0);var A=m.creatives[u];(u=A.code)?(A.px_cr&&(u+="\n"+("<img width=0 height=0 src='"+A.px_cr+"' />")),c.width=A.width?A.width:m.width,c.height=A.height?A.height:m.height,f.write("<HTML><BODY>"+u+"</BODY></HTML>"),f.close()):b.js.res.getResponseData=function(){return A};d()}}else{if(k.isJsonFallback()){u=k.fallbackCreativeIndex;var C=m.creatives[u];b.js.res.getResponseData=function(){return C}}d()}else x.cmd.push(function(){a.que.push(function(){var c=
document.getElementById(b.js.getRenderTargetDivID());c&&c.classList.add("cpmstar_googlead");x.display(b.js.getRenderTargetDivID());a.setTargetingForGPTAsync([l.code]);l.gamAdSlot.setTargeting("cpms_prebid","1");h.mm.log("bidderInfo bidder:"+(t?t.bidder:"null")+" with campaign id: "+(t?t.campaignid:"null"));null!=t&&"cpmstar"!=t.bidder&&l.gamAdSlot.setTargeting("cpms_hb_campaignid",""+t.campaignid);l.gamAdSlot.setTargeting("cpms_gam_campaignid",""+l.gamCampaignid);l.gamAdSlot.setTargeting("cpms_poolid",
""+m.poolid);x.pubads().refresh([l.gamAdSlot]);null!=m&&null!=m.poolid&&h.mm.getScript(h.mm.serverroot+"/nc.aspx?poolid="+m.poolid+"&campaignid="+l.gamCampaignid+"&sp="+k.rawCPM*m.poolid/37.47)})})}.bind(h,d)};h.res=b;a.status="complete";a.batchRequestMode&&(h.status=a.status);h.triggerAllModuleCallbacks(a.modcb,h.res,function(b){var c=b.module;b=h.getAdUnitByPath(c.adUnitPath);c=b.fallback?b.fallback:c.fallback;return h.useGam&&!b.blockGam&&b.gamAdSlot||null!=c&&null!=c.bid&&c.requestId==a.requestId})}}
var h=this;if(h.mm.isOptedOut())this.mm.log("Cannot make attempt - opted out");else{this.mm.log("Making attempt for "+c.length+" modules at"+this.mm.getTimeElapsed());for(var k=0;k<c.length;k++)this.mm.log("  - module "+k+": "+c[k].module.info.name+" kind: "+c[k].module.kind);var p=h.config.PREBID_TIMEOUT?h.config.PREBID_TIMEOUT:1E3,n=h.config.FAILSAFE_TIMEOUT?h.config.FAILSAFE_TIMEOUT:p+2E3,T={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"cpmstar.com",sid:""+h.config.publisherid,
hp:1}]}};h.config.UAM&&(window.apstag||(window.apstag={init:function(){window.apstag._Q.push(["i",arguments])},fetchBids:function(){window.apstag._Q.push(["f",arguments])},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),window.apstag.init({pubID:"28665ab5-73ac-478f-8407-81f69645e5c9",adServer:"googletag",schain:T.config}));d=window.starpbjs=window.starpbjs||{};d.que=d.que||[];var x=null;if(h.useGam||h.mm.coppa)x=window.googletag=window.googletag||{},x.cmd=x.cmd||[],x.cmd.push(function(){x.pubads().disableInitialLoad()}),
h.mm.coppa&&x.cmd.push(function(){x.pubads().setPrivacySettings({childDirectedTreatment:!!h.mm.coppa})}),h.mm.isOptedOut()&&x.cmd.push(function(){x.pubads().setPrivacySettings({})});if(h.config.bidderSettings){for(var M={},X=Object.keys(h.config.bidderSettings),z=0;z<X.length;z++){var B=X[z],N=h.config.bidderSettings[B];M[B]={bidCpmAdjustment:function(a,b){return b*N.bidAdjustment}}}d.bidderSettings=M}d.que.push(function(){var a,c,g,f={enableSendAllBids:!1,priceGranularity:"dense",useBidCache:!0,
cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:h.config.iframeSyncAllowedBidders?h.config.iframeSyncAllowedBidders:b,filter:"include"},image:{bidders:"*",filter:"include"}},syncDelay:5500},s2sConfig:h.GetS2SConfig(),bidderSequence:"random",schain:T,floor:{}};h.config.bdomain&&(f.bdomain=h.config.bdomain);null!=h.mm.coppa&&(f.coppa=!!h.mm.coppa);if(null===(g=null===(c=null===(a=h.mm.zonedata)||void 0===a?void 0:a.options)||void 0===c?void 0:c.cmp)||void 0===
g?0:g.atsid)f.userSync.userIds=[{name:"identityLink",params:{pid:"13471"},storage:{type:"cookie",name:"idl_env",expires:7}}];d.setConfig(f);d.setBidderConfig({bidders:["oftmedia"],config:{schain:{validation:"relaxed",config:{ver:"1.0",complete:1,nodes:[{asi:"152media.info",sid:"152M36",hp:1}]}}}});a={};h.mm.isUserInEU()&&(a.gdpr={cmpApi:"iab",timeout:8E3,defaultGdprScope:!0});h.mm.isUserInCA()?a.usp={cmpApi:"iab",timeout:8E3}:a.usp={cmpApi:"static",timeout:0,consentData:{getUSPData:{uspString:"1---"}}};
d.setConfig({consentManagement:a})});var t=(M=c==h.modcb)?h.requestBidsData:null;t||(t={requestId:Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),batchRequestMode:M,requestBidsConfig:{bidsBackHandler:null,timeout:p},attempts:h.attempts,modcb:[],status:"preflight"},t.batchRequestMode&&(h.status=t.status),t.batchRequestMode&&(h.requestBidsData=t));"preflight"!==t.status&&h.mm.log("Error -- trying to add new request to requestBidsData while not preflight - this shouldnt happen");
for(p=0;p<c.length;p++){M=c[p];X=!1;for(z=0;z<t.modcb.length;z++)t.modcb[z].module.info.name==M.module.info.name&&(X=!0);X||t.modcb.push(c[p])}if(0==this.attempts)for(p=0;p<h.config.adUnits.length;p++)M=h.config.adUnits[p],null==M.bids&&(M.bids=[]),M.mediaTypes.video&&"outstream"==M.mediaTypes.video.context&&(M.renderer={url:"//imasdk.googleapis.com/js/sdkloader/ima3.js",render:function(a){this.bid=a}.bind(M)});t.requestBidsConfig.adUnitCodes||(t.requestBidsConfig.adUnitCodes=[]);for(p=0;p<c.length;p++)(M=
c[p].module.adUnitPath)&&0>t.requestBidsConfig.adUnitCodes.indexOf(M)&&t.requestBidsConfig.adUnitCodes.push(M);var O=[];p=function(){var a=h.config.adUnits[k];if(a.mediaTypes&&a.mediaTypes.banner&&a.mediaTypes.banner.sizes)for(var b=a.mediaTypes.banner.sizes,d=0;d<b.length;d++)if(h.mm.isDesktop()&&2==b[d].length){var g=b[d][0],f=b[d][1];216==g&&36==f?(b.splice(d,1),d--):300==g&&50==f?(b.splice(d,1),d--):320==g&&50==f&&(b.splice(d,1),d--)}U=(Y=c.filter(function(b){return a&&b.module&&b.module.adUnitPath==
a.code}))&&0<Y.length?Y[0]:null;if(a&&a.fallback&&a.fallback.poolid&&U&&U.instance){if(h.useGam&&!a.blockGam&&a.gamAdUnitCode&&a.mediaTypes.banner&&null==a.gamAdSlot){Q={bidder:"cpmstar",params:{placementId:a.fallback.poolid},campaignid:null};if(ja=h.getViewAspxKVPObject())Q.params.kvp=ja;0==a.bids.filter(function(a){return"cpmstar"==a.bidder}).length&&a.bids.push(Q);x.cmd.push(function(a,b){var c="";h.config.GAMCHILDNETWORKCODE?c=","+h.config.GAMCHILDNETWORKCODE:a.gamChildNetworkCode&&(c=","+a.gamChildNetworkCode);
null==a.gamAdSlot&&(a.gamAdSlot=x.defineSlot("/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,a.mediaTypes.banner.sizes,b.instance.getRenderTargetDivID()).addService(x.pubads()));h.config.UAM&&(t.apSlots=t.apSlots?t.apSlots:[],t.apSlots.push({slotName:"/80148797"+c+"/ca-pub-7020262665364086-tag/"+a.gamAdUnitCode,slotID:b.instance.getRenderTargetDivID(),sizes:a.mediaTypes.banner.sizes}));x.pubads().enableSingleRequest();x.enableServices()}.bind(null,a,U))}a.added||(u.macroReplace(h.mm,
a,null,["gamAdSlot"]),O.push(a),a.added=!0)}};var Y,U,Q,ja;for(k=0;k<h.config.adUnits.length;k++)p();var F=function(){var a,b;if((null===(b=null===(a=h.mm.zonedata)||void 0===a?void 0:a.options)||void 0===b?0:b.pubmaticid)&&d.getUserIdsAsEids){var c=window.PWT;c&&"function"==typeof c.getUserIds&&O.forEach(function(a){a.bids.forEach(function(a){a.userId=c.getUserIds();a.userIdAsEids=d.getUserIdsAsEids()})})}d.addAdUnits(O);"preflight"!=h.status||t.inflight||(t.inflight=!0,t.requestBidsConfig.bidsBackHandler=
function(a){h.mm.debug&&a&&(h.mm.log("Prebid Bid Responses:"),h.mm.log(a));if(h.config.bdomain&&a&&"object"==typeof a)for(var b=Object.keys(a),c=0;c<b.length;c++){var g=a[b[c]];if("object"==typeof g&&(g=g.bids)&&Array.isArray(g))for(var e=0;e<g.length;e++)h.isBlockedBid(g[e])&&(h.mm.debug&&h.mm.log("Blocked bid "+g[e]),d.markWinningBidAsUsed(g[e]))}t.prebidBidsBack=!0;h.config.UAM&&!t.apsBidsBack||f(this)}.bind(t),setTimeout(function(){h.mm.log("Prebid timeout");f(this)}.bind(t),n),setTimeout(function(){t.status=
"pending";t.batchRequestMode&&(h.status=t.status);h.mm.log("Requesting bids at:"+h.mm.getTimeElapsed());h.config.UAM&&t.apSlots&&window.apstag.fetchBids({slots:t.apSlots},function(a){x.cmd.push(function(){window.apstag.setDisplayBids();t.apsBidsBack=!0;a&&(h.mm.log("Amazon Bid Responses:"),h.mm.log(a));t.prebidBidsBack&&f(this)})});d.requestBids(this.requestBidsConfig);h.getFallbackBids(this,this.modcb);h.requestBidsData=null}.bind(this),50))}.bind(t);h.useGam?x.cmd.push(function(){d.que.push(F)}):
d.que.push(F);a||null==h.config.pbjsfile||(a=!0,h.mm.getScript(h.mm.cdnroot+"/cached/zonemasters/lib/prebid/"+h.config.pbjsfile+"%%ver%%",function(){}));!h.useGam&&!h.mm.coppa||m||(h.mm.getScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js",function(){}),h.config.UAM&&h.mm.getScript("https://c.amazon-adsystem.com/aax2/apstag.js",function(){}),m=!0)}};c.prototype.getFallbackBids=function(a,b){for(var c=this,d=0;d<c.config.adUnits.length;d++){var g=c.config.adUnits[d];if(!(0>a.requestBidsConfig.adUnitCodes.indexOf(g.code))){var f=
g.fallback;if(null!=f&&null!=f.poolid){var e=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36);window[e]=function(d,g){return function(f){c.mm.log("fallback response");if(null!=f){var e=f.creatives;if(null!=e&&0!=e.length){var h=e[0];f=f.pks?f.pks:h.pks;null==f&&(f=0);g.requestId=a.requestId;g.bid=37.47*parseFloat(f)/g.poolid;g.bid*=null!=c.config.FALLBACK_BID_MULTIPLIER?c.config.FALLBACK_BID_MULTIPLIER:.95;g.creatives=e;g.creative=h;a.initAdserverSet&&null!=
c.res&&c.triggerModuleCallback(b,c.res,function(a){return a.module.adUnitPath==d.code&&null!=a.cb})}}}}(g,f);if(!c.useGam||g.blockGam||null==g.gamAdUnitCode){f=this.getViewAspxBaseUrl()+"poolid="+f.poolid+"&json=c_mp&mv=1";if(c.blockGam||g.blockGam)f+="&gampb=1";g.mediaTypes&&g.mediaTypes.video&&g.mediaTypes.video.playerSize&&(f+="&multi=3",g=g.mediaTypes.video.playerSize,Array.isArray(g[0])&&(g=g[0]),f+="&w="+g[0],f+="&h="+g[1]);f+="&callback="+e;f+="&referer="+window.encodeURIComponent(location.protocol+
"//"+location.host+location.pathname);c.mm.getScript(f)}}}}};return c}(e.default);k.default=n},"./src/zonemasters/requests/skinrequest.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(k,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var d in f)f.hasOwnProperty(d)&&(b[d]=f[d])};return e(k,f)};return function(k,f){function b(){this.constructor=k}e(k,f);k.prototype=null===f?Object.create(f):(b.prototype=f.prototype,
new b)}}();Object.defineProperty(k,"__esModule",{value:!0});e=function(e){function k(f){f=e.call(this,f)||this;f.getMacroMaps=function(){return[{IMAGEURL:"LEFTIMAGEURL"},{IMAGEURL:"RIGHTIMAGEURL"}]};return f}r(k,e);return k}(n("./src/zonemasters/requests/editorialrequest.ts").default);k.default=e},"./src/zonemasters/requests/starbannerrequest.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(k,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=
f}||function(b,f){for(var d in f)f.hasOwnProperty(d)&&(b[d]=f[d])};return e(k,f)};return function(k,f){function b(){this.constructor=k}e(k,f);k.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}}();Object.defineProperty(k,"__esModule",{value:!0});e=function(e){function k(f){return e.call(this,f)||this}r(k,e);k.prototype.makeAttempt=function(f){var b=this,e=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),d=this.getViewAspxBaseUrl();d+=
"poolid="+this.config.poolid+"&json=c_mp&callback="+e;this.config.multi&&(d+="&multi="+this.config.multi);1==f.length&&f[0].module&&f[0].module.options&&f[0].module.options.roadblock&&(d+="&ROADBLOCK="+f[0].module.options.roadblock);d+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);b.mm.getScript(d,function(){});b.config.width&&b.config.height&&window.context&&window.context.requestResize(b.config.width,b.config.height);window[e]=function(a){var d=a.creatives;
if(null==d||0==d.length||null==d[0].code||""==d[0].code)b.res=null,b.status="failed";else{var g={getAdTypeAvailable:function(a){return"banner"},renderAd:function(a,g){b.renderBanners(g,d,a)}.bind(b)};window.context&&window.context.reportRenderedEntityIdentifier&&a&&a.creatives&&a.creatives[0]&&a.creatives[0].creativemacros&&a.creatives[0].creativemacros.CLICKURL&&window.context.reportRenderedEntityIdentifier("cpms_cpmstar_"+b.config.poolid+"_"+a.creatives[0].creativemacros.CLICKURL);b.res=g}b.triggerAllModuleCallbacks(f,
b.res)}.bind(b)};return k}(n("./src/zonemasters/requests/superrequest.ts").default);k.default=e},"./src/zonemasters/requests/starjsonrequest.ts":function(e,k,n){var r=this&&this.__extends||function(){var e=function(k,f){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var d in f)f.hasOwnProperty(d)&&(b[d]=f[d])};return e(k,f)};return function(k,f){function b(){this.constructor=k}e(k,f);k.prototype=null===f?Object.create(f):(b.prototype=f.prototype,
new b)}}();Object.defineProperty(k,"__esModule",{value:!0});e=function(e){function k(f){return e.call(this,f)||this}r(k,e);k.prototype.makeAttempt=function(f){e.prototype.makeAttempt.call(this,f);var b=this,l=Math.floor(10+26*Math.random()).toString(36)+Math.floor(99999999*Math.random()).toString(36),d=this.getViewAspxBaseUrl();d+="poolid="+this.config.poolid+"&rnd="+this.rnd;if(this.config.vast){d+="&fv=0&mv=1&json=c_m";if(this.config.width||this.config.w)d+="&w="+(this.config.w?this.config.w:this.config.width);
if(this.config.height||this.config.h)d+="&h="+(this.config.h?this.config.h:this.config.height)}d+="&callback="+l;this.config.json&&(d+="&json="+this.config.json);this.config.multi&&(d+="&multi="+this.config.multi);this.config.requiredmacros&&(d+="&requiredmacros="+this.config.requiredmacros);d+="&referer="+window.encodeURIComponent(location.protocol+"//"+location.host+location.pathname);if(this.config.params){var a=this.config.params;d+=Object.keys(a).map(function(b){return[b,a[b]]}).reduce(function(a,
b){return a+="&"+b[0]+"="+encodeURIComponent(b[1])},"")}this.config.url&&(d=this.config.url);window[l]=function(a){var d={getAdTypeAvailable:function(a){return"none"}};b.res=d;b.status="complete";null==a||0===Object.keys(a).length&&a.constructor===Object||""===a?(b.res=null,b.status="failed"):null!=a.creatives&&0<a.creatives.length&&null!=a.creatives[0].code&&""!=a.creatives[0].code?(d.getAdTypeAvailable=function(a){return"banner"},d.renderAd=function(c,d,g){g(b.renderBanners(d,a.creatives,c))},d.getResponseData=
function(){return a}):null!=a.creatives&&0<a.creatives.length&&a.creatives[0].creativemacros&&(a.creatives[0].creativemacros.HTML5VID_VASTSTRING||a.creatives[0].creativemacros.HTML5VID_ADX||a.creatives[0].creativemacros.VIDEO1)?(d.nextAd=function(b){null==d.renderIndex?d.renderIndex=1:d.renderIndex++;return null==a.creatives||d.renderIndex>=a.creatives.length?!1:!0},d.getAdTypeAvailable=function(a){return"video"},d.renderAd=function(a,b,d){d()},d.getResponseData=function(){return a.creatives[null!=
d.renderIndex?d.renderIndex:0]}):(d.getAdTypeAvailable=function(a){return"json"},d.getResponseData=function(){return a});b.triggerAllModuleCallbacks(f,d)};this.config.jsres?setTimeout(function(){window[l](window[b.config.jsres])},0):this.config.vast&&3==this.config.vast&&this.config.url&&"undefined"!==typeof fetch?fetch(this.config.url).then(function(a){return a.text()}).then(function(a){window[l](a)}):this.mm.getScript(d)};return k}(n("./src/zonemasters/requests/superrequest.ts").default);k.default=
e},"./src/zonemasters/requests/superrequest.ts":function(e,k,n){Object.defineProperty(k,"__esModule",{value:!0});var r=n("./src/zonemasters/utils.ts");e=function(){function e(e){this.mm=e;this.rnd=Math.round(999999*Math.random());this.status=null;this.modcb=[];this.attempts=0}e.prototype.reinit=function(){};e.prototype.init=function(e){this.config=e};e.prototype.triggerModuleCallback=function(e,f,b){if(e)for(var l=0;l<e.length;l++)if(b(e[l])){e=e[l];if(null==e)break;b=e.cb;e.cb=null;null!=b&&b(f);
break}};e.prototype.triggerAllModuleCallbacks=function(e,f,b){this.status="complete";if(e)for(var l=0;l<e.length;l++)if(null==b||b(e[l])){var d=e[l].cb;e[l].cb=null;null!=d&&d(f)}};e.prototype.addCallback=function(e,f){var b=e.module;this.mm.log("  adding callback for module: "+b.info.name+" kind: "+b.kind+" at "+this.mm.getTimeElapsed());var l,d=l||(l={});d[d.NotAdded=0]="NotAdded";d[d.CallbackCompleted=1]="CallbackCompleted";d[d.CallbackPending=2]="CallbackPending";d=l.NotAdded;for(var a=0;a<this.modcb.length;a++){var k=
this.modcb[a];if(k.module.info.name==b.info.name){d=null==k.cb?l.CallbackCompleted:l.CallbackPending;break}}a=this.getStatus();d==l.NotAdded&&this.modcb.push({module:b,cb:f,instance:e});if(d==l.CallbackPending)f(null);else{if(null!=a&&"pending"==a)this.makeAttempt([{module:b,cb:f,instance:e}]);else{for(a=0;a<this.modcb.length;a++)k=this.modcb[a],k.module.info.name==b.info.name&&null==k.cb&&(k.cb=f);this.makeAttempt(this.modcb)}this.attempts++}};e.prototype.getStatus=function(){return this.status};
e.prototype.makeAttempt=function(e){null==this.status&&(this.status="pending")};e.prototype.getViewAspxKVPObject=function(){var e={};1==this.mm.coppa&&(e.tfcd=this.mm.coppa?"1":"0");this.mm.usp&&(e.usp=""+this.mm.usp);null!=this.mm.gdprApplies&&(e.gpdr=this.mm.gdprApplies?"1":"0");this.mm.gdprApplies&&null!=this.mm.getPubConsent()&&(e.gdpr_consent=""+this.mm.getPubConsent());this.mm.debug&&(e.debug="1");if(this.mm.zonedata.options&&this.mm.zonedata.options.modulus){var f=Math.round(100*this.mm.getRand())%
10;e.modulus=""+f}this.config&&this.config.params&&this.config.params.episode||!this.mm.forcecampaigngroupid||(e.forcecampaigngroupid=this.mm.forcecampaigngroupid);return e};e.prototype.getViewAspxBaseUrl=function(){var e=this.mm.serverroot;this.mm.zonedata&&this.mm.zonedata.options&&this.mm.zonedata.options.referrerRevshare&&this.mm.zonedata.zone_referrer?e+="/viewiogame.aspx?iogamereferrerdomain="+this.mm.zonedata.zone_referrer+"&":this.config&&this.config.contentid?e+="/viewzonecontent.aspx?contentid="+
this.config.contentid+"&":(e+="/view.aspx?",this.config.subpoolid&&(e+="subpoolid="+this.config.subpoolid+"&"));var f=this.getViewAspxKVPObject();(f=r.objectToQueryString(f))&&(e+=f+"&");return e};e.generateIframe=function(){var e=document.createElement("iframe");e.style.borderWidth="0";e.scrolling="no";e.marginwidth=0;e.marginheight=0;e.topmargin=0;e.leftmargin=0;e.allowtransparency=!0;e.setAttribute("marginwidth","0");e.setAttribute("marginheight","0");e.setAttribute("topmargin","0");e.setAttribute("leftmargin",
"0");e.setAttribute("allowtransparency","true");return e};e.insertNewIframe=function(e){var f=this.generateIframe();f.width="0";f.height="0";if(null!=e.sandbox)f.setAttribute("sandbox",e.sandbox),f.setAttribute("srcdoc",e.renderHtml),e.intoEl.appendChild(f);else{e.intoEl.appendChild(f);var b=f.contentWindow.document;b.write(e.renderHtml);b.close()}f.width=""+e.width;f.height=e.height;return f};e.prototype.renderBanners=function(k,f,b){var l,d,a=this.config.adspacing||30,m="",g=0,c=f[0].height?f[0].height:
this.config.height,h=this.config.multifooter||"</TD></TR></TABLE></TD>",q=this.config.multiheader||"<TABLE border=0 cellpadding=0 cellspacing=0><TR><TD>",p=this.config.multisplitter||"</TD><TD width="+a+"></TD><TD>";this.config.multi&&(m+=q);for(q=0;q<f.length;q++){var n=f[q].width?f[q].width:(null===(l=f[q].creativemacros)||void 0===l?0:l.WIDTH)?f[q].creativemacros.WIDTH:null===(d=this.config)||void 0===d?void 0:d.width;null!=n&&(0<q&&(m+=p,g+=a),m+=f[q].code,g+=n,f[q].px_cr&&(m+="\n"+("<img width=0 height=0 src='"+
f[q].px_cr+"' />")))}this.config.multi&&(m+=h);if(null!=k)return e.insertNewIframe({height:c,width:""+g,intoEl:k,renderHtml:"<HTML><BODY>"+m+"</BODY></HTML>",sandbox:b.options.sandbox});throw Error("'el' was not defined.");};return e}();k.default=e},"./src/zonemasters/superclasses/basic/componentregistry.ts":function(e,k,n){Object.defineProperty(k,"__esModule",{value:!0});e=function(){function e(){}e.GetComponentRegistry=function(){return{}};e.RegisterComponent=function(e,k){};return e}();k.default=
e},"./src/zonemasters/superclasses/basic/rootcomponent.ts":function(e,k,n){Object.defineProperty(k,"__esModule",{value:!0});e=function(){function e(e){}e.prototype.$mount=function(e){this.$el=e;return this};e.prototype.renderTemplate=function(e,k){var f="";"undefined"!==typeof window.doT&&e.template&&(e.render=window.doT.template(e.template));e.render?(f=e.data&&"function"===typeof e.data?e.data():e,f=e.render(f)):e.template&&(f=e.template);e=e.divid+".js";f=f.split("@this").join(e);k.innerHTML=f};
return e}();k.default=e},"./src/zonemasters/utils.ts":function(e,k,n){function r(a,b){if("string"!=typeof a){var c="",d;for(d in a){var g=a[d],e;if(e="@"!=d.trim()[0])e=d.trim().charCodeAt(0),e=!(48<=e&&57>=e);e?(b?(c+="#"+b+" "+d,"."==d[0]&&(c+=" , #"+b+d)):c+=d,c+="{"):c+=d+"{";for(var f in g)if(g.hasOwnProperty(f))if(e=g[f],"object"==typeof e){var k={};k[f]=e;c+=r(k,b)}else c+=f+":"+e+";";c+="}\n"}return c}return a}function p(a){var b=null;if(null==a)return b;if("object"==typeof a&&a instanceof
HTMLElement||a.constructor&&"HTMLDivElement"==a.constructor.name)b=a;else if(Array.isArray(a)){b=[];for(var d=0;d<a.length;d++)b.push(p(a[d]))}else if("object"==typeof a)for(d in b={},a)b[d]=p(a[d]);else b=a;return b}function u(a,b,d){void 0===d&&(d=null);if(null==a)return null;if(null==b||"object"!==typeof b)return a;for(var c in b){var e=void 0;d&&void 0!==(e=d(c,a,b))?a[c]=e:null==a[c]||"object"!=typeof a[c]||"object"!=typeof b[c]||Array.isArray(b[c])?Array.isArray(b)||"object"==typeof b[c]?a[c]=
p(b[c]):(e=b[c],a[c]="undefined"!==typeof e?e:a[c]):a[c]=u(a[c],b[c])}return a}function f(a,b,d){if("conditions"==a&&null!=b[a]&&null!=d[a])return b=b[a],a=d[a],a=Array.isArray(b)&&("&"==b[0]||"|"==b[0])&&Array.isArray(a)?b.concat(a):Array.isArray(b)||Array.isArray(a)?Array.isArray(b)&&"|"==b[0]?b.concat(a):Array.isArray(a)?["&"].concat([b]).concat(a):["&",b,a]:void 0,a}function b(a){a=a.split("<br");for(var b="",d=0;d<a.length;d++){var e=a[d];e=e.trim();"/"==e[0]&&">"==e[1]&&(e=e.slice(2));e=e.trim();
e.length>b.length&&(b=e)}return b}function l(a,b,d,e){void 0===d&&(d=null);void 0===e&&(e=null);if(null==b)return b;if(null==d){d={};try{d["%%REFERER%%"]=window.location.href,d["%%REFERERHOSTNAME%%"]=window.location.hostname,d["%%IP%%"]=a.getIP()}catch(W){}}null==e&&(e=[]);switch(typeof b){case "string":a=Object.keys(d);for(var c=0;c<a.length;c++){var g=a[c];if(0>e.indexOf(g)){var f=d[g];b=b.split(g).join(f)}}break;case "object":for(c=Object.keys(b),g=0;g<c.length;g++)f=c[g],0>e.indexOf(f)&&(b[f]=
l(a,b[f],d,e))}return b}function d(a){return null==a?[]:Array.isArray(a)?a:[a]}Object.defineProperty(k,"__esModule",{value:!0});k.toStringArrayLower=k.toArray=k.parsedCookies=k.objectToQueryString=k.macroReplace=k.autoFitText=k.getCtx=k.from_utf8=k.getLongestTextLine=k.mergeObjectsWithConditions=k.extendLite=k.mergeObjects=k.deepClone=k.getCssString=void 0;k.getCssString=r;k.deepClone=p;k.mergeObjects=u;k.extendLite=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};k.mergeObjectsWithConditions=
function(a,b){return u(a,b,f)};k.getLongestTextLine=b;k.from_utf8=function(a){try{return decodeURIComponent(escape(a))}catch(c){return""}};var a=null,m=null;k.getCtx=function(){a||(m=document.createElement("canvas"),a=m.getContext("2d"));return a};k.autoFitText=function(a){var c=this.getCtx(),d=getComputedStyle(a);c.font=d.fontSize+" "+d.fontFamily;var e=b(a.innerText);c=c.measureText(e).width;e=parseFloat(d.width);isNaN(e)&&0<a.clientWidth?e=a.clientWidth:isNaN(e)&&(e=a.parentElement.clientWidth);
c>=.95*e&&(c=e/c*.95,a.style.fontSize=parseFloat(d.fontSize)*c+"px")};k.macroReplace=l;k.objectToQueryString=function(a){var b="";if(a&&"object"===typeof a)for(var d=Object.keys(a),e=0;e<d.length;e++){var g=d[e],f=a[g];0<e&&(b+="&");b+=g+"="+f}return b};k.parsedCookies=function(){return document.cookie.split(";").reduce(function(a,b){b=b.split("=");b[0]=b[0].trim();b[1]=b.slice(1).join("=");a[b[0]]=b[1];return a},{})};k.toArray=d;k.toStringArrayLower=function(a){a=d(a);for(var b=0;b<a.length;b++)"string"===
typeof a[b]&&(a[b]=a[b].toLowerCase());return a}},0:function(e,k,n){e.exports=n("./src/zonemasters/mobilemodules.ts")}});
